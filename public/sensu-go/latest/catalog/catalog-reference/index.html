<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Catalog integrations reference - Sensu Docs</title>
    <meta name="generator" content="Hugo 0.101.0" />

    
    <meta name="description" content="Create integrations that allow teams to configure observability for the systems you rely on and serve them in your own Sensu Catalog.">
    
    <link rel="canonical" href="/sensu-go/latest/catalog/catalog-reference/">
    

    
      <meta name="docsearch:version" content="6.9" />
    

    

    <meta name="twitter:card" content="summary">
    <meta property="og:url" content="/sensu-go/latest/catalog/catalog-reference/">
    <meta property="og:site_name" content="Sensu Docs">
    <meta property="og:title" content="Catalog integrations reference | Sensu Go 6.9">
    <meta property="og:image" content="/images/sensu-logo-icon-dark@128px.png">
    <meta name="apple-mobile-web-app-title" content="Sensu Docs">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png">
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,500,600,700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/stylesheets/sensu.css">
    <script src="/javascripts/modernizr.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"></script>

	<script src="https://use.fontawesome.com/ea9395e21e.js"></script>
	<script src="//rum-static.pingdom.net/pa-5bacf02ccea07b00160001cc.js" async></script>

  
	<script>
    function css(element, property) {
      return window.getComputedStyle(element, null).getPropertyValue(property);
    }

    window.onload = function () {
      var span = document.createElement('span');
      span.className = 'fa';
      span.style.display = 'none';
      document.body.insertBefore(span, document.body.firstChild);

      var faScript = document.createElement('script');
      faScript.src = encodeURI('/js/vendor/fontawesome-all.min.js')

      var jQueryScript = document.createElement('script');
      jQueryScript.src = encodeURI('/js/vendor/jquery-3.4.1.min.js')
      var head = document.getElementsByTagName('head')[0];
      
      if ((css(span, 'font-family')) !== 'FontAwesome') {
        head.appendChild(faScript);
      }
      if (!window.jQuery) {
        console.log("apending jquery local script");
        head.appendChild(jQueryScript);
      }
      document.body.removeChild(span);
    };
  </script>
  <script src="/js/js-cookie.js"></script>
  <script src="/js/platformDropdowns.js"></script>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-804504629"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-804504629');
    gtag('config', 'UA-39138312-2');
  </script>
  
  </head>
  <body>


<script type="text/javascript" src="/javascripts/application.js"></script>


  
  


<header>
  <nav aria-label="Header" id="navbar">
    <label id="hamburger" for="toggle-drawer"></label>

    <a class="logo" href="/">Sensu Docs</a>
    
    
      <div class="product-picker">
  
  <div class="dropdown dropdown--products">
    
      
      <a>Sensu Go<i class="fa fa-chevron-down" aria-hidden="true"></i></a>
    
    <div class="options">
       
        
          
        
        <a href="/sensu-go/6.9/">Sensu Go</a>
       
        
          
        
        <a href="/sensu-core/1.9/">Sensu Core</a>
       
        
          
        
        <a href="/sensu-enterprise/3.8/">Sensu Enterprise</a>
       
        
          
        
        <a href="/sensu-enterprise-dashboard/2.16/">Sensu Enterprise Dashboard</a>
       
        
          
        
        <a href="/uchiwa/1.0/">Uchiwa</a>
      
    </div>
  </div>

  
  <div class="dropdown dropdown--versions">
    
    
    
    
    

    <a>
      6.9
      (latest)&nbsp;
      <i class="fa fa-chevron-down" aria-hidden="true"></i>
    </a>
    <div class="options">
      
        
          
        
          
        
          
        
          
        
      
      
      
        
        
          
          
            <a href="/sensu-go/6.9/catalog/catalog-reference/">
          
            6.9 (latest)
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.8/catalog/catalog-reference/">
          
            6.8 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.7/catalog/catalog-reference/">
          
            6.7 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.6/catalog/catalog-reference/">
          
            6.6 
          </a>
        
      
    </div>
  </div>
</div>


    

    <input id="desktop-search" class="algolia-search" type="text" placeholder="Search the docs" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
  </nav>

  
    
<div id="alerts">
  
  
  

  

  

  
</div>

    <div id="alerts">
  
  
  
</div>

  

</header>


<main class="main">
  <input class="hidden" type="checkbox" id="toggle-drawer" autocomplete="off">
<label id="backdrop" for="toggle-drawer"></label>
<aside class="drawer">
  <div class="drawer--inner">
    
    <div class="product-picker">
  
  <div class="dropdown dropdown--products">
    
      
      <a>Sensu Go<i class="fa fa-chevron-down" aria-hidden="true"></i></a>
    
    <div class="options">
       
        
          
        
        <a href="/sensu-go/6.9/">Sensu Go</a>
       
        
          
        
        <a href="/sensu-core/1.9/">Sensu Core</a>
       
        
          
        
        <a href="/sensu-enterprise/3.8/">Sensu Enterprise</a>
       
        
          
        
        <a href="/sensu-enterprise-dashboard/2.16/">Sensu Enterprise Dashboard</a>
       
        
          
        
        <a href="/uchiwa/1.0/">Uchiwa</a>
      
    </div>
  </div>

  
  <div class="dropdown dropdown--versions">
    
    
    
    
    

    <a>
      6.9
      (latest)&nbsp;
      <i class="fa fa-chevron-down" aria-hidden="true"></i>
    </a>
    <div class="options">
      
      
      
        
        
          
          
            <a href="/sensu-go/6.9/catalog/catalog-reference/">
          
            6.9 (latest)
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.8/catalog/catalog-reference/">
          
            6.8 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.7/catalog/catalog-reference/">
          
            6.7 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.6/catalog/catalog-reference/">
          
            6.6 
          </a>
        
      
    </div>
  </div>
</div>


    <input id="mobile-search" class="algolia-search" type="text" placeholder="Search the docs" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
    <nav>
      
        <ul>

  




  
  
  
  
  
  

  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    

      
      

        
        
      
    
  
    

      
      

        
        
      
    
  
    

      
      

        
        
      
    
  
    

      
      

        
        
      
    
  
    

      
      

        
        
          

          
          
          
          <li><a class="strong" href="/sensu-go/6.9">Sensu Go</a><ul>

          
          

          
            
            
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/latest/release-notes/">Release Notes</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/latest/get-started/">Get Started with Sensu</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/latest/platforms/">Platforms and Distributions</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/latest/commercial/">Commercial Features</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/latest/versions/">Supported Versions</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/latest/sensu-plus/">Sensu Plus</a></li>
              
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/latest/observability-pipeline/">
                    
                      Observability Pipeline
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/observability-pipeline/observe-entities/">
                              Entities
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-entities/entities/">Entities Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-entities/auto-register-deregister/">Auto-register and Deregister Entities</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-entities/monitor-external-resources/">Monitor External Resources</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/observability-pipeline/observe-events/">
                              Events
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-events/events/">Events Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/observability-pipeline/observe-schedule/">
                              Schedule
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/agent/">Agent Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/backend/">Backend Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/checks/">Checks Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/hooks/">Hooks Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/metrics/">Metrics Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/rule-templates/">Rule Templates Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/service-components/">Service Components Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/subscriptions/">Subscriptions Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/tokens/">Tokens Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/business-service-monitoring-sdk/">Business Service Monitoring SDK</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/augment-event-data-with-hooks/">Augment Event Data</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/prometheus-metrics/">Collect Prometheus Metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/collect-metrics-with-checks/">Collect Service Metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/business-service-monitoring/">Monitor Business Services</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-schedule/monitor-server-resources/">Monitor Server Resources</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/observability-pipeline/observe-filter/">
                              Filter
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-filter/filters/">Event Filters Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-filter/sensu-query-expressions/">Sensu Query Expressions Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-filter/reduce-alert-fatigue/">Reduce Alert Fatigue</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-filter/route-alerts/">Route Alerts</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/observability-pipeline/observe-transform/">
                              Transform
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-transform/mutators/">Mutators Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/observability-pipeline/observe-process/">
                              Process
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/handlers/">Handlers Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/pipelines/">Pipelines Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/silencing/">Silencing Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/sumo-logic-metrics-handlers/">Sumo Logic Metrics Handlers Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/tcp-stream-handlers/">TCP Stream Handlers Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/aggregate-metrics-statsd/">Aggregate StatsD Metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/handler-templates/">Create Handler Templates</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/plan-maintenance/">Plan Maintenance Windows</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/populate-metrics-influxdb/">Populate Metrics in InfluxDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/send-data-sumo-logic/">Send Data to Sumo Logic</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/send-email-alerts/">Send Email Alerts</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/send-pagerduty-alerts/">Send PagerDuty Alerts</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/observability-pipeline/observe-process/send-slack-alerts/">Send Slack Alerts</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/latest/operations/">
                    
                      Operations
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/operations/monitoring-as-code/">Monitoring as Code</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/operations/deploy-sensu/">
                              Deploy Sensu
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/hardware-requirements/">Hardware Requirements</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/install-sensu/">Install Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/deployment-architecture/">Deployment Architecture</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/configuration-management/">Configuration Management</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/generate-certificates/">Generate Certificates</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/secure-sensu/">Secure Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/secure-postgres/">Secure PostgreSQL</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/cluster-sensu/">Run a Sensu Cluster</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/use-federation/">Reach Multi-cluster Visibility</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/scale-event-storage/">Scale with Enterprise Datastore</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/datastore/">Datastore Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/deploy-sensu/etcdreplicators/">Etcd Replicators Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/operations/control-access/">
                              Control Access
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/control-access/sso/">Configure SSO Authentication</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/control-access/use-apikeys/">Use API Keys</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/control-access/create-read-only-user/">Create a Read-only User</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/control-access/create-limited-service-accounts/">Create Limited Service Accounts</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/control-access/ad-auth/">AD Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/control-access/ldap-auth/">LDAP Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/control-access/oidc-auth/">OIDC Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/control-access/apikeys/">API Keys Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/control-access/namespaces/">Namespaces Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/control-access/rbac/">RBAC Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/operations/maintain-sensu/">
                              Maintain Sensu
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/maintain-sensu/upgrade/">Upgrade Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/maintain-sensu/migrate/">Migrate from Sensu Core and Sensu Enterprise</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/maintain-sensu/tune/">Tune Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/maintain-sensu/troubleshoot/">Troubleshoot</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/maintain-sensu/disaster-recovery/">Restore Sensu Configuration</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/maintain-sensu/license/">License Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/operations/monitor-sensu/">
                              Monitor Sensu
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/monitor-sensu/log-sensu-systemd/">Log Sensu Services</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/monitor-sensu/monitor-sensu-with-sensu/">Monitor Sensu with Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/monitor-sensu/health/">Health Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/monitor-sensu/ready/">Ready Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/monitor-sensu/tessen/">Tessen Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/operations/manage-secrets/">
                              Manage Secrets
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/manage-secrets/secrets-management/">Use Secrets Management</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/manage-secrets/secrets/">Secrets Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/operations/manage-secrets/secrets-providers/">Secrets Providers Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/latest/guides/">Guides Index</a></li>
              
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/latest/sensuctl/">
                    
                      Sensuctl CLI
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/sensuctl/create-manage-resources/">Create and Manage Resources</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/sensuctl/back-up-recover/">Back Up and Recover Resources</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/sensuctl/filter-responses/">Filter Responses</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/sensuctl/environment-variables/">Set Environment Variables</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/sensuctl/sensuctl-bonsai/">Use sensuctl with Bonsai</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/latest/web-ui/">
                    
                      Web UI
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/web-ui/view-manage-resources/">View and Manage Resources</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/web-ui/search/">Search in the Web UI</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/web-ui/webconfig/">Configure the Web UI</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/web-ui/bsm-module/">Build Business Service Monitoring</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/web-ui/searches-reference/">Searches Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/web-ui/webconfig-reference/">Web UI Configuration Reference</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion current active" href="/sensu-go/latest/catalog/">
                    
                      Sensu Catalog
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/catalog/sensu-catalog/">Configure Integrations in the Sensu Catalog</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/catalog/build-private-catalog/">Build a Private Catalog</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="current" href="/sensu-go/latest/catalog/catalog-reference/">Catalog Integrations Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/catalog/catalog-api/">Catalog API</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/latest/api/">
                    
                      API
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/api/core/">
                              Core API
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/apikeys/">core/v2/apikeys</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/assets/">core/v2/assets</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/checks/">core/v2/checks</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/cluster/">core/v2/cluster</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/cluster-role-bindings/">core/v2/clusterrolebindings</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/cluster-roles/">core/v2/clusterroles</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/entities/">core/v2/entities</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/events/">core/v2/events</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/filters/">core/v2/filters</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/handlers/">core/v2/handlers</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/hooks/">core/v2/hooks</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/mutators/">core/v2/mutators</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/namespaces/">core/v2/namespaces</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/pipelines/">core/v2/pipelines</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/role-bindings/">core/v2/rolebindings</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/roles/">core/v2/roles</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/silenced/">core/v2/silenced</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/tessen/">core/v2/tessen</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/core/users/">core/v2/users</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/api/enterprise/">
                              Enterprise APIs
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/enterprise/authproviders/">enterprise/authentication/v2</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/enterprise/business-service-monitoring/">enterprise/bsm/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/enterprise/federation/">enterprise/federation/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/enterprise/pipeline/">enterprise/pipeline/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/enterprise/prune/">enterprise/prune/v1alpha</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/enterprise/searches/">enterprise/searches/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/enterprise/secrets/">enterprise/secrets/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/enterprise/datastore/">enterprise/store/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/enterprise/webconfig/">enterprise/web/v1</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/api/other/">
                              Other APIs
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/other/auth/">/auth</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/other/health/">/health</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/other/license/">/license</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/other/metrics/">/metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/other/ready/">/ready</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/api/other/version/">/version</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/latest/reference/">Reference Index</a></li>
              
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/latest/plugins/">
                    
                      Plugins
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/plugins/assets/">Assets Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/plugins/plugins/">Plugins Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/plugins/install-plugins/">Install Plugins</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/plugins/use-assets-to-install-plugins/">Use Assets to Install Plugins</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/latest/plugins/featured-integrations/">
                              Featured Integrations
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/ansible/">Ansible</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/chef/">Chef</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/aws-ec2/">EC2</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/elasticsearch/">Elasticsearch</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/email/">Email</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/graphite/">Graphite</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/influxdb/">InfluxDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/jira/">Jira</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/opentsdb/">OpenTSDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/pagerduty/">PagerDuty</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/prometheus/">Prometheus</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/puppet/">Puppet</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/rundeck/">Rundeck</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/saltstack/">SaltStack</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/servicenow/">ServiceNow</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/slack/">Slack</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/sumologic/">Sumo Logic</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/timescaledb/">TimescaleDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/latest/plugins/featured-integrations/wavefront/">Wavefront</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/latest/learn/">
                    
                      Learn Sensu
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/learn/concepts-terminology/">Concepts and Terminology</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/latest/learn/demo/">Live Demo</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          
          </ul></li>
        
      
    
  
    
  
    
  



<script>
  var acc = document.querySelectorAll('.accordion > .fa');

  for (var i = 0; i < acc.length; i++) {
    acc[i].addEventListener('click', function(e) {
      e.preventDefault();
      this.parentElement.classList.toggle('active');
    });
  }
</script>
</ul>
      
      <hr>
      <div class="drawer--footer">
        <iframe src="https://ghbtns.com/github-btn.html?user=sensu&repo=sensu-docs&type=star&count=true" frameborder="0" scrolling="0" width="170" height="20"></iframe>
        <a target="_blank" href="https://github.com/sensu/sensu-docs/issues/new?title=Docs%20Feedback&body=%3C!--Thanks%20for%20submitting%20feedback%20to%20the%20Sensu%20docs!--%3E%0A%0ALink%20to%20page%3A%20%0A%0A%23%23%23%20Feedback">Open a docs issue</a>
        <a target="_blank" href="https://github.com/sensu/sensu-docs/edit/main/content/sensu-go/6.9/catalog/catalog-reference.md">Edit this page</a>
        <a target="_blank" href="https://github.com/sensu/sensu-docs/blob/main/CONTRIBUTING.md">Read the contributing guide</a>
        
        
      </div>
    </nav>
  </div>
</aside>


  <article class="article">
    <div class="wrapper">
      <h1>Catalog integrations reference </h1>

      
        



      
      
<div class="notices commercial" ><p><strong>COMMERCIAL FEATURE</strong>: Access the Sensu Catalog and integrations in the packaged Sensu Go distribution.
For more information, read <a href="../../commercial/">Get started with commercial features</a>.</p>
</div>


<div class="notices note" ><p><strong>NOTE</strong>: The Sensu Catalog is in public preview and is subject to change.</p>
</div>

<p>The <a href="../sensu-catalog/">Sensu Catalog</a> is a collection of Sensu integrations that provide reference implementations for effective observability.
The contents of the official Sensu Catalog are periodically published with the Sensu Catalog API, which is hosted at <a href="https://catalog.sensu.io">https://catalog.sensu.io</a> and displayed within the Sensu web UI.</p>
<p>When users install integrations in the Sensu web UI, they receive prompts to enter information.
For example, the DNS Monitoring integration includes prompts for the domain name, record type, record class, servers, and port to query.
Sensu then applies the user&rsquo;s customizations to the integration&rsquo;s resource definitions and automatically deploys the integration configuration to agents in real time.
No external configuration management is required.</p>
<p>Integration definitions resemble other Sensu resources, but Sensu Go does not process them directly.
Instead, the <a href="#catalog-api-command-line-interface-tool">catalog-api</a> command line interface tool uses integration definitions along with the other files in the catalog repository, like READMEs and dashboard images, to generate a <a href="../catalog-api/">static Catalog API</a>.
The Sensu web UI uses the generated API files to determine which integrations to display in the Sensu Catalog.</p>
<p>The Sensu Catalog provides a way for you and your teams to configure powerful real-time monitoring and observability for the systems you rely on.
Integrations are self-service, and the Catalog is designed to help you scale up with fewer barriers.</p>
<h2 id="integration-example">Integration example</h2>
<p>This example shows an integration definition for NGINX monitoring.
Integration definitions are saved as the <code>sensu-integration.yaml</code> file in a <a href="#catalog-repository-example">catalog repository</a>:</p>
<div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">catalog/v1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Integration</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">nginx</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx-monitoring</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l">supported</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">monitoring</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">NGINX Monitoring</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">short_description</span><span class="p">:</span><span class="w"> </span><span class="l">Monitor NGINX service health and collect metrics</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">supported_platforms</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">darwin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">linux</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">windows</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tags</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">http</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">nginx</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">webserver</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">contributors</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;@nixwiz&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;@calebhailey&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">prompts</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Configure NGINX URL and Monitoring Thresholds</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        </span><span class="w">        </span><span class="l">Specify the NGINX stub status URL and alerting thresholds for numbers of active and waiting connections.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">default_url</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">NGINX stub status URL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Enter the NGINX stub_status URL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l">http://127.0.0.1:80/nginx_status</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx_active_warn</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">integer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Maximum active connections</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          </span><span class="l">Enter the maximum number of active connections to allow before sending a WARNING event (default is `300`)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="m">300</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx_waiting_warn</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">integer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Maximum waiting connections</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          </span><span class="l">Enter the maximum number of waiting connections to allow before sending a WARNING event (default is `30`)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="m">30</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Configure Sensu Subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        </span><span class="w">        </span><span class="l">Specify the subscriptions for Sensu agents that should execute the `nginx-metrics` check.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">array</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">items</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Sensu Subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/entity/subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="l">nginx</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline Configuration</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        Name the [pipelines] you want to use to process NGINX Monitoring integration data.
</span></span></span><span class="line"><span class="cl"><span class="sd">        [pipelines]: https://docs.sensu.io/sensu-go/latest/observability-pipeline/observe-process/pipelines/</span><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">alerts_pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Alert pipeline name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          </span><span class="l">Which pipeline do you want to use for alerts due to failures this integration detects?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/pipeline/metadata/name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">refFilter</span><span class="p">:</span><span class="w"> </span><span class="l">.labels.provider == &#34;alerts&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">incidents_pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Incident pipeline name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          </span><span class="l">Which pipeline do you want to use to process incidents due to failures this integration detects?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/pipeline/metadata/name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">refFilter</span><span class="p">:</span><span class="w"> </span><span class="l">.labels.provider == &#34;incidents&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">metrics_pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Metrics pipeline name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          </span><span class="l">Which pipeline do you want to use to process the metrics this integration collects?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/pipeline/metadata/name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">refFilter</span><span class="p">:</span><span class="w"> </span><span class="l">.labels.provider == &#34;metrics&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">resource_patches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">resource</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">CheckConfig</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx-metrics</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">patches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/command</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">            nginx-check
</span></span></span><span class="line"><span class="cl"><span class="sd">            --url {{ .annotations.metrics_nginx_url | default &#34;[[ default_url ]]&#34; }}</span><span class="w">            
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/pipelines/-</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">add</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[metrics_pipeline]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/pipelines/-</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">add</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[alerts_pipeline]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/pipelines/-</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">add</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[incidents_pipeline]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/output_metric_thresholds/0/thresholds/0/max</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[nginx_active_warn]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/output_metric_thresholds/1/thresholds/0/max</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[nginx_waiting_warn]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">post_install</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Success</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        You enabled the NGINX Monitoring integration.
</span></span></span><span class="line"><span class="cl"><span class="sd">        The `nginx-metrics` check will run for all Sensu agents with these subscriptions: [[subscriptions]].</span><span class="w">        </span></span></span></code></pre></div>
</div>


<h2 id="catalog-repository-example">Catalog repository example</h2>
<p>The repository that stores Sensu integrations must organize files in the following structure:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">integrations/
</span></span><span class="line"><span class="cl"> &lt;namespace&gt;/
</span></span><span class="line"><span class="cl">     &lt;integration_name&gt;/
</span></span><span class="line"><span class="cl">         img/
</span></span><span class="line"><span class="cl">            dashboard-1.gif
</span></span><span class="line"><span class="cl">            dashboard-2.png
</span></span><span class="line"><span class="cl">         CHANGELOG.md
</span></span><span class="line"><span class="cl">         README.md
</span></span><span class="line"><span class="cl">         logo.png
</span></span><span class="line"><span class="cl">         sensu-integration.yaml
</span></span><span class="line"><span class="cl">         sensu-resources.yaml
</span></span><span class="line"><span class="cl">     &lt;integration_name&gt;/
</span></span><span class="line"><span class="cl">         img/
</span></span><span class="line"><span class="cl">            dashboard-1.gif
</span></span><span class="line"><span class="cl">            dashboard-2.png
</span></span><span class="line"><span class="cl">         CHANGELOG.md
</span></span><span class="line"><span class="cl">         README.md
</span></span><span class="line"><span class="cl">         logo.png
</span></span><span class="line"><span class="cl">         sensu-integration.yaml
</span></span><span class="line"><span class="cl">         sensu-resources.yaml
</span></span><span class="line"><span class="cl"> &lt;namespace&gt;/
</span></span><span class="line"><span class="cl">     &lt;integration_name&gt;/
</span></span><span class="line"><span class="cl">         img/
</span></span><span class="line"><span class="cl">            dashboard-1.gif
</span></span><span class="line"><span class="cl">            dashboard-2.png
</span></span><span class="line"><span class="cl">         CHANGELOG.md
</span></span><span class="line"><span class="cl">         README.md
</span></span><span class="line"><span class="cl">         logo.png
</span></span><span class="line"><span class="cl">         sensu-integration.yaml
</span></span><span class="line"><span class="cl">         sensu-resources.yaml</span></span></code></pre></div>
</div>



<div class="notices note" ><p><strong>NOTE</strong>: In the context of catalog integration organization, &ldquo;namespace&rdquo; does not refer to the Sensu <a href="../../operations/control-access/namespaces/">role-based access control (RBAC) namespace</a>.
In catalogs, namespaces are categories for integrations.
For example, in the official Sensu Catalog, all integrations for AWS services are organized within the <a href="https://github.com/sensu/catalog/tree/main/integrations/aws"><code>aws</code> namespace</a>.</p>
</div>

<table>
<thead>
<tr>
<th>File</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>img</code></td>
<td>Images used in the integration README.md, such as screenshots of available dashboards. Image files must be GIF, JPEG, or PNG format. External image links are not supported. Optional.</td>
</tr>
<tr>
<td><code>CHANGELOG.md</code></td>
<td>Changelog for the integration. Not displayed in the web UI. Optional.</td>
</tr>
<tr>
<td><code>README.md</code></td>
<td>Help documentation for the integration, including an overview, setup steps, descriptions of the events and metrics the integration produces, and links to supplemental reference information. Sensu supports <a href="https://github.github.com/gfm/">GitHub-flavored Markdown</a> for integration READMEs. Required.</td>
</tr>
<tr>
<td><code>logo.png</code></td>
<td>Logo image to display in the web UI integration browser. Logo files must be PNG format. Required.</td>
</tr>
<tr>
<td><code>sensu-integration.yaml</code></td>
<td>Metadata for the integration, including title, description, prompts for configuration, patches for updating integration resources, and post-installation instructions. Integration metadata files must be in YAML format and must use the <code>.yaml</code> file extension (not <code>.yml</code>). Required.</td>
</tr>
<tr>
<td><code>sensu-resources.yaml</code></td>
<td>Sensu resources the integration will install, including checks, handlers, event filters, pipelines, and assets. Do not include <a href="../../operations/control-access/namespaces/">RBAC namespaces</a> in the resource definitions in the <code>sensu-resources.yaml</code> file. Resources files must be in YAML format and must use the <code>.yaml</code> file extension (not <code>.yml</code>). Required.</td>
</tr>
</tbody>
</table>
<h2 id="catalog-api-command-line-interface-tool">catalog-api command line interface tool</h2>

<div class="notices note" ><p><strong>NOTE</strong>: The catalog-api tool is an alpha feature and may include breaking changes.</p>
</div>

<p>Sensu&rsquo;s <a href="https://github.com/sensu/catalog-api">catalog-api</a> command line interface (CLI) tool generates the <a href="../catalog-api/">static Catalog API</a> to convert integration files into static API content that you can host on any HTTP web service.
The Sensu web UI uses the generated API files to determine which integrations to display in the catalog.</p>
<p>Use the catalog-api tool to <a href="#use-the-sensu-catalog-api-server-for-integration-development">generate a local Catalog API</a> for testing as you develop new integrations and to <a href="../build-private-catalog/">build and run a private catalog</a>.
Integration files must be stored in a repository that follows the required <a href="#catalog-repository-example">organizational framework</a>.</p>
<p>The catalog-api tool is written in Go.</p>
<h3 id="catalog-api-subcommands">catalog-api subcommands</h3>
<p>The catalog-api tool provides the following subcommands.</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">catalog-api catalog --help
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">USAGE
</span></span><span class="line"><span class="cl">  catalog-api catalog [flags] &lt;subcommand&gt; [flags]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">SUBCOMMANDS
</span></span><span class="line"><span class="cl">  generate  Generate a static catalog API
</span></span><span class="line"><span class="cl">  validate  Validate a catalog directory and its integrations
</span></span><span class="line"><span class="cl">  server    Serves static catalog API for development purposes
</span></span><span class="line"><span class="cl">  preview   Serves static catalog API &amp; preview catalog web application for development purposes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FLAGS
</span></span><span class="line"><span class="cl">  -integrations-dir-name integrations  path to the directory containing namespaced integrations
</span></span><span class="line"><span class="cl">  -log-level info                      log level of this command ([panic fatal error warn info debug trace])
</span></span><span class="line"><span class="cl">  -repo-dir .                          path to the catalog repository</span></span></code></pre></div>
</div>


<h4 id="generate-subcommand">Generate subcommand</h4>
<p>The generate subcommand generates the contents of a catalog repository locally in a temporary directory, <code>/tmp/generated-api/</code>.</p>
<p>Output for the generate subcommand lists the name, catalog namespace, source, and version number for all integration versions:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">../catalog-api/catalog-api catalog generate
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">10:40AM INF Found integration version name=ansible-tower-remediation namespace=ansible source=git tag=ansible/ansible-tower-remediation/20220223.0.0 version=20220223.0.0
</span></span><span class="line"><span class="cl">10:40AM INF Found integration version name=ansible-tower-remediation namespace=ansible source=git tag=ansible/ansible-tower-remediation/20220421.0.0 version=20220421.0.0
</span></span><span class="line"><span class="cl">10:40AM INF Found integration version name=aws-alb-monitoring namespace=aws source=git tag=aws/aws-alb-monitoring/20220421.0.0 version=20220421.0.0
</span></span><span class="line"><span class="cl">10:40AM INF Found integration version name=aws-ec2-monitoring namespace=aws source=git tag=aws/aws-ec2-monitoring/20220421.0.0 version=20220421.0.0
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">10:40AM INF Found integration version name=timescaledb-metrics namespace=timescaledb source=git tag=timescaledb/timescaledb-metrics/20220308.0.0 version=20220308.0.0
</span></span><span class="line"><span class="cl">10:40AM INF Found integration version name=timescaledb-metrics namespace=timescaledb source=git tag=timescaledb/timescaledb-metrics/20220421.0.0 version=20220421.0.0
</span></span><span class="line"><span class="cl">10:40AM INF Found integration version name=wavefront-metrics namespace=wavefront source=git tag=wavefront/wavefront-metrics/20220421.0.0 version=20220421.0.0
</span></span><span class="line"><span class="cl">::set-output name=release-dir::/var/folders/60/cljzzn5n05d91t4x71jx9xzm0000gn/T/3556668713/release</span></span></code></pre></div>
</div>


<p>The last line of output lists the local path for the generated catalog.</p>
<h5 id="generate-subcommand-flags">Generate subcommand flags</h5>
<p>The catalog-api generate subcommand provides the following configuration flags:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">catalog-api catalog generate --help
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">USAGE
</span></span><span class="line"><span class="cl">  catalog-api catalog generate [flags]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FLAGS
</span></span><span class="line"><span class="cl">  -integrations-dir-name integrations                          path to the directory containing namespaced integrations
</span></span><span class="line"><span class="cl">  -log-level info                                              log level of this command ([panic fatal error warn info debug trace])
</span></span><span class="line"><span class="cl">  -repo-dir .                                                  path to the catalog repository
</span></span><span class="line"><span class="cl">  -snapshot=false                                              generate a catalog api for the current catalog branch
</span></span><span class="line"><span class="cl">  -temp-dir /var/folders/60/cljzzn5n05d91t4x71jx9xzm0000gn/T/  path to a temporary directory for generated files
</span></span><span class="line"><span class="cl">  -watch=false                                                 enter watch mode, which rebuilds on file change</span></span></code></pre></div>
</div>


<h4 id="validate-subcommand">Validate subcommand</h4>
<p>The validate subcommand confirms that all files in a catalog repository are organized properly.</p>
<p>Output for the validate subcommand lists the name, catalog namespace, source, and version number for integrations found:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">../catalog-api/catalog-api catalog validate
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">10:37AM INF Found integration version name=ansible-tower-remediation namespace=ansible source=path version=99991231.0.0
</span></span><span class="line"><span class="cl">10:37AM INF Found integration version name=aws-alb-monitoring namespace=aws source=path version=99991231.0.0
</span></span><span class="line"><span class="cl">10:37AM INF Found integration version name=aws-ec2-monitoring namespace=aws source=path version=99991231.0.0
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">10:37AM INF Found integration version name=wavefront-metrics namespace=wavefront source=path version=99991231.0.0</span></span></code></pre></div>
</div>


<h5 id="validate-subcommand-flags">Validate subcommand flags</h5>
<p>The catalog-api validate subcommand provides the following configuration flags:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">catalog-api catalog validate --help
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">USAGE
</span></span><span class="line"><span class="cl">  catalog-api catalog validate [flags]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FLAGS
</span></span><span class="line"><span class="cl">  -integrations-dir-name integrations  path to the directory containing namespaced integrations
</span></span><span class="line"><span class="cl">  -log-level info                      log level of this command ([panic fatal error warn info debug trace])
</span></span><span class="line"><span class="cl">  -repo-dir .                          path to the catalog repository</span></span></code></pre></div>
</div>


<h4 id="server-subcommand">Server subcommand</h4>
<p>The server subcommand starts a webserver to serve the JSON files the catalog-api tool generates.
To view your catalog in the Sensu web UI while running the server subcommand, you must also configure a Sensu backend and create a GlobalConfig resource to point to the webserver.</p>
<p>The last line of the server subcommand response provides the address to use to view the content the catalog-api tool is serving the web UI in your browser.
For example:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">10:00AM INF Found integration version name=ansible-tower-remediation namespace=ansible source=git tag=ansible/ansible-tower-remediation/20220223.0.0 version=20220223.0.0
</span></span><span class="line"><span class="cl">10:00AM INF Found integration version name=ansible-tower-remediation namespace=ansible source=git tag=ansible/ansible-tower-remediation/20220421.0.0 version=20220421.0.0
</span></span><span class="line"><span class="cl">10:00AM INF Found integration version name=aws-alb-monitoring namespace=aws source=git tag=aws/aws-alb-monitoring/20220421.0.0 version=20220421.0.0
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">10:00AM INF Found integration version name=wavefront-metrics namespace=wavefront source=path version=99991231.0.0
</span></span><span class="line"><span class="cl">10:00AM INF API generated path=/var/folders/60/cljzzn5n05d91t4x71jx9xzm0000gn/T/2304694052
</span></span><span class="line"><span class="cl">10:00AM INF API server started address=:3003</span></span></code></pre></div>
</div>


<p>Visit your webserver address at port 3003 (for example, http://localhost:3003) to view the static Catalog API content that catalog-api is serving.</p>
<p>Click the SHA-256 checksum to view the content for all catalog versions, including the integrations in each catalog version; the JSON definition for each integration version; the catalog repository files for each integration version; and a versions.json file that lists all versions for the integration:</p>
<figure><a href="/images/go/catalog_reference/server_checksum.gif" target="_blank"><img src="/images/go/catalog_reference/server_checksum.gif"
         alt="View the API content for all catalog versions that catalog-api is serving in the browser"/></a>
</figure>

<p>Click version.json to view the contents of the version.json file for the content that catalog-api is serving:</p>
<figure><a href="/images/go/catalog_reference/server_versions_json.gif" target="_blank"><img src="/images/go/catalog_reference/server_versions_json.gif"
         alt="View the version.json file for the content that catalog-api is serving in the browser"/></a>
</figure>

<h5 id="server-subcommand-flags">Server subcommand flags</h5>
<p>The catalog-api server subcommand provides the following configuration flags:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">catalog-api catalog server --help
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">USAGE
</span></span><span class="line"><span class="cl">  catalog-api catalog server [flags]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FLAGS
</span></span><span class="line"><span class="cl">  -integrations-dir-name integrations                          path to the directory containing namespaced integrations
</span></span><span class="line"><span class="cl">  -log-level info                                              log level of this command ([panic fatal error warn info debug trace])
</span></span><span class="line"><span class="cl">  -port 8083                                                   port to use for dev server
</span></span><span class="line"><span class="cl">  -repo-dir .                                                  path to the catalog repository
</span></span><span class="line"><span class="cl">  -temp-dir /var/folders/60/cljzzn5n05d91t4x71jx9xzm0000gn/T/  path to a temporary directory for generated files
</span></span><span class="line"><span class="cl">  -watch=false                                                 enter watch mode, which rebuilds on file change
</span></span><span class="line"><span class="cl">  -without-snapshot=false                                      generate a catalog api using tags only</span></span></code></pre></div>
</div>


<h5 id="use-the-sensu-catalog-api-server-for-integration-development">Use the Sensu Catalog API server for integration development</h5>
<p>When you&rsquo;re developing integrations, it can be helpful to run the Sensu Catalog API server from your local environment so that you can preview integrations as you work.
To do this, use the server subcommand in the catalog-api command line tool.</p>

<div class="notices note" ><p><strong>NOTE</strong>: Make sure you have a local Sensu instance running with access to the Sensu web UI.</p>
</div>

<ol>
<li>
<p>Clone the Sensu Catalog API repository and navigate to the local catalog-api repository:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git clone https://github.com/sensu/catalog-api <span class="o">&amp;&amp;</span> <span class="nb">cd</span> catalog-api</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Build the catalog-api tool:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">go build</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Exit the local catalog-api repository:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">cd</span> ..</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Clone the repository that stores your Sensu integrations.
This example uses Sensu&rsquo;s public integration repository:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git clone https://github.com/sensu/catalog</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Navigate to your local copy of the repository that stores the Sensu integrations.
This example uses <a href="https://github.com/sensu/catalog">https://github.com/sensu/catalog</a>, so the repository is <code>catalog</code>:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">cd</span> ../catalog</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Run the catalog-api server subcommand:
This example uses <a href="https://github.com/sensu/catalog">https://github.com/sensu/catalog</a>, so the repository is <code>catalog</code>:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">../catalog-api/catalog-api catalog server --repo-dir . -watch</span></span></code></pre></div>
</div>

</p>
<p>The <code>.</code> in the command tells Sensu to read the catalog contents from your local environment.
Use the <code>-watch</code> flag to reload the API as you save updates in integration files so that you can see them live in the Sensu web UI.</p>
</li>
<li>
<p>Create a GlobalConfig resource that specifies a local URL for displaying the the private catalog in the Sensu web UI.
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="YML">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF | sensuctl create
</span></span></span><span class="line"><span class="cl"><span class="s">---
</span></span></span><span class="line"><span class="cl"><span class="s">type: GlobalConfig
</span></span></span><span class="line"><span class="cl"><span class="s">api_version: web/v1
</span></span></span><span class="line"><span class="cl"><span class="s">metadata:
</span></span></span><span class="line"><span class="cl"><span class="s">  name: private-catalog
</span></span></span><span class="line"><span class="cl"><span class="s">spec:
</span></span></span><span class="line"><span class="cl"><span class="s">  always_show_local_cluster: true
</span></span></span><span class="line"><span class="cl"><span class="s">  catalog:
</span></span></span><span class="line"><span class="cl"><span class="s">    url: &#34;https://127.0.0.1:3000&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    release_version: version
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span></span></span></code></pre></div>
</div>



<div class="language" data-lang="JSON">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cat <span class="s">&lt;&lt; EOF | sensuctl create
</span></span></span><span class="line"><span class="cl"><span class="s">{
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;type&#34;: &#34;GlobalConfig&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;api_version&#34;: &#34;web/v1&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;metadata&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;name&#34;: &#34;private-catalog&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">  },
</span></span></span><span class="line"><span class="cl"><span class="s">  &#34;spec&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;always_show_local_cluster&#34;: true,
</span></span></span><span class="line"><span class="cl"><span class="s">    &#34;catalog&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s">      &#34;url&#34;: &#34;https://127.0.0.1:3000&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s">      &#34;release_version&#34;: &#34;version&#34;
</span></span></span><span class="line"><span class="cl"><span class="s">    }
</span></span></span><span class="line"><span class="cl"><span class="s">  }
</span></span></span><span class="line"><span class="cl"><span class="s">}
</span></span></span><span class="line"><span class="cl"><span class="s">EOF</span></span></span></code></pre></div>
</div>




  </div>
</div>
</p>
</li>
<li>
<p>Navigate to the Catalog page in the Sensu web UI for your local instance (in this example, https://127.0.0.1:3000).
The Catalog page should include all of the integrations in your local repository and update automatically as you save local changes to your integration files.</p>
</li>
</ol>
<h4 id="preview-subcommand">Preview subcommand</h4>
<p>The preview subcommand starts a webserver like the server subcommand but also serves a preview web UI that can communicate with the Sensu backend.
If you use the preview subcommand, you do not need to interact with the Sensu backend or create a GlobalConfig resource.</p>
<p>The last line of the preview subcommand response provides the address to use to view the preview catalog in your browser.
For example:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">9:57AM INF Found integration version name=ansible-tower-remediation namespace=ansible source=git tag=ansible/ansible-tower-remediation/20220223.0.0 version=20220223.0.0
</span></span><span class="line"><span class="cl">9:57AM INF Found integration version name=ansible-tower-remediation namespace=ansible source=git tag=ansible/ansible-tower-remediation/20220421.0.0 version=20220421.0.0
</span></span><span class="line"><span class="cl">9:57AM INF Found integration version name=aws-alb-monitoring namespace=aws source=git tag=aws/aws-alb-monitoring/20220421.0.0 version=20220421.0.0
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">9:57AM INF Found integration version name=wavefront-metrics namespace=wavefront source=path version=99991231.0.0
</span></span><span class="line"><span class="cl">9:57AM INF API generated path=/var/folders/60/cljzzn5n05d91t4x71jx9xzm0000gn/T/2316699223
</span></span><span class="line"><span class="cl">9:57AM INF API server started address=:3003</span></span></code></pre></div>
</div>


<p>Visit your webserver address at port 3003 (for example, http://localhost:3003) to view a preview of the catalog in the Sensu web UI.</p>
<h5 id="preview-subcommand-flags">Preview subcommand flags</h5>
<p>The catalog-api preview subcommand provides the following configuration flags:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">catalog-api catalog preview --help
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">USAGE
</span></span><span class="line"><span class="cl">  catalog-api catalog preview [flags]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">FLAGS
</span></span><span class="line"><span class="cl">  -api-url http://localhost:8080                               host URL of Sensu installation; optional
</span></span><span class="line"><span class="cl">  -integrations-dir-name integrations                          path to the directory containing namespaced integrations
</span></span><span class="line"><span class="cl">  -log-level info                                              log level of this command ([panic fatal error warn info debug trace])
</span></span><span class="line"><span class="cl">  -port 3003                                                   port to use for dev server
</span></span><span class="line"><span class="cl">  -repo-dir .                                                  path to the catalog repository
</span></span><span class="line"><span class="cl">  -temp-dir /var/folders/60/cljzzn5n05d91t4x71jx9xzm0000gn/T/  path to a temporary directory for generated files
</span></span><span class="line"><span class="cl">  -without-snapshot=false                                      generate a catalog api using tags only
</span></span><span class="line"><span class="cl">  -without-watch=false                                         enter watch mode, which rebuilds on file change</span></span></code></pre></div>
</div>


<h2 id="catalog-tags-and-versions">Catalog tags and versions</h2>
<p>The catalog-api tool consumes and parses integration-specific git tags to manage and generate versioned integrations.
This makes it possible to give users access to earlier versions of integrations and hedge against regressions in individual integrations.</p>
<p>For example, in the <a href="https://github.com/sensu/catalog">official Sensu Catalog repository</a>, two versions of the <a href="https://github.com/sensu/catalog/tree/main/integrations/ansible/ansible-tower-remediation">Ansible Tower Remediation</a> are defined:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">git tag --list |grep ansible-tower-remediation
</span></span><span class="line"><span class="cl">ansible/ansible-tower-remediation/20220223.0.0
</span></span><span class="line"><span class="cl">ansible/ansible-tower-remediation/20220421.0.0</span></span></code></pre></div>
</div>


<p>Using these tags, the catalog-api tool would generate the following version structure, with both versions of the Ansible Tower Remediation integration:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">tree /tmp/generated-api/ -L 7
</span></span><span class="line"><span class="cl">/tmp/generated-api/
</span></span><span class="line"><span class="cl"> release
</span></span><span class="line"><span class="cl">    5029648381dff2426ea247147456b4f1227fd6d9050fa42f0660e67a218f8c87
</span></span><span class="line"><span class="cl">       v1
</span></span><span class="line"><span class="cl">     ansible
</span></span><span class="line"><span class="cl">        ansible-tower-remediation
</span></span><span class="line"><span class="cl">           20220223.0.0
</span></span><span class="line"><span class="cl">              CHANGELOG.md
</span></span><span class="line"><span class="cl">              img
</span></span><span class="line"><span class="cl">              logo.png
</span></span><span class="line"><span class="cl">              README.md
</span></span><span class="line"><span class="cl">              sensu-resources.json
</span></span><span class="line"><span class="cl">           20220223.0.0.json
</span></span><span class="line"><span class="cl">           20220421.0.0
</span></span><span class="line"><span class="cl">              CHANGELOG.md
</span></span><span class="line"><span class="cl">              img
</span></span><span class="line"><span class="cl">              logo.png
</span></span><span class="line"><span class="cl">              README.md
</span></span><span class="line"><span class="cl">              sensu-resources.json
</span></span><span class="line"><span class="cl">           20220421.0.0.json
</span></span><span class="line"><span class="cl">           versions.json
</span></span><span class="line"><span class="cl">        ansible-tower-remediation.json</span></span></code></pre></div>
</div>


<h3 id="catalog-versions">Catalog versions</h3>
<p>Catalog builds are versioned so that every previous iteration of the catalog is available.
You are not limited to providing only the most recent version of the catalog, and you can provide older versions as a fallback.</p>
<p>The <a href="#catalog-api-command-line-interface-tool">catalog-api</a> tool generates builds into a checksum-based output directory structure.
The version.json file manages the path to the latest or production catalog API content and instructs the web UI to load catalog contents from the specified checksum directory.
When you run the catalog-api generate subcommand to generate the catalog, catalog-api creates the version.json file.</p>
<p>The contents of a version.json file are similar to this example:</p>
<div class="language" data-lang="JSON">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">{
</span></span><span class="line"><span class="cl">  &#34;release_sha256&#34;: &#34;5029648381dff2426ea247147456b4f1227fd6d9050fa42f0660e67a218f8c87&#34;,
</span></span><span class="line"><span class="cl">  &#34;last_updated&#34;: 1655840571
</span></span><span class="line"><span class="cl">}</span></span></code></pre></div>
</div>


<p>If you make any changes to your integration files, the catalog-api tool will generate a new checksum directory.
To revert to an older build of the catalog, change the <code>release_sha256</code> in version.json to point to a different release directory.</p>
<h4 id="generate-version-tags">Generate version tags</h4>
<p>The <a href="#catalog-api-command-line-interface-tool">catalog-api</a> tool uses version tags to create versions of integrations and present them to users within the catalog.</p>
<p>If you update an integration, the first step in publishing the updated integration is to generate a new tag for it:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git tag &lt;integration_namespace&gt;/&lt;integration_filename&gt;/&lt;YYYYMMDD&gt;.0.0</span></span></code></pre></div>
</div>


<p>For example, to generate a new tag for an October 5, 2022 update to the <a href="https://github.com/sensu/catalog/tree/main/integrations/ansible/ansible-tower-remediation">Ansible Tower Remediation</a> integration:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git tag ansible/ansible-tower-remediation/20221005.0.0</span></span></code></pre></div>
</div>


<p>Commit your changes to git after adding the tag.
Then, run the catalog-api generate subcommand to generate a catalog that includes the tagged version:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">../catalog-api/catalog-api catalog generate</span></span></code></pre></div>
</div>


<p>If you update the integration again on the same day, update the tag to <code>&lt;YYYYMMDD&gt;.0.1</code>.
To continue the Ansible Tower Remediation example:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git tag ansible/ansible-tower-remediation/20221005.0.1</span></span></code></pre></div>
</div>


<p>Commit your changes to git.
The next time you run the catalog-api generate subcommand, it will generate a catalog that includes both tagged versions.</p>
<h2 id="private-catalogs">Private catalogs</h2>
<p>The <a href="#catalog-api-command-line-interface-tool">catalog-api</a> tool renders static HTTP API content that the Sensu web UI can consume.
This means you can create a private enterprise catalog of custom integrations and make it available to users in the Sensu web UI.</p>
<p>You can use the official Sensu Catalog repository, <a href="https://github.com/sensu/catalog">https://github.com/sensu/catalog</a>, as a starting point for building your own private catalog.
To do this, clone the repository with the <code>no-tags</code> flag to get a copy that does not include Sensu&rsquo;s tags for the existing integrations:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git clone --no-tags https://github.com/sensu/catalog</span></span></code></pre></div>
</div>


<p>The Catalog API defines integrations globally rather than by namespace.
When you create a private catalog, all integrations in your repository are available for all users across namespaces in the web UI.</p>
<p>Read <a href="../build-private-catalog/">Build a private catalog of Sensu integrations</a> for more information.</p>
<h2 id="integration-specification">Integration specification</h2>
<h3 id="top-level-attributes">Top-level attributes</h3>
<table>
<thead>
<tr>
<th>api_version</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Top-level attribute that specifies the Sensu API group and version. For integrations in this version of Sensu, the api_version should always be <code>catalog/v1</code>.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">catalog/v1</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>metadata</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Top-level scope that contains the integration&rsquo;s <code>name</code> and <code>namespace</code> information.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>Map of key-value pairs</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">nginx</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx-monitoring</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>spec</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Top-level map that includes integration <a href="#spec-attributes">spec attributes</a>.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>Map of key-value pairs</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l">supported</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">monitoring</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">NGINX Monitoring</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">short_description</span><span class="p">:</span><span class="w"> </span><span class="l">Monitor NGINX service health and collect metrics</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">supported_platforms</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">darwin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">linux</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">windows</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">tags</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">http</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">nginx</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">webserver</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="l">service</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">contributors</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;@nixwiz&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="s2">&#34;@calebhailey&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">prompts</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Configure NGINX URL and Monitoring Thresholds</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        </span><span class="w">        </span><span class="l">Specify the NGINX stub status URL and alerting thresholds for numbers of active and waiting connections.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">default_url</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">NGINX stub status URL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Enter the NGINX stub_status URL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l">http://127.0.0.1:80/nginx_status</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx_active_warn</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">integer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Maximum active connections</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          </span><span class="l">Enter the maximum number of active connections to allow before sending a WARNING event (default is `300`)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="m">300</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx_waiting_warn</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">integer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Maximum waiting connections</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          </span><span class="l">Enter the maximum number of waiting connections to allow before sending a WARNING event (default is `30`)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="m">30</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Configure Sensu Subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        </span><span class="w">        </span><span class="l">Specify the subscriptions for Sensu agents that should execute the `nginx-metrics` check.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">array</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">items</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Sensu Subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/entity/subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">default</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span>- <span class="l">nginx</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline Configuration</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        Name the [pipelines] you want to use to process NGINX Monitoring integration data.
</span></span></span><span class="line"><span class="cl"><span class="sd">        [pipelines]: https://docs.sensu.io/sensu-go/latest/observability-pipeline/observe-process/pipelines/</span><span class="w">        
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">alerts_pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Alert pipeline name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          </span><span class="l">Which pipeline do you want to use for alerts due to failures this integration detects?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/pipeline/metadata/name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">refFilter</span><span class="p">:</span><span class="w"> </span><span class="l">.labels.provider == &#34;alerts&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">incidents_pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Incident pipeline name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          </span><span class="l">Which pipeline do you want to use to process incidents due to failures this integration detects?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/pipeline/metadata/name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">refFilter</span><span class="p">:</span><span class="w"> </span><span class="l">.labels.provider == &#34;incidents&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">metrics_pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Metrics pipeline name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          </span><span class="w">          </span><span class="l">Which pipeline do you want to use to process the metrics this integration collects?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/pipeline/metadata/name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">refFilter</span><span class="p">:</span><span class="w"> </span><span class="l">.labels.provider == &#34;metrics&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">resource_patches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">resource</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">CheckConfig</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx-metrics</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">patches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/command</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">            nginx-check
</span></span></span><span class="line"><span class="cl"><span class="sd">            --url {{ .annotations.metrics_nginx_url | default &#34;[[ default_url ]]&#34; }}</span><span class="w">            
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/pipelines/-</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">add</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[metrics_pipeline]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/pipelines/-</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">add</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[alerts_pipeline]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/pipelines/-</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">add</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[incidents_pipeline]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/output_metric_thresholds/0/thresholds/0/max</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[nginx_active_warn]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/output_metric_thresholds/1/thresholds/0/max</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[nginx_waiting_warn]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">post_install</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Success</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        You enabled the NGINX Monitoring integration.
</span></span></span><span class="line"><span class="cl"><span class="sd">        The `nginx-metrics` check will run for all Sensu agents with these subscriptions: [[subscriptions]].</span><span class="w">        </span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>type</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Top-level attribute that specifies the resource type. For integrations, the type should always be <code>Integration</code>.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Integration</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h3 id="metadata-attributes">Metadata attributes</h3>
<table>
<thead>
<tr>
<th>name</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Name for the integration that is used internally by Sensu.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx-monitoring</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>namespace</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td><a href="../../operations/control-access/namespaces/">Sensu RBAC namespace</a> that the integration belongs to.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">nginx</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h3 id="spec-attributes">Spec attributes</h3>
<table>
<thead>
<tr>
<th>class</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Class to use for categorizing the integration in the web UI.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>allowed values</td>
<td><ul><li><code>community</code> for community-supported integrations</li><li><code>supported</code> for Sensu-supported integrations</li><li><code>enterprise</code> for Sensu-supported integrations that require a <a href="../../commercial/">commercial license</a></li><li><code>partner</code> for integrations supported by Sensu&rsquo;s third-party partners</ul></td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l">community</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>contributors</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>List of GitHub @usernames to display on integration detail pages in the web UI.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>Array</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">contributors</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="s2">&#34;@nixwiz&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="s2">&#34;@calebhailey&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>display_name</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Name to display for the integration in the web UI.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">display_name</span><span class="p">:</span><span class="w"> </span><span class="l">NGINX Monitoring</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>post_install</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Content to display for the final step in integration configuration.<br><br>The post_install dialog is helpful for confirming successful installation and providing instructions for any further configuration an integration may require. If you do not include a post_install array in your integration definition, Sensu will display a default &ldquo;Success&rdquo; window.<br><br>Read <a href="#post-install-attributes">Post install attributes</a> for more information.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>Array</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">post_install</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Success</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">      You enabled the NGINX Monitoring integration.
</span></span></span><span class="line"><span class="cl"><span class="sd">      The `nginx-metrics` check will run for all Sensu agents with these subscriptions: [[subscriptions]].</span><span class="w">      </span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="integration-prompts"></a></p>
<table>
<thead>
<tr>
<th>prompts</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Attributes for soliciting user-provided variable values to use in <code>resource_patches</code>. Read <a href="#prompts-attributes">Prompts attributes</a> for more information.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>Map of key-value pairs</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">prompts</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Configure NGINX URL and Monitoring Thresholds</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">      </span><span class="w">      </span><span class="l">Specify the NGINX stub status URL and alerting thresholds for numbers of active and waiting connections.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">default_url</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">NGINX stub status URL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Enter the NGINX stub_status URL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l">http://127.0.0.1:80/nginx_status</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx_active_warn</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">integer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Maximum active connections</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        </span><span class="w">        </span><span class="l">Enter the maximum number of active connections to allow before sending a WARNING event (default is `300`)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="m">300</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx_waiting_warn</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">integer</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Maximum waiting connections</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        </span><span class="w">        </span><span class="l">Enter the maximum number of waiting connections to allow before sending a WARNING event (default is `30`)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="m">30</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Configure Sensu Subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">      </span><span class="w">      </span><span class="l">Specify the subscriptions for Sensu agents that should execute the `nginx-metrics` check.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">array</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">items</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Sensu Subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/entity/subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">default</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span>- <span class="l">nginx</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline Configuration</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">markdown</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">      Name the [pipelines] you want to use to process NGINX Monitoring integration data.
</span></span></span><span class="line"><span class="cl"><span class="sd">      [pipelines]: https://docs.sensu.io/sensu-go/latest/observability-pipeline/observe-process/pipelines/</span><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">alerts_pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Alert pipeline name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        </span><span class="w">        </span><span class="l">Which pipeline do you want to use for alerts due to failures this integration detects?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/pipeline/metadata/name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">refFilter</span><span class="p">:</span><span class="w"> </span><span class="l">.labels.provider == &#34;alerts&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">incidents_pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Incident pipeline name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        </span><span class="w">        </span><span class="l">Which pipeline do you want to use to process incidents due to failures this integration detects?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/pipeline/metadata/name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">refFilter</span><span class="p">:</span><span class="w"> </span><span class="l">.labels.provider == &#34;incidents&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">question</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">metrics_pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">required</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Metrics pipeline name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">        </span><span class="w">        </span><span class="l">Which pipeline do you want to use to process the metrics this integration collects?</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/pipeline/metadata/name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">refFilter</span><span class="p">:</span><span class="w"> </span><span class="l">.labels.provider == &#34;metrics&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>provider</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Integration function to use for categorizing the integration in the web UI.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>allowed values</td>
<td><code>alerts</code>, <code>deregistration</code>, <code>discovery</code>, <code>events</code>, <code>incidents</code>, <code>metrics</code>, <code>monitoring</code>, <code>remediation</code></td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">monitoring</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>resource_patches</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Attributes that define how to apply changes to the integration resources in the <code>sensu-resources.yaml</code> file based on user responses to <a href="#integration-prompts">prompts</a>. Read <a href="#resource-patches-attributes">Resource patches attributes</a> for more information.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>Map of key-value pairs</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">resource_patches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">resource</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">CheckConfig</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx-metrics</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">patches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/command</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">          nginx-check
</span></span></span><span class="line"><span class="cl"><span class="sd">          --url {{ .annotations.metrics_nginx_url | default &#34;[[ default_url ]]&#34; }}</span><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/pipelines/-</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">add</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[metrics_pipeline]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/pipelines/-</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">add</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[alerts_pipeline]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/pipelines/-</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">add</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Pipeline</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[incidents_pipeline]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/output_metric_thresholds/0/thresholds/0/max</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[nginx_active_warn]]&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/output_metric_thresholds/1/thresholds/0/max</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;[[nginx_waiting_warn]]&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>short_description</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Brief description of the integration to display in the web UI.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">short_description</span><span class="p">:</span><span class="w"> </span><span class="l">Monitor NGINX service health and collect metrics</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>supported_platforms</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Supported platforms for the integration. Used for checks only.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>Array</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">supported_platforms</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">darwin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">linux</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">windows</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>tags</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Keywords for the integration. Used for integration searches in the web UI.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>Array</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">tags</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">http</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">nginx</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">webserver</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">service</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h4 id="post-install-attributes">Post install attributes</h4>
<p><a id="post-install-body"></a></p>
<table>
<thead>
<tr>
<th>body</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Markdown content to display in the integration post install dialog. If you specify <a href="#post-install-type"><code>type: markdown</code></a>, you must provide a <code>body</code> attribute.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">  You enabled the NGINX Monitoring integration.
</span></span></span><span class="line"><span class="cl"><span class="sd">  The `nginx-metrics` check will run for all Sensu agents with these subscriptions: [[subscriptions]].</span><span class="w">  </span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="post-install-title"></a></p>
<table>
<thead>
<tr>
<th>title</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Section title to display in the integration post install dialog. If you specify <a href="#post-install-type"><code>type: section</code></a>, you must provide a <code>title</code> attribute.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Success </span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="post-install-type"></a></p>
<table>
<thead>
<tr>
<th>type</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Type of post install content to display.<br><br>To configure a window of post install content, include a <code>type: section</code> attribute and a <code>type: markdown</code> attribute. For <code>type: section</code>, provide a <a href="#post-install-title">title</a>. For <code>type: markdown</code>, provide a <a href="#post-install-body">body</a>.<br><br>Each <code>type: section</code> attribute you add corresponds to one window of post install content; if you need more than one window of post install content, add another <code>type: section</code> attribute.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section </span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h4 id="prompts-attributes">Prompts attributes</h4>
<p><a id="prompts-body"></a></p>
<table>
<thead>
<tr>
<th>body</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Markdown content to display in a prompt. If you specify <a href="#post-install-type"><code>type: markdown</code></a>, you must include a <code>body</code> attribute. Body attributes are useful for providing instructions at the top of each prompt window.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">body</span><span class="p">:</span><span class="w"> </span><span class="p">|</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">  </span><span class="w">  </span><span class="l">Specify the NGINX stub status URL and alerting thresholds for numbers of active and waiting connections.</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>input</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Configuration attributes for <a href="#prompts-type"><code>type: question</code></a> prompts. Read <a href="#input-attributes">Input attributes</a> for more information.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>Map of key-value pairs</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">input</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">NGINX stub status URL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Enter the NGINX stub_status URL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l">http://127.0.0.1:80/nginx_status</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>name</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Variable name for use as a reference in resource patches to substitute user input for a specific attribute&rsquo;s value in an integration resource. You can also interpolate integration variable names into string templates with double square brackets (e.g. <code>Hello, [[ team ]]!</code>). Used with <a href="#prompts-type"><code>type: question</code></a> prompts.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">default_url</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>required</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>If the associated prompt requires user input, <code>true</code>. Otherwise, <code>false</code>. Used with <a href="#prompts-type"><code>type: question</code></a> prompts.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">attribute</span><span class="p">:</span><span class="w"> </span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="prompts-title"></a></p>
<table>
<thead>
<tr>
<th>title</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Section title to display in the integration prompts dialog. If you specify <a href="#post-install-type"><code>type: section</code></a>, you must provide a <code>title</code> attribute.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">Configure NGINX URL and Monitoring Thresholds</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="prompts-type"></a></p>
<table>
<thead>
<tr>
<th>type</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Type of prompt to display.<br><br>To configure a window of prompts, include a <code>type: section</code> attribute followed by a <a href="#prompts-type">title</a>. Within each window of prompts, use <code>type: question</code> attributes to collect user responses and <code>type: markdown</code> attributes to provide user instructions.<br><br>Each <code>type: section</code> attribute you add corresponds to one window of prompts; if you need more than one window of prompts, add another <code>type: section</code> attribute.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">section </span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h4 id="resource-patches-attributes">Resource patches attributes</h4>
<table>
<thead>
<tr>
<th>patches</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Updates to apply to the selected resource, in <a href="https://jsonpatch.com/">JSON Patch</a> format.<br><br>Variable substitution and templating are supported with <code>varname</code> references in double square brackets (for example, <code>Hello, [[varname]]</code>).<br><br>If an individual operation fails, Sensu considers it optional and skips it.<br><br>All patches must specify a <code>path</code>, <code>op</code> (operation), and <code>value</code>. Read <a href="#patches-attributes">Patches attributes</a> for more information.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>Map of key-value pairs</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">patches</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/command</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">      nginx-check
</span></span></span><span class="line"><span class="cl"><span class="sd">      --url {{ .annotations.metrics_nginx_url | default &#34;[[ default_url ]]&#34; }}</span><span class="w">      
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/subscriptions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l">subscriptions</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>resource</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Identification information for the Sensu API resource to patch. The resource must be included in the integration&rsquo;s <code>sensu-resources.yaml</code> file. Read <a href="#resource-attributes">Resource attributes</a> for more information.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>Map of key-value pairs</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl">- <span class="nt">resource</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">CheckConfig</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx-metrics</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h5 id="input-attributes">Input attributes</h5>
<table>
<thead>
<tr>
<th>default</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Default value to use for the associated attribute if the user does not specify a value.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l">http://127.0.0.1:80/nginx_status</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>description</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Description to display below the user input field.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l">Enter the NGINX stub_status URL</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>format</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Format for the input value. Some display formats provide helpers that simplify user input.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>allowed values</td>
<td><code>cron</code>, <code>duration</code> <code>ecmascript-5.1</code>, <code>email</code>, <code>envvar</code>, <code>hostname</code>, <code>io.sensu.selector</code>, <code>ipv4</code>, <code>ipv6</code>, <code>tel</code>, <code>url</code>, <code>sh</code>, <code>sha-256</code>, <code>sha-512</code></td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">format</span><span class="p">:</span><span class="w"> </span><span class="l">email</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="input-ref"></a></p>
<table>
<thead>
<tr>
<th>ref</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Reference to a Sensu API resource in the format <code>&lt;api_group&gt;/&lt;version&gt;/&lt;api_resource&gt;/&lt;api_field_path&gt;</code> (for example, <code>core/v2/pipelines/metadata/name</code> refers to the names of core/v2 pipelines resources).<br><br>The referenced resources are presented to the user in a drop-down selector. Sensu captures the resource the user selects as the input value.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">ref</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2/entity/subscriptions</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>refFilter</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Filters to apply to Sensu API resource <a href="#input-ref">references</a> in Sensu Query Expression (SQE) format. Sensu uses <code>refFilter</code> values to filter <code>ref</code> results.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">refFilter</span><span class="p">:</span><span class="w"> </span><span class="l">.labels.provider == &#34;alerts&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>title</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Label to display above the user input field.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l">NGINX stub status URL</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>type</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Type of input requested.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>allowed values</td>
<td><code>boolean</code>, <code>integer</code>, <code>string</code></td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">string</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h4 id="patches-attributes">Patches attributes</h4>
<table>
<thead>
<tr>
<th>op</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Patch operation to perform.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>allowed values</td>
<td><code>add</code>, <code>replace</code></td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">op</span><span class="p">:</span><span class="w"> </span><span class="l">replace</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>path</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path for the attribute to patch within the specified Sensu resource. In <a href="https://jsonpatch.com/#json-pointer">JSON Pointer</a> format, which supports array indexes such as <code>/spec/subscriptions/0</code>. Use <code>-</code> to insert values at the end of an array (for example, <code>/spec/subscriptions/-</code>).</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l">/spec/subscriptions</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>value</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Built-in or user-entered value to apply in the patch. The built-in value is <code>unique_id</code>, which randomly generates an 8-digit hexadecimal string value (e.g. 168c41a1). User-entered variables are represented by variable name references in double square brackets.</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td></td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="p">[[</span><span class="w"> </span><span class="l">subscriptions ]]</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h5 id="resource-attributes">Resource attributes</h5>
<table>
<thead>
<tr>
<th>api_version</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Sensu API group and version for the resource to patch.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>name</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Name of the resource to patch.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">nginx-metrics</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>type</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Type of the resource to patch.</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">CheckConfig</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h2 id="resource-limits">Resource limits</h2>
<p>There is no limit on the number of resources you can bundle into a single integration.
Each integration can include as many checks, event filters, handlers, and pipelines as you need to achieve your observability goals.
For example, you can develop a single host monitoring integration that installs all of the checks you want to run on every server.</p>
<h2 id="check-guidelines">Check guidelines</h2>
<p>For integrations that create checks, list the resource definitions in your <code>sensu-resources.yaml</code> file in the following order:</p>
<ol>
<li>CheckConfig</li>
<li>HookConfig</li>
<li>Secret</li>
<li>Asset</li>
</ol>
<p>The <code>sensu-integration.yaml</code> file for check resources should include at least one subscription, whether it is provided as a default or requested with a prompt.
Subscriptions should be named according to the check&rsquo;s function.
For example, a PostgreSQL monitoring check could include a subscription named <code>postgresql</code>.</p>
<p>Use the YAML <code>&gt;-</code> multiline block scalar syntax to wrap the check <code>command</code> value and make it easier to read.
For example:</p>
<div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="p">&gt;-</span><span class="sd">
</span></span></span><span class="line"><span class="cl"><span class="sd">    check-disk-usage.rb
</span></span></span><span class="line"><span class="cl"><span class="sd">    -w {{ .annotations.disk_usage_warning | default 85 }}
</span></span></span><span class="line"><span class="cl"><span class="sd">    -c {{ .annotations.disk_usage_critical | default 95 }}</span><span class="w">    </span></span></span></code></pre></div>
</div>


<p>Use tunables like <a href="../../observability-pipeline/observe-schedule/tokens/">tokens</a> in your check commands as needed, sourced from entity annotations (not labels) and with explicitly configured default values.</p>
<p>Check resources should use <a href="../../observability-pipeline/observe-schedule/checks/#interval-scheduling">interval scheduling</a> with a minimum interval of 30 seconds.
Set check <code>timeout</code> to a non-zero value that is no greater than 50% of the interval.</p>
<p>Prompts for check pipelines should use one of the following generic categories:</p>
<ul>
<li>Alerts</li>
<li>Incident management</li>
<li>Metrics</li>
<li>Events</li>
<li>Deregistration</li>
<li>Remediation</li>
</ul>
<h2 id="pipeline-guidelines">Pipeline guidelines</h2>
<p>For integrations that create pipelines, list the resource definitions in your <code>sensu-resources.yaml</code> file in the following order:</p>
<ol>
<li>Pipeline</li>
<li>Handler, SumoLogicMetricsHandler, and TCPStreamHandler</li>
<li>Filter</li>
<li>Mutator</li>
<li>Secret</li>
<li>Asset</li>
</ol>
<p>For alert and incident management pipelines, we recommend using the built-in <a href="../../observability-pipeline/observe-filter/filters/#built-in-filter-is_incident">is_incident</a> and <a href="../../observability-pipeline/observe-filter/filters/#built-in-filter-not_silenced">not_silenced</a> event filters instead of custom event filters that are configured for specific use cases.</p>
<h2 id="asset-guidelines">Asset guidelines</h2>
<p>Asset resources and their corresponding <code>runtime_assets</code> references in other Sensu resources must include an asset version reference in their resource name.
For example, <code>sensu/system-check:0.5.0</code>.</p>
<p>Asset resources should include an organization or author as the namespace in the resource name.
For example, the official Sensu PagerDuty plugin hosted in the <code>sensu</code> organization on GitHub (sensu/sensu-pagerduty-handler) and published to under the <code>sensu</code> organization on Bonsai (sensu/sensu-pagerduty-handler) should be named <code>sensu/sensu-pagerduty-handler</code>.</p>
<p>For integrations contributed to the official Sensu Catalog, asset resources in the <code>sensu-resources.yaml</code> file must refer to assets hosted on <a href="https://bonsai.sensu.io/">Bonsai</a>.
Read <a href="../build-private-catalog/">Build a private catalog of Sensu integrations</a> for information about using assets that are stored behind a firewall or are otherwise not publicly available.</p>


      <script async type="text/javascript" src="/js/clip.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
      
      




    </div>
  </article>

  <section id="sidebar">
    <aside id="contribute">
  <div id="page-rating">
    <h4>Is this page helpful?</h4>
    <fieldset class="rating">
      <input type="radio" id="heart5" name="rating" value="5">
      <label for="heart5" title="Excellent"></label>
      <input type="radio" id="heart4" name="rating" value="4">
      <label for="heart4" title="Good"></label>
      <input type="radio" id="heart3" name="rating" value="3">
      <label for="heart3" title="OK"></label>
      <input type="radio" id="heart2" name="rating" value="2">
      <label for="heart2" title="Poor"></label>
      <input type="radio" id="heart1" name="rating" value="1">
      <label for="heart1" title="Unusable"></label>
    </fieldset>
  </div>

  <div>
    <h4>Contribute:</h4>
    <ul>
      <li>
        <a href="https://github.com/sensu/sensu-docs/edit/main/content/sensu-go/6.9/catalog/catalog-reference.md" target="_blank">
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
          Edit this page
        </a>
      </li>
      <li>
        <a href="https://github.com/sensu/sensu-docs/issues/new/choose" target="_blank">
          <i class="fa fa-bug" aria-hidden="true"></i>
          Report a docs issue
        </a>
      </li>
      <li>
        <a href="https://github.com/sensu/sensu-docs/blob/main/CONTRIBUTING.md" target="_blank">
          <i class="fa fa-info-circle" aria-hidden="true"></i>
          Read the contributing guide
        </a>
      </li>
    </ul>
  </div>
</aside>

    <aside id="toc">
  
    <div>
      <h4>On this page:</h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#integration-example">Integration example</a></li>
    <li><a href="#catalog-repository-example">Catalog repository example</a></li>
    <li><a href="#catalog-api-command-line-interface-tool">catalog-api command line interface tool</a></li>
    <li><a href="#catalog-tags-and-versions">Catalog tags and versions</a></li>
    <li><a href="#private-catalogs">Private catalogs</a></li>
    <li><a href="#integration-specification">Integration specification</a></li>
    <li><a href="#resource-limits">Resource limits</a></li>
    <li><a href="#check-guidelines">Check guidelines</a></li>
    <li><a href="#pipeline-guidelines">Pipeline guidelines</a></li>
    <li><a href="#asset-guidelines">Asset guidelines</a></li>
  </ul>
</nav>
    </div>
  
</aside>

  </section>
</main>

<section id="footer">
  <div class="footer--content">

    <div class="footer--content--center">

      <div class="register">
        <img alt="Sensu Go Lizy mascot image" title="Register your Sensu installation" src="/images/lizy-logo-a.png">
        <h3>Register your Sensu installation &mdash; Get rewards!</h3>
        <p>Take 2 minutes to <a href="https://sensu.io/register"><b><u>register your installation</u></b></a> and let Sensu help you along your journey.<br>
        We'll send you a free reward when you add your first 10 checks and connect at least 10 agents!</p>
      </div>
    </div>

    <div class="footer--content--left">
      <h3>About Sensu</h3>
      <p>The Sensu monitoring event pipeline empowers businesses to automate their monitoring workflows and gain deep visibility into their multi-cloud infrastructure, from Kubernetes to bare metal. Companies like Sony, Box.com, and Activision rely on Sensu to help deliver value faster, at scale.</p>

      <div class="footer--navigation">
        <div>
          <h3>Navigation</h3>
          <ul>
            <li><a href="https://sensu.io/products">Products</a></li>
            <li>
              <ul>
                <li><a href="https://sensu.io/products/core">Sensu Core</a></li>
                <li><a href="https://sensu.io/products/enterprise">Sensu Enterprise</a></li>
              </ul>
            </li>
            <li><a href="https://sensu.io/solutions">Solutions</a></li>
            <li>
              <ul>
                <li><a href="https://sensu.io/solutions/container-monitoring">For Containers</a></li>
                <li><a href="https://sensu.io/solutions/cloud-monitoring">For Cloud</a></li>
                <li><a href="https://sensu.io/solutions/nagios-alternative">For Nagios</a></li>
              </ul>
            </li>
            <li><a href="https://sensu.io/pricing">Pricing</a></li>
          </ul>
        </div>
        <div>
          <h3>Resources</h3>
          <ul>
            <li><a href="https://sensu.io/community">Community</a></li>
            <li><a href="https://docs.sensu.io">Documentation</a></li>
            <li><a href="https://sensu.io/products/downloads">Downloads</a></li>
            <li><a href="https://account.sensu.io/">Support</a></li>
          </ul>
        </div>
        <div>
          <h3>Community</h3>
          <ul>
            <li><a href="https://sensu.io/about">About</a></li>
            <li><a href="https://blog.sensu.io/" target="_blank">Blog</a></li>
            <li><a href="https://sensu.io/customers">Customers</a></li>
            <li><a href="https://sensu.io/contact">Contact</a></li>
            <li><a href="https://sensu.io/sales">Sales</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer--content--right">
      <h3>Get In Touch</h3>
      <p>Our team is here to help. Use our <a href="https://sensu.io/contact"><b><u>contact form</b></u></a> or reach out on GitHub, Slack, or Twitter.</p>
      <ul class="inline">
        <li><a href="https://github.com/sensu" target="_blank"><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-920.000000, -4175.000000)">
              <g transform="translate(0.000000, 4008.000000)" fill="#2C3458">
                  <path d="M944,179.302423 C944,184.73279 940.5625,189.346199 935.796875,190.980114 C935.1875,191.092246 934.984375,190.707795 934.984375,190.387419 L934.984375,187.007457 C934.984375,185.854105 934.609375,185.117241 934.171875,184.73279 C936.84375,184.428433 939.65625,183.387212 939.65625,178.661672 C939.65625,177.316095 939.1875,176.210799 938.421875,175.361803 C938.546875,175.041428 938.953125,173.791963 938.296875,172.093972 C937.296875,171.773597 935,173.359456 935,173.359456 C934.046875,173.087137 933.015625,172.942968 932,172.942968 C930.984375,172.942968 929.953125,173.087137 929,173.359456 C929,173.359456 926.703125,171.773597 925.6875,172.093972 C925.046875,173.791963 925.453125,175.041428 925.578125,175.361803 C924.8125,176.210799 924.34375,177.316095 924.34375,178.661672 C924.34375,183.371194 927.140625,184.428433 929.8125,184.73279 C929.46875,185.053166 929.15625,185.581785 929.046875,186.382724 C928.359375,186.7031 926.609375,187.247739 925.5625,185.357522 C924.90625,184.188151 923.71875,184.092039 923.71875,184.092039 C922.546875,184.07602 923.640625,184.844921 923.640625,184.844921 C924.421875,185.213353 924.96875,186.639025 924.96875,186.639025 C925.671875,188.833598 929.015625,188.096734 929.015625,188.096734 C929.015625,189.121936 929.03125,190.099081 929.03125,190.387419 C929.03125,190.707795 928.8125,191.092246 928.203125,190.980114 C923.4375,189.346199 920,184.73279 920,179.302423 C920,172.51046 925.375,167 932,167 C938.625,167 944,172.51046 944,179.302423 Z"></path>
              </g>
          </g>
      </svg>
      </svg></a></li>
        <li><a href="https://slack.sensu.io/" target="_blank"><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-970.000000, -4174.000000)">
              <g transform="translate(0.000000, 4008.000000)" fill="#2C3458">
                  <path d="M983.558646,174.858722 C981.981445,175.389656 980.426,175.913367 978.850551,176.443791 C979.381566,178.019593 979.905426,179.574164 980.436149,181.149018 C982.013351,180.618084 983.568868,180.094373 985.144317,179.56395 C984.613229,177.988147 984.089442,176.433576 983.558646,174.858722 M987.341608,173.597015 C987.875471,175.177268 988.398382,176.725054 988.927352,178.290642 C989.756037,178.018937 990.556758,177.747669 991.363173,177.494204 C992.397094,177.169165 993.417872,177.616194 993.827396,178.558626 C994.288246,179.619546 993.796293,180.824125 992.708489,181.235696 C991.977422,181.512289 991.230584,181.747514 990.490901,182.001563 C990.405258,182.031112 990.320418,182.063069 990.205863,182.104583 C990.270843,182.306246 990.332611,182.502072 990.396862,182.697023 C990.599104,183.310913 990.820184,183.919332 991.000743,184.53957 C991.250662,185.398097 990.877426,186.300984 990.115766,186.758301 C989.350602,187.21766 988.359685,187.148348 987.740107,186.522857 C987.48201,186.262315 987.291814,185.904516 987.158276,185.557297 C986.881926,184.838635 986.664132,184.097501 986.41465,183.342724 C984.842632,183.872564 983.293175,184.39467 981.715316,184.926334 C981.780881,185.135657 981.839875,185.33214 981.903906,185.526945 C982.108631,186.149518 982.328324,186.767567 982.518155,187.394517 C982.876862,188.579689 982.220339,189.689565 981.01893,189.955652 C980.084524,190.162568 979.102077,189.628716 978.759651,188.702773 C978.491625,187.977983 978.253679,187.242175 978.0023,186.511256 C977.970101,186.417502 977.937538,186.32382 977.894972,186.200955 C977.176317,186.441068 976.471168,186.676877 975.765801,186.912175 C975.373216,187.043066 974.980924,187.128722 974.558915,187.042774 C973.695331,186.866793 973.028587,186.13799 972.956744,185.262317 C972.879935,184.327035 973.388828,183.514036 974.25964,183.211249 C974.963547,182.966612 975.674171,182.741237 976.381583,182.506669 C976.466496,182.478579 976.55024,182.446841 976.652603,182.410361 C976.123997,180.844627 975.601086,179.295966 975.0681,177.717318 C974.51102,177.900157 973.970732,178.081902 973.427451,178.254162 C973.037422,178.37783 972.650459,178.539437 972.249697,178.595763 C971.209351,178.742049 970.294513,178.107584 970.060948,177.128745 C969.815775,176.101533 970.325324,175.12138 971.318796,174.755556 C972.03548,174.491658 972.763335,174.258184 973.486153,174.010993 C973.579827,173.978964 973.673355,173.946496 973.79397,173.904836 C973.550914,173.175814 973.313845,172.461675 973.074512,171.74834 C972.9455,171.363911 972.86818,170.9797 972.952144,170.56864 C973.131023,169.693697 973.864792,169.035155 974.761961,168.966718 C975.677968,168.896895 976.483872,169.408859 976.785849,170.272931 C977.019633,170.941761 977.231952,171.618032 977.454565,172.290583 C977.494064,172.4098 977.537798,172.527559 977.585329,172.662317 C979.165889,172.133353 980.72586,171.61132 982.311677,171.080605 C982.104542,170.467809 981.897408,169.876609 981.705971,169.280375 C981.586962,168.909882 981.437652,168.53771 981.396401,168.156053 C981.286591,167.140296 981.9326,166.296142 982.949216,166.053402 C983.895304,165.827516 984.871253,166.334373 985.22244,167.268633 C985.503974,168.017355 985.744548,168.781398 986.00447,169.538291 C986.033236,169.622196 986.069012,169.703693 986.108439,169.804013 C986.874479,169.548505 987.622777,169.293362 988.374726,169.049601 C989.361919,168.729596 990.330567,169.104759 990.808575,169.982548 C991.399095,171.06718 990.889838,172.393822 989.71829,172.800431 C989.014237,173.044776 988.304123,173.27183 987.596931,173.507055 C987.520195,173.532518 987.444409,173.560608 987.341608,173.597015"></path>
              </g>
          </g>
      </svg></a></li>
        <li><a href="https://twitter.com/sensu" target="_blank"><svg width="24px" height="20px" viewBox="0 0 24 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-1017.000000, -4176.000000)">
                <g transform="translate(0.000000, 4008.000000)" fill="#2C3458">
                    <path d="M1038.54405,172.982073 C1038.55358,173.198827 1038.55676,173.41558 1038.55676,173.633963 C1038.55676,180.306063 1033.60511,188 1024.54749,188 C1021.76566,188 1019.17936,187.16558 1017,185.729791 C1017.38469,185.778683 1017.77732,185.79987 1018.17473,185.79987 C1020.48126,185.79987 1022.60498,184.994785 1024.28997,183.638853 C1022.13604,183.601369 1020.31594,182.139505 1019.68963,180.134941 C1019.99006,180.195241 1020.30004,180.226206 1020.61796,180.226206 C1021.06464,180.226206 1021.49861,180.162647 1021.91509,180.048566 C1019.66101,179.584094 1017.96331,177.543677 1017.96331,175.099087 L1017.96331,175.035528 C1018.62777,175.410365 1019.3876,175.640156 1020.19513,175.664602 C1018.87257,174.758475 1018.00305,173.215124 1018.00305,171.463168 C1018.00305,170.537484 1018.24467,169.672099 1018.67068,168.924055 C1021.09803,171.979791 1024.72871,173.987614 1028.82037,174.201108 C1028.73612,173.83116 1028.6932,173.443286 1028.6932,173.048892 C1028.6932,170.26043 1030.89641,168 1033.61624,168 C1035.03259,168 1036.31223,168.614407 1037.20877,169.595502 C1038.33263,169.36897 1039.38495,168.948501 1040.33872,168.369948 C1039.96834,169.54824 1039.18943,170.537484 1038.17208,171.161669 C1039.16876,171.044329 1040.11776,170.770535 1041,170.367992 C1040.33872,171.381682 1039.50576,172.269883 1038.54405,172.982073"></path>
                </g>
            </g>
        </svg>
      </a></li>
      </ul>

      <h3>Join Our Community</h3>
      <p>Become a member of the Sensu community and get access to the community Slack channel and our weekly newsletter containing updates about Sensu.</p>
      <form action="https://share.hsforms.com/10Dzh-ahWTaulALvp3xFfmQ2mwx3" target="_blank">
        <input type="email" id="EMAIL" name="email" placeholder="Your Email">
        <button type="submit">Sign Up!</button>
      </form>
    </div>
  </div>
  <footer>
    Made with <a href="https://twitter.com/hashtag/monitoringlove" target="_blank">#monitoringlove</a> by Sensu, Inc. &copy; 2013-2023 &mdash; <a href="https://sensu.io/privacy-policy" target="_blank" rel="noopener noreferrer">Privacy Policy</a>
  </footer>
</section>


<script>
$( document ).ready(function() {
  applyTipBoxes();
});

function boldFirstWord(element) {
  newElement = element.html().replace(/(^\w+)/, '<strong>$1</strong>');
  element.html(newElement);
}

function boldFirstTwoWords(element) {
  newElement = element.html().replace(/(^\w+ \w+)/, '<strong>$1</strong>');
  element.html(newElement);
}

function applyTipBoxes() {
  $('em').wrap(function() {
    if ($(this).text().includes('NOTE:')) {
      boldFirstWord($(this));
      return '<div class="alert-note"></div>';
    } else if ($(this).text().includes('WARNING:')) {
      boldFirstWord($(this));
      return '<div class="alert-warning"></div>';
    } else if ($(this).text().includes('PRO TIP:')) {
      boldFirstTwoWords($(this));
      return '<div class="alert-tip"></div>';
    } else if ($(this).text().includes('IMPORTANT:')) {
      boldFirstWord($(this));
      return '<div class="alert-important"></div>';
    }
  });
}
</script>

<script>
  
    var base_url = '';
    var repo_id  = 'sensu\/sensu-docs';
  
</script>

<script src="/javascripts/application.js"></script>
<script src="/js/toc.js"></script>


<script>
  /* Add headers to scrollspy */
  var headers   = document.getElementsByTagName("h2");
  var scrollspy = document.getElementById('scrollspy');

  if(scrollspy) {
    if(headers.length > 0) {
      for(var i = 0; i < headers.length; i++) {
        var li = document.createElement("li");
        li.setAttribute("class", "anchor");

        var a  = document.createElement("a");
        a.setAttribute("href", "#" + headers[i].id);
        a.setAttribute("title", headers[i].innerHTML);
        a.innerHTML = headers[i].innerHTML;

        li.appendChild(a)
        scrollspy.appendChild(li);
      }
    } else {
      scrollspy.parentElement.removeChild(scrollspy)
    }
  }

  /* Add permanent link next to the headers */
  var headers = document.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]");

  for(var i = 0; i < headers.length; i++) {
    var a = document.createElement("a");
    a.setAttribute("href", "#" + headers[i].id);
    a.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.3 9.2" width="18.3px"><path d="M-1.8-6.4h22v22h-22v-22z" fill="none"/><path d="M1.7 4.6C1.7 3 3 1.7 4.6 1.7h3.7V0H4.6C2.1 0 0 2.1 0 4.6s2.1 4.6 4.6 4.6h3.7V7.4H4.6C3 7.4 1.7 6.2 1.7 4.6zm3.8.9h7.3V3.7H5.5v1.8zM13.8 0h-3.7v1.7h3.7c1.6 0 2.8 1.3 2.8 2.8s-1.3 2.8-2.8 2.8h-3.7V9h3.7c2.5 0 4.6-2.1 4.6-4.6S16.3 0 13.8 0z"/></svg>';
    headers[i].appendChild(a);
  }
</script>

<script type="text/javascript" src="//script.crazyegg.com/pages/scripts/0087/0389.js" async="async"></script>

  <script>
    (function(i,s,o,g,r,a,m){
      i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
      []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
      m.parentNode.insertBefore(a,m)
    })(window, document,
      'script', '//www.google-analytics.com/analytics.js', 'ga');
     
    ga('create', 'UA-39138312-17', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
     
    var buttons = document.querySelectorAll('a');
    Array.prototype.map.call(buttons, function(item) {
      if (item.host != document.location.host) {
        item.addEventListener('click', function() {
          var action = item.getAttribute('data-action') || 'follow';
          ga('send', 'event', 'outbound', action, item.href);
        });
      }
    });
     
    var searchInputs = document.getElementsByClassName('search');
    for (var i=0; i < searchInputs.length; i++) {
      searchInputs[i].addEventListener('blur', function() {
        if (this.value) {
          var path = document.location.pathname;
          ga('send', 'pageview', path + '?q=' + this.value);
        }
      });
    }

    var dropdowns = document.getElementsByClassName('dropdown');
    for (var i=0; i < dropdowns.length; i++) {
      dropdowns[i].addEventListener('click', function(e) {
        e.stopPropagation();
        e.currentTarget.classList.toggle('open');
      });
    }
    document.addEventListener('click', function(e) {
      for (var i=0; i < dropdowns.length; i++) {
        dropdowns[i].classList.remove('open');
      };
    });

    
    var languages = {
      javascript: "JavaScript",
      json: "JSON",
      yml: "YML",
    };
    var toggles = document.getElementsByClassName('language-toggle');
    for (var i=0; i < toggles.length; i++) {
      var children = Array.prototype.slice.call(toggles[i].querySelectorAll('.language'));
      var langs = children.map(function(c) { return c.dataset.lang; });

      
      langs.forEach(function(lang) {
        var el = document.createElement('span');
        el.setAttribute('role', 'tab');
        el.setAttribute('tabindex', '0');
        el.setAttribute('data-lang', lang);
        el.innerText = languages[lang] || lang;
        el.addEventListener('click', function(e) {
          var elOffset = e.currentTarget.getBoundingClientRect().top;
          setLanguage(e.currentTarget.dataset.lang);
          e.currentTarget.scrollIntoView();
          window.scrollBy(0, -elOffset);
        });
        toggles[i].querySelector('.tabs').appendChild(el);
      });

      
      toggles[i].querySelector('.languages').children[0].classList.add('active');
    }

    
    function setLanguage(lang) {
      
      localStorage.setItem('lang', lang);

      
      var tabLists = Array.prototype.slice.call(document.querySelectorAll('.language-toggle .tabs'));
      
      tabLists.forEach(function(tabList) {
        var activeTab = tabList.querySelector('.active');
        var selectedTab = tabList.querySelector('[data-lang="' + lang + '"]');
        var allTabs = Array.prototype.slice.call(tabList.children);
        allTabs.forEach(function(t) { return t.classList.remove('active'); });
        if (selectedTab) {
          selectedTab.classList.add('active');
        } else if (activeTab) {
          activeTab.classList.add('active');
        } else {
          allTabs[0].classList.add('active');
        }
      });

      
      var selector = '.language-toggle .language[data-lang="' + lang + '"]';
      var langBlockChildren = document.querySelectorAll(selector);
      var langBlocks = Array.prototype.slice.call(langBlockChildren).map(function(el) { return el.closest('.languages'); });
      
      langBlocks.forEach(function(el) {
        Array.prototype.slice.call(el.children).forEach(function(c) {
          return c.classList.remove('active');
        })
      });
      
      langBlockChildren.forEach(function(el) { return el.classList.add('active'); });
    }
    
    setLanguage(localStorage.getItem('lang'));
  </script>



<script>
  !function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
  },s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
  a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
  twq('init','o1043');
  twq('track','PageView');
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
  var docsearchOptions = {
    appId: 'S633WESKWC',
    apiKey: '2aaea336f8b58143b17119944385071f',
    indexName: 'sensu',
    inputSelector: '#desktop-search',
    algoliaOptions: {
      facetFilters: [
        [
          
            'tags:sensu-go'
          
        ],
        [
          
            'version:6.9'
          
        ]
      ]
    },
    debug: false
  };

  if (document.querySelector(docsearchOptions.inputSelector)) {
    docsearch(docsearchOptions);
  }

  docsearchOptions.inputSelector = '#mobile-search';
  if (document.querySelector(docsearchOptions.inputSelector)) {
    docsearch(docsearchOptions);
  }
</script>

</body>
</html>

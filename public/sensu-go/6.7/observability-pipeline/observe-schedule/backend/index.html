<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Backend reference - Sensu Docs</title>
    <meta name="generator" content="Hugo 0.101.0" />

    
    <meta name="description" content="Read this reference to learn how Sensu&#39;s backend manages check requests and event data by applying filters, mutators, handlers, and the Sensu API and web UI.">
    
    <link rel="canonical" href="/sensu-go/6.7/observability-pipeline/observe-schedule/backend/">
    

    
      <meta name="docsearch:version" content="6.7" />
    

    
    <meta name="robots" content="noindex">
    

    <meta name="twitter:card" content="summary">
    <meta property="og:url" content="/sensu-go/6.7/observability-pipeline/observe-schedule/backend/">
    <meta property="og:site_name" content="Sensu Docs">
    <meta property="og:title" content="Backend reference | Sensu Go 6.7">
    <meta property="og:image" content="/images/sensu-logo-icon-dark@128px.png">
    <meta name="apple-mobile-web-app-title" content="Sensu Docs">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png">
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,500,600,700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/stylesheets/sensu.css">
    <script src="/javascripts/modernizr.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"></script>

	<script src="https://use.fontawesome.com/ea9395e21e.js"></script>
	<script src="//rum-static.pingdom.net/pa-5bacf02ccea07b00160001cc.js" async></script>

  
	<script>
    function css(element, property) {
      return window.getComputedStyle(element, null).getPropertyValue(property);
    }

    window.onload = function () {
      var span = document.createElement('span');
      span.className = 'fa';
      span.style.display = 'none';
      document.body.insertBefore(span, document.body.firstChild);

      var faScript = document.createElement('script');
      faScript.src = encodeURI('/js/vendor/fontawesome-all.min.js')

      var jQueryScript = document.createElement('script');
      jQueryScript.src = encodeURI('/js/vendor/jquery-3.4.1.min.js')
      var head = document.getElementsByTagName('head')[0];
      
      if ((css(span, 'font-family')) !== 'FontAwesome') {
        head.appendChild(faScript);
      }
      if (!window.jQuery) {
        console.log("apending jquery local script");
        head.appendChild(jQueryScript);
      }
      document.body.removeChild(span);
    };
  </script>
  <script src="/js/js-cookie.js"></script>
  <script src="/js/platformDropdowns.js"></script>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-804504629"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-804504629');
    gtag('config', 'UA-39138312-2');
  </script>
  
  </head>
  <body>


<script type="text/javascript" src="/javascripts/application.js"></script>


  
  


<header>
  <nav aria-label="Header" id="navbar">
    <label id="hamburger" for="toggle-drawer"></label>

    <a class="logo" href="/">Sensu Docs</a>
    
    
      <div class="product-picker">
  
  <div class="dropdown dropdown--products">
    
      
      <a>Sensu Go<i class="fa fa-chevron-down" aria-hidden="true"></i></a>
    
    <div class="options">
       
        
          
        
        <a href="/sensu-go/6.9/">Sensu Go</a>
       
        
          
        
        <a href="/sensu-core/1.9/">Sensu Core</a>
       
        
          
        
        <a href="/sensu-enterprise/3.8/">Sensu Enterprise</a>
       
        
          
        
        <a href="/sensu-enterprise-dashboard/2.16/">Sensu Enterprise Dashboard</a>
       
        
          
        
        <a href="/uchiwa/1.0/">Uchiwa</a>
      
    </div>
  </div>

  
  <div class="dropdown dropdown--versions">
    
    
    
    
    

    <a>
      6.7
      
      <i class="fa fa-chevron-down" aria-hidden="true"></i>
    </a>
    <div class="options">
      
        
          
        
          
        
          
        
          
        
      
      
      
        
        
          
          
            <a href="/sensu-go/6.9/observability-pipeline/observe-schedule/backend/">
          
            6.9 (latest)
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.8/observability-pipeline/observe-schedule/backend/">
          
            6.8 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.7/observability-pipeline/observe-schedule/backend/">
          
            6.7 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.6/observability-pipeline/observe-schedule/backend/">
          
            6.6 
          </a>
        
      
    </div>
  </div>
</div>


    

    <input id="desktop-search" class="algolia-search" type="text" placeholder="Search the docs" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
  </nav>

  
    
<div id="alerts">
  
  
  

  

  

  
</div>

    <div id="alerts">
  
  
  
    
    
    
    







<script>
  $(document).ready(function() {
    
    alertElement = "<div class='alert' style='background-color: #7a4595'>";
    
      alertElement += "<a href='\/sensu-go\/6.9\/observability-pipeline\/observe-schedule\/backend\/'>You\u0027re viewing documentation for an older or pre-release version of Sensu Go. Click here for the latest.</a>";
    
    alertElement += "<span class='alert--close' onClick='this.parentElement.remove()'>" +
                      "<i class='fa fa-times' aria-hidden='true'></i>" +
                    "</span></div>";

    
    $("#alerts").append(alertElement);
  });
</script>

  
</div>

  

</header>


<main class="main">
  <input class="hidden" type="checkbox" id="toggle-drawer" autocomplete="off">
<label id="backdrop" for="toggle-drawer"></label>
<aside class="drawer">
  <div class="drawer--inner">
    
    <div class="product-picker">
  
  <div class="dropdown dropdown--products">
    
      
      <a>Sensu Go<i class="fa fa-chevron-down" aria-hidden="true"></i></a>
    
    <div class="options">
       
        
          
        
        <a href="/sensu-go/6.9/">Sensu Go</a>
       
        
          
        
        <a href="/sensu-core/1.9/">Sensu Core</a>
       
        
          
        
        <a href="/sensu-enterprise/3.8/">Sensu Enterprise</a>
       
        
          
        
        <a href="/sensu-enterprise-dashboard/2.16/">Sensu Enterprise Dashboard</a>
       
        
          
        
        <a href="/uchiwa/1.0/">Uchiwa</a>
      
    </div>
  </div>

  
  <div class="dropdown dropdown--versions">
    
    
    
    
    

    <a>
      6.7
      
      <i class="fa fa-chevron-down" aria-hidden="true"></i>
    </a>
    <div class="options">
      
      
      
        
        
          
          
            <a href="/sensu-go/6.9/observability-pipeline/observe-schedule/backend/">
          
            6.9 (latest)
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.8/observability-pipeline/observe-schedule/backend/">
          
            6.8 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.7/observability-pipeline/observe-schedule/backend/">
          
            6.7 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.6/observability-pipeline/observe-schedule/backend/">
          
            6.6 
          </a>
        
      
    </div>
  </div>
</div>


    <input id="mobile-search" class="algolia-search" type="text" placeholder="Search the docs" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
    <nav>
      
        <ul>

  




  
  
  
  
  
  

  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    

      
      

        
        
      
    
  
    

      
      

        
        
      
    
  
    

      
      

        
        
          

          
          
          
          <li><a class="strong" href="/sensu-go/6.7">Sensu Go</a><ul>

          
          

          
            
            
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.7/release-notes/">Release Notes</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.7/get-started/">Get Started with Sensu</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.7/platforms/">Platforms and Distributions</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.7/commercial/">Commercial Features</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.7/versions/">Supported Versions</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.7/sensu-plus/">Sensu Plus</a></li>
              
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion current active" href="/sensu-go/6.7/observability-pipeline/">
                    
                      Observability Pipeline
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/observability-pipeline/observe-entities/">
                              Entities
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-entities/entities/">Entities Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-entities/auto-register-deregister/">Auto-register and Deregister Entities</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-entities/monitor-external-resources/">Monitor External Resources</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/observability-pipeline/observe-events/">
                              Events
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-events/events/">Events Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion active current" href="/sensu-go/6.7/observability-pipeline/observe-schedule/">
                              Schedule
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/agent/">Agent Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="current" href="/sensu-go/6.7/observability-pipeline/observe-schedule/backend/">Backend Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/checks/">Checks Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/hooks/">Hooks Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/metrics/">Metrics Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/rule-templates/">Rule Templates Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/service-components/">Service Components Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/subscriptions/">Subscriptions Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/tokens/">Tokens Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/business-service-monitoring-sdk/">Business Service Monitoring SDK</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/augment-event-data-with-hooks/">Augment Event Data</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/prometheus-metrics/">Collect Prometheus Metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/collect-metrics-with-checks/">Collect Service Metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/business-service-monitoring/">Monitor Business Services</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-schedule/monitor-server-resources/">Monitor Server Resources</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/observability-pipeline/observe-filter/">
                              Filter
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-filter/filters/">Event Filters Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-filter/sensu-query-expressions/">Sensu Query Expressions Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-filter/reduce-alert-fatigue/">Reduce Alert Fatigue</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-filter/route-alerts/">Route Alerts</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/observability-pipeline/observe-transform/">
                              Transform
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-transform/mutators/">Mutators Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/observability-pipeline/observe-process/">
                              Process
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/handlers/">Handlers Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/pipelines/">Pipelines Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/silencing/">Silencing Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/sumo-logic-metrics-handlers/">Sumo Logic Metrics Handlers Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/tcp-stream-handlers/">TCP Stream Handlers Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/aggregate-metrics-statsd/">Aggregate StatsD Metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/handler-templates/">Create Handler Templates</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/plan-maintenance/">Plan Maintenance Windows</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/populate-metrics-influxdb/">Populate Metrics in InfluxDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/send-data-sumo-logic/">Send Data to Sumo Logic</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/send-email-alerts/">Send Email Alerts</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/send-pagerduty-alerts/">Send PagerDuty Alerts</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/observability-pipeline/observe-process/send-slack-alerts/">Send Slack Alerts</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.7/operations/">
                    
                      Operations
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/operations/monitoring-as-code/">Monitoring as Code</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/operations/deploy-sensu/">
                              Deploy Sensu
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/hardware-requirements/">Hardware Requirements</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/install-sensu/">Install Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/deployment-architecture/">Deployment Architecture</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/configuration-management/">Configuration Management</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/generate-certificates/">Generate Certificates</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/secure-sensu/">Secure Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/secure-postgres/">Secure PostgreSQL</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/cluster-sensu/">Run a Sensu Cluster</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/use-federation/">Reach Multi-cluster Visibility</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/scale-event-storage/">Scale with Enterprise Datastore</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/datastore/">Datastore Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/deploy-sensu/etcdreplicators/">Etcd Replicators Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/operations/control-access/">
                              Control Access
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/control-access/sso/">Configure SSO Authentication</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/control-access/use-apikeys/">Use API Keys</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/control-access/create-read-only-user/">Create a Read-only User</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/control-access/create-limited-service-accounts/">Create Limited Service Accounts</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/control-access/ad-auth/">AD Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/control-access/ldap-auth/">LDAP Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/control-access/oidc-auth/">OIDC Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/control-access/apikeys/">API Keys Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/control-access/namespaces/">Namespaces Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/control-access/rbac/">RBAC Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/operations/maintain-sensu/">
                              Maintain Sensu
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/maintain-sensu/upgrade/">Upgrade Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/maintain-sensu/migrate/">Migrate from Sensu Core and Sensu Enterprise</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/maintain-sensu/tune/">Tune Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/maintain-sensu/troubleshoot/">Troubleshoot</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/maintain-sensu/disaster-recovery/">Restore Sensu Configuration</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/maintain-sensu/license/">License Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/operations/monitor-sensu/">
                              Monitor Sensu
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/monitor-sensu/log-sensu-systemd/">Log Sensu Services</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/monitor-sensu/monitor-sensu-with-sensu/">Monitor Sensu with Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/monitor-sensu/health/">Health Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/monitor-sensu/tessen/">Tessen Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/operations/manage-secrets/">
                              Manage Secrets
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/manage-secrets/secrets-management/">Use Secrets Management</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/manage-secrets/secrets/">Secrets Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/operations/manage-secrets/secrets-providers/">Secrets Providers Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.7/guides/">Guides Index</a></li>
              
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.7/sensuctl/">
                    
                      Sensuctl CLI
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/sensuctl/create-manage-resources/">Create and Manage Resources</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/sensuctl/back-up-recover/">Back Up and Recover Resources</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/sensuctl/filter-responses/">Filter Responses</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/sensuctl/environment-variables/">Set Environment Variables</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/sensuctl/sensuctl-bonsai/">Use sensuctl with Bonsai</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.7/web-ui/">
                    
                      Web UI
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/web-ui/view-manage-resources/">View and Manage Resources</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/web-ui/search/">Search in the Web UI</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/web-ui/webconfig/">Configure the Web UI</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/web-ui/bsm-module/">Build Business Service Monitoring</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/web-ui/searches-reference/">Searches Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/web-ui/webconfig-reference/">Web UI Configuration Reference</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.7/catalog/">
                    
                      Sensu Catalog
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/catalog/sensu-catalog/">Configure Integrations in the Sensu Catalog</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/catalog/build-private-catalog/">Build a Private Catalog</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/catalog/catalog-reference/">Catalog Integrations Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/catalog/catalog-api/">Catalog API</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.7/api/">
                    
                      API
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/api/core/">
                              Core API
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/apikeys/">core/v2/apikeys</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/assets/">core/v2/assets</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/checks/">core/v2/checks</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/cluster/">core/v2/cluster</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/cluster-role-bindings/">core/v2/clusterrolebindings</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/cluster-roles/">core/v2/clusterroles</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/entities/">core/v2/entities</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/events/">core/v2/events</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/filters/">core/v2/filters</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/handlers/">core/v2/handlers</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/hooks/">core/v2/hooks</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/mutators/">core/v2/mutators</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/namespaces/">core/v2/namespaces</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/pipelines/">core/v2/pipelines</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/role-bindings/">core/v2/rolebindings</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/roles/">core/v2/roles</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/silenced/">core/v2/silenced</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/tessen/">core/v2/tessen</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/core/users/">core/v2/users</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/api/enterprise/">
                              Enterprise APIs
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/enterprise/authproviders/">enterprise/authentication/v2</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/enterprise/business-service-monitoring/">enterprise/bsm/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/enterprise/federation/">enterprise/federation/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/enterprise/pipeline/">enterprise/pipeline/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/enterprise/prune/">enterprise/prune/v1alpha</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/enterprise/searches/">enterprise/searches/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/enterprise/secrets/">enterprise/secrets/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/enterprise/datastore/">enterprise/store/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/enterprise/webconfig/">enterprise/web/v1</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/api/other/">
                              Other APIs
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/other/auth/">/auth</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/other/health/">/health</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/other/license/">/license</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/other/metrics/">/metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/api/other/version/">/version</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.7/reference/">Reference Index</a></li>
              
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.7/plugins/">
                    
                      Plugins
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/plugins/assets/">Assets Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/plugins/plugins/">Plugins Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/plugins/install-plugins/">Install Plugins</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/plugins/use-assets-to-install-plugins/">Use Assets to Install Plugins</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.7/plugins/featured-integrations/">
                              Featured Integrations
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/ansible/">Ansible</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/chef/">Chef</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/aws-ec2/">EC2</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/elasticsearch/">Elasticsearch</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/email/">Email</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/graphite/">Graphite</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/influxdb/">InfluxDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/jira/">Jira</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/opentsdb/">OpenTSDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/pagerduty/">PagerDuty</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/prometheus/">Prometheus</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/puppet/">Puppet</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/rundeck/">Rundeck</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/saltstack/">SaltStack</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/servicenow/">ServiceNow</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/slack/">Slack</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/sumologic/">Sumo Logic</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/timescaledb/">TimescaleDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.7/plugins/featured-integrations/wavefront/">Wavefront</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.7/learn/">
                    
                      Learn Sensu
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/learn/concepts-terminology/">Concepts and Terminology</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.7/learn/demo/">Live Demo</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          
          </ul></li>
        
      
    
  
    

      
      

        
        
      
    
  
    

      
      

        
        
      
    
  
    
  
    
  



<script>
  var acc = document.querySelectorAll('.accordion > .fa');

  for (var i = 0; i < acc.length; i++) {
    acc[i].addEventListener('click', function(e) {
      e.preventDefault();
      this.parentElement.classList.toggle('active');
    });
  }
</script>
</ul>
      
      <hr>
      <div class="drawer--footer">
        <iframe src="https://ghbtns.com/github-btn.html?user=sensu&repo=sensu-docs&type=star&count=true" frameborder="0" scrolling="0" width="170" height="20"></iframe>
        <a target="_blank" href="https://github.com/sensu/sensu-docs/issues/new?title=Docs%20Feedback&body=%3C!--Thanks%20for%20submitting%20feedback%20to%20the%20Sensu%20docs!--%3E%0A%0ALink%20to%20page%3A%20%0A%0A%23%23%23%20Feedback">Open a docs issue</a>
        <a target="_blank" href="https://github.com/sensu/sensu-docs/edit/main/content/sensu-go/6.7/observability-pipeline/observe-schedule/backend.md">Edit this page</a>
        <a target="_blank" href="https://github.com/sensu/sensu-docs/blob/main/CONTRIBUTING.md">Read the contributing guide</a>
        
        
      </div>
    </nav>
  </div>
</aside>


  <article class="article">
    <div class="wrapper">
      <h1>Backend reference </h1>

      
        



      
      <p><a href="../../../files/backend.yml">Example Sensu backend configuration file</a> (download)</p>
<p>The Sensu backend is a service that manages check requests and observability data.
Every Sensu backend includes an integrated structure for scheduling checks using <a href="../subscriptions/">subscriptions</a>, an event processing pipeline that applies <a href="../../observe-filter/filters/">event filters</a>, <a href="../../observe-transform/mutators/">mutators</a>, <a href="../../observe-process/handlers/">handlers</a>, and <a href="../../observe-process/pipelines/">pipelines</a>, an embedded <a href="https://etcd.io/docs">etcd</a> datastore for storing configuration and state, and the Sensu <a href="../../../api/">API</a>, Sensu <a href="../../../web-ui/">web UI</a>, and <a href="../../../sensuctl/">sensuctl</a> command line tool.</p>
<p>The Sensu backend is available for Debian- and RHEL-family distributions of Linux.
For these operating systems, the Sensu backend uses the Bourne shell (sh) for the execution environment.</p>
<p>Read the <a href="../../../operations/deploy-sensu/install-sensu#install-the-sensu-backend">installation guide</a> to install the backend.</p>
<h2 id="initialization">Initialization</h2>
<p>For a <strong>new</strong> installation, the backend database must be initialized by providing a username and password for the user to be granted administrative privileges.
Although initialization is required for every new installation, the implementation differs depending on your method of installation:</p>
<ul>
<li>If you are using Docker, you can use environment variables to override the default admin username (<code>admin</code>) and password (<code>P@ssw0rd!</code>) during <a href="../../../operations/deploy-sensu/install-sensu#2-configure-and-start">step 2 of the backend installation process</a>.</li>
<li>If you are using a Debian- or RHEL-family distribution, you must specify admin credentials during <a href="../../../operations/deploy-sensu/install-sensu#3-initialize">step 3 of the backend installation process</a>.
Sensu does not apply default admin credentials for Debian- or RHEL-family installations.</li>
</ul>
<p>The initialization step bootstraps the first admin user account for your Sensu installation.
This first account will be granted the cluster admin role.</p>

<div class="notices warning" ><p><strong>WARNING</strong>: If you plan to <a href="../../../operations/deploy-sensu/cluster-sensu/">run a Sensu cluster</a>, make sure that each of your backend nodes is configured, running, and a member of the cluster before you initialize.</p>
</div>

<h3 id="docker-initialization">Docker initialization</h3>
<p>For Docker installations, set administrator credentials with environment variables when you <a href="../../../operations/deploy-sensu/install-sensu#2-configure-and-start">configure and start</a> the backend as shown below.
Replace <code>&lt;username&gt;</code> and <code>&lt;password&gt;</code> with the username and password you want to use:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="Docker">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Docker" data-lang="Docker"><span class="line"><span class="cl">docker run -v /var/lib/sensu:/var/lib/sensu <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-d --name sensu-backend <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-p 3000:3000 -p 8080:8080 -p 8081:8081 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-e <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_USERNAME</span><span class="o">=</span>&lt;username&gt; <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-e <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_PASSWORD</span><span class="o">=</span>&lt;password&gt; <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sensu/sensu:latest <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sensu-backend start --state-dir /var/lib/sensu/sensu-backend --log-level debug</span></span></code></pre></div>
</div>



<div class="language" data-lang="Docker Compose">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-docker" data-lang="docker"><span class="line"><span class="cl">---<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>version: <span class="s2">&#34;3&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>services:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>  sensu-backend:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    ports:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - 3000:3000<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - 8080:8080<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - 8081:8081<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    volumes:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - <span class="s2">&#34;sensu-backend-data:/var/lib/sensu/sensu-backend/etcd&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    command: <span class="s2">&#34;sensu-backend start --state-dir /var/lib/sensu/sensu-backend --log-level debug&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    environment:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_USERNAME</span><span class="o">=</span>&lt;username&gt;<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_PASSWORD</span><span class="o">=</span>&lt;password&gt;<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    image: sensu/sensu:latest<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>volumes:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>  sensu-backend-data:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    driver: local</span></span></code></pre></div>
</div>




  </div>
</div>

<p>If you did not use environment variables to override the default admin credentials in <a href="../../../operations/deploy-sensu/install-sensu#2-configure-and-start">step 2 of the backend installation process</a>, we recommend <a href="../../../sensuctl/#change-the-admin-users-password">changing your default admin password</a> as soon as you have installed sensuctl.</p>
<h3 id="debian-or-rhel-family-initialization">Debian or RHEL family initialization</h3>
<p>For Debian- or RHEL-family distributions, set administrator credentials with environment variables at <a href="../../../operations/deploy-sensu/install-sensu#3-initialize">initialization</a> as shown below.</p>
<p>To initialize with your username and password, replace <code>&lt;username&gt;</code> and <code>&lt;password&gt;</code> with the username and password you want to use:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_USERNAME</span><span class="o">=</span>&lt;username&gt;
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_PASSWORD</span><span class="o">=</span>&lt;password&gt;
</span></span><span class="line"><span class="cl">sensu-backend init</span></span></code></pre></div>
</div>



<div class="notices note" ><p><strong>NOTE</strong>: Make sure the Sensu backend is running before you run <code>sensu-backend init</code>.</p>
</div>

<h3 id="add-api-key-for-initialization">Add API key for initialization</h3>
<p>Add an <a href="../../../operations/control-access/use-apikeys/">API key</a> when you initialize the backend to make automated cluster setup and deployment more straightforward.
An API key is a persistent UUID that maps to a stored Sensu username.</p>
<p>If you supply an API key via sensu-backend init, you do not need to configure sensuctl.
Instead, you can execute sensuctl commands to manage resources immediately after initializing a cluster by providing the <a href="../../../sensuctl/#use-global-flags-for-sensuctl-settings"><code>--api-key</code> and <code>--api-url</code> flags</a> with their correct values in your sensuctl commands.</p>
<p>To initialize with an API key in addition to username and password, set your administrator credentials as follows.
Replace <code>&lt;api_key&gt;</code> with the API key you want to use:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="Docker">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-Docker" data-lang="Docker"><span class="line"><span class="cl">docker run -v /var/lib/sensu:/var/lib/sensu <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-d --name sensu-backend <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-p 3000:3000 -p 8080:8080 -p 8081:8081 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-e <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_USERNAME</span><span class="o">=</span>&lt;username&gt; <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-e <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_PASSWORD</span><span class="o">=</span>&lt;password&gt; <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-e <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_API_KEY</span><span class="o">=</span>&lt;api_key&gt; <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sensu/sensu:latest <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sensu-backend start --state-dir /var/lib/sensu/sensu-backend --log-level debug</span></span></code></pre></div>
</div>



<div class="language" data-lang="Docker Compose">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-docker" data-lang="docker"><span class="line"><span class="cl">---<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>version: <span class="s2">&#34;3&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>services:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>  sensu-backend:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    ports:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - 3000:3000<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - 8080:8080<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - 8081:8081<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    volumes:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - <span class="s2">&#34;sensu-backend-data:/var/lib/sensu/sensu-backend/etcd&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    command: <span class="s2">&#34;sensu-backend start --state-dir /var/lib/sensu/sensu-backend --log-level debug&#34;</span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    environment:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_USERNAME</span><span class="o">=</span>&lt;username&gt;<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_PASSWORD</span><span class="o">=</span>&lt;password&gt;<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    - <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_API_KEY</span><span class="o">=</span>&lt;api_key&gt;<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    image: sensu/sensu:latest<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>volumes:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>  sensu-backend-data:<span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span>    driver: local</span></span></code></pre></div>
</div>



<div class="language" data-lang="Debian and RHEL families">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_USERNAME</span><span class="o">=</span>&lt;username&gt;
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_PASSWORD</span><span class="o">=</span>&lt;password&gt;
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">SENSU_BACKEND_CLUSTER_ADMIN_API_KEY</span><span class="o">=</span>&lt;api_key&gt;
</span></span><span class="line"><span class="cl">sensu-backend init</span></span></code></pre></div>
</div>




  </div>
</div>

<h3 id="initialize-in-interactive-mode">Initialize in interactive mode</h3>
<p>You can also run the <code>sensu-backend init</code> command in interactive mode:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend init --interactive</span></span></code></pre></div>
</div>


<p>You will receive prompts for username, password, and API key in interactive mode.
Provide your username and password to complete initialization.
The API key is optional — press <code>return</code> to skip it.</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Cluster Admin Username: &lt;username&gt;
</span></span><span class="line"><span class="cl">Cluster Admin Password: &lt;password&gt;
</span></span><span class="line"><span class="cl">Retype Cluster Admin Password: &lt;password&gt;
</span></span><span class="line"><span class="cl">Cluster Admin API Key: &lt;api_key&gt;</span></span></code></pre></div>
</div>



<div class="notices note" ><p><strong>NOTE</strong>: If you are already using Sensu, you do not need to initialize.
Your installation has already seeded the admin username and password you have set up.
Running <code>sensu-backend init</code> on a previously initialized cluster has no effect — it will not change the admin credentials.</p>
</div>

<h3 id="initialization-flags">Initialization flags</h3>
<p>To view available initialization flags:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend init --help</span></span></code></pre></div>
</div>


<p>The response will list command information and configuration flags for <code>sensu-backend init</code>:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  sensu-backend init [flags]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">General Flags:
</span></span><span class="line"><span class="cl">      --cluster-admin-api-key string    cluster admin API key
</span></span><span class="line"><span class="cl">      --cluster-admin-password string   cluster admin password
</span></span><span class="line"><span class="cl">      --cluster-admin-username string   cluster admin username
</span></span><span class="line"><span class="cl">  -c, --config-file string              path to sensu-backend config file (default &#34;/etc/sensu/backend.yml&#34;)
</span></span><span class="line"><span class="cl">  -h, --help                            help for init
</span></span><span class="line"><span class="cl">      --ignore-already-initialized      exit 0 if the cluster has already been initialized
</span></span><span class="line"><span class="cl">      --interactive                     interactive mode
</span></span><span class="line"><span class="cl">      --timeout string                  duration to wait before a connection attempt to etcd is considered failed (must be &gt;= 1s) (default &#34;5s&#34;)
</span></span><span class="line"><span class="cl">      --wait                            continuously retry to establish a connection to etcd until it is successful
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Store Flags:
</span></span><span class="line"><span class="cl">      --etcd-advertise-client-urls strings   list of this member&#39;s client URLs to advertise to clients (default [http://localhost:2379])
</span></span><span class="line"><span class="cl">      --etcd-cert-file string                path to the client server TLS cert file
</span></span><span class="line"><span class="cl">      --etcd-cipher-suites strings           list of ciphers to use for etcd TLS configuration
</span></span><span class="line"><span class="cl">      --etcd-client-cert-auth                enable client cert authentication
</span></span><span class="line"><span class="cl">      --etcd-client-urls string              client URLs to use when operating as an etcd client
</span></span><span class="line"><span class="cl">      --etcd-key-file string                 path to the client server TLS key file
</span></span><span class="line"><span class="cl">      --etcd-max-request-bytes uint          maximum etcd request size in bytes (use with caution) (default 1572864)
</span></span><span class="line"><span class="cl">      --etcd-trusted-ca-file string          path to the client server TLS trusted CA cert file</span></span></code></pre></div>
</div>


<p>For more information about the initialization store flags, read <a href="#datastore-and-cluster-configuration">Datastore and cluster configuration</a> and <a href="#advanced-configuration-options">Advanced configuration options</a>.</p>
<p><a id="ignore-already-initialized"></a></p>
<table>
<thead>
<tr>
<th>ignore-already-initialized</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>If you run sensu-backend init on a cluster that has already been initialized, the command returns a non-zero exit status. Add the <code>ignore-already-initialized</code> flag to suppress the &ldquo;already initialized&rdquo; response and return an exit code 0 if the cluster has already been initialized.</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend init --ignore-already-initialized</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="initialization-timeout"></a></p>
<table>
<thead>
<tr>
<th>timeout</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Specify how long the backend should continue trying to establish a connection to etcd before timing out.<br><br>To specify the timeout duration, use an integer paired with a unit of time: <code>s</code> for seconds, <code>m</code> for minutes, or <code>h</code> for hours. 
<div class="notices note" ><p><strong>NOTE</strong>: Sensu interprets timeout values less than 1 second and integer-only values as seconds. For example, Sensu will convert both <code>20ms</code> and <code>20</code> to <code>20s</code> (20 seconds).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend init --timeout 30s</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>wait</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Instruct the backend to continue trying to establish a connection to etcd until it is successful.</td>
</tr>
<tr>
<td>example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend init --wait</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h2 id="backend-transport">Backend transport</h2>
<p>The Sensu backend listens for agent communications via <a href="https://en.m.wikipedia.org/wiki/WebSocket">WebSocket</a> transport.
By default, this transport operates on port 8081.
The agent <a href="../subscriptions/">subscriptions</a> are used to determine which check execution requests the backend publishes via the transport.
Sensu agents locally execute checks as requested by the backend and publish check results back to the transport to be processed.</p>
<p>Sensu agents authenticate to the Sensu backend via transport by either <a href="../agent/#username-and-password-authentication">built-in username and password authentication</a> or <a href="../../../operations/deploy-sensu/secure-sensu/#optional-configure-sensu-agent-mtls-authentication">mutual transport layer security (mTLS) authentication</a>.</p>
<p>To secure the WebSocket transport, first <a href="../../../operations/deploy-sensu/generate-certificates/">generate the certificates</a> you will need to set up transport layer security (TLS).
Then, <a href="../../../operations/deploy-sensu/secure-sensu/">secure Sensu</a> by configuring either TLS or mTLS to make Sensu production-ready.</p>
<p>Read the <a href="../../../operations/deploy-sensu/install-sensu/#architecture-overview">Sensu architecture overview</a> for a diagram that includes the WebSocket transport.</p>
<h3 id="certificate-bundles-or-chains">Certificate bundles or chains</h3>
<p>The Sensu backend supports all types of certificate bundles (or chains) as long as the server (or leaf) certificate is the <em>first</em> certificate in the bundle.
This is because the Go standard library assumes that the first certificate listed in the PEM file is the server certificate — the certificate that the program will use to show its own identity.</p>
<p>If you send the server certificate alone instead of sending the whole bundle with the server certificate first, you will receive a <code>certificate not signed by trusted authority</code> error.
You must present the whole chain to the remote so it can determine whether it trusts the server certificate through the chain.</p>
<h3 id="certificate-revocation-check">Certificate revocation check</h3>
<p>The Sensu backend checks certificate revocation list (CRL) and Online Certificate Status Protocol (OCSP) endpoints for mutual transport layer security (mTLS), etcd client, and etcd peer connections whose remote sides present X.509 certificates that provide CRL and OCSP revocation information.</p>
<h2 id="startup-and-backend-entities">Startup and backend entities</h2>
<p>When a backend starts up, Sensu automatically checks for a <a href="../../../operations/control-access/namespaces/#default-namespaces"><code>sensu-system</code> namespace</a> (and creates the namespace if it doesn&rsquo;t exist).
Then, Sensu checks the <code>sensu-system</code> namespace for an existing entity named after the backend&rsquo;s local hostname.</p>
<ul>
<li>If there is no corresponding entity, Sensu creates a new entity with <code>entity_class: backend</code> and populates the entity&rsquo;s system information.</li>
<li>If there is a corresponding entity, Sensu does nothing further to the existing entity.</li>
</ul>
<p>Once the backend entity is created, the backend uses its own entity to report cluster state errors.
Read <a href="../../observe-entities/entities/#backend-entities">backend entities</a> in the entities reference for more information and an example backend entity definition.</p>
<h2 id="synchronize-time-between-agents-and-the-backend">Synchronize time between agents and the backend</h2>
<p>System clocks between agents and the backend should be synchronized to a central NTP server.
If system time is out of sync, it may cause issues with keepalive, metric, and check alerts.</p>
<h2 id="backend-clusters">Backend clusters</h2>
<p>You can run the backend as a standalone service, but running a cluster of backends makes Sensu more highly available, reliable, and durable.
Sensu backend clusters build on the <a href="https://etcd.io/docs">etcd clustering system</a>.
Clustering lets you synchronize data between backends and get the benefits of a highly available configuration.</p>
<p>To configure a cluster, read <a href="../../../operations/deploy-sensu/cluster-sensu/">Run a Sensu cluster</a> and review the <a href="#datastore-and-cluster-configuration">datastore configuration options</a>.</p>
<h2 id="create-event-pipelines">Create event pipelines</h2>
<p>Sensu backend event pipelines process observation data and execute event filters, mutators, handlers, and pipelines.
These resources are powerful tools to automate your monitoring workflows.</p>
<p>Read the <a href="../../observe-filter/filters/">event filter</a>, <a href="../../observe-transform/mutators/">mutator</a>, <a href="../../observe-process/handlers/">handler</a>, and <a href="../../observe-process/pipelines/">pipeline</a> references to learn more about these Sensu resources.
Read <a href="../../../guides/">guides</a> like <a href="../../observe-filter/reduce-alert-fatigue/">Reduce alert fatigue with event filters</a> and <a href="../../observe-process/send-slack-alerts/">Send Slack alerts with handlers</a> for usage examples.</p>
<h2 id="schedule-checks">Schedule checks</h2>
<p>The backend is responsible for storing check definitions and scheduling check requests.
Check scheduling is subscription-based: the backend sends check requests to <a href="../subscriptions/">subscriptions</a>, where they&rsquo;re picked up by subscribing agents.</p>
<p>For information about creating and managing checks, read the <a href="../checks/">checks reference</a> and the guides <a href="../monitor-server-resources/">Monitor server resources with checks</a> and <a href="../collect-metrics-with-checks/">Collect metrics with checks</a>.</p>
<h2 id="backend-configuration-options">Backend configuration options</h2>
<p>Backend configuration is customizable.
This section describes each configuration option in more detail, including examples for each <a href="#backend-configuration-methods">configuration method</a>.</p>
<p>You can customize backend configuration with the <a href="#backend-configuration-file">backend configuration file</a>, <a href="#backend-configuration-options">command line flag arguments</a>, or <a href="#environment-variables">environment variables</a>.</p>

<div class="notices note" ><p><strong>NOTE</strong>: The backend loads configuration upon startup, so you must restart the backend for any configuration updates to take effect.</p>
</div>

<p>To view configuration information for the <code>sensu-backend start</code> command, run:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --help</span></span></code></pre></div>
</div>


<p>The response will list configuration options as command line flags for <code>sensu-backend start</code>:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">start the sensu backend
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  sensu-backend start [flags]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">General Flags:
</span></span><span class="line"><span class="cl">      --agent-auth-cert-file string               TLS certificate in PEM format for agent certificate authentication
</span></span><span class="line"><span class="cl">      --agent-auth-crl-urls strings               URLs of CRLs for agent certificate authentication
</span></span><span class="line"><span class="cl">      --agent-auth-key-file string                TLS certificate key in PEM format for agent certificate authentication
</span></span><span class="line"><span class="cl">      --agent-auth-trusted-ca-file string         TLS CA certificate bundle in PEM format for agent certificate authentication
</span></span><span class="line"><span class="cl">      --agent-burst-limit int                     agent connections maximum burst size
</span></span><span class="line"><span class="cl">      --agent-host string                         agent listener host (default &#34;[::]&#34;)
</span></span><span class="line"><span class="cl">      --agent-port int                            agent listener port (default 8081)
</span></span><span class="line"><span class="cl">      --agent-rate-limit int                      agent connections maximum rate limit
</span></span><span class="line"><span class="cl">      --agent-write-timeout int                   timeout in seconds for agent writes (default 15)
</span></span><span class="line"><span class="cl">      --annotations stringToString                entity annotations map (default [])
</span></span><span class="line"><span class="cl">      --api-listen-address string                 address to listen on for api traffic (default &#34;[::]:8080&#34;)
</span></span><span class="line"><span class="cl">      --api-request-limit int                     maximum API request body size, in bytes (default 512000)
</span></span><span class="line"><span class="cl">      --api-url string                            url of the api to connect to (default &#34;http://localhost:8080&#34;)
</span></span><span class="line"><span class="cl">      --api-write-timeout                         maximum duration before timing out writes of responses
</span></span><span class="line"><span class="cl">      --assets-burst-limit int                    asset fetch burst limit (default 100)
</span></span><span class="line"><span class="cl">      --assets-rate-limit float                   maximum number of assets fetched per second
</span></span><span class="line"><span class="cl">      --cache-dir string                          path to store cached data (default &#34;/var/cache/sensu/sensu-backend&#34;)
</span></span><span class="line"><span class="cl">      --cert-file string                          TLS certificate in PEM format
</span></span><span class="line"><span class="cl">  -c, --config-file string                        path to sensu-backend config file (default &#34;/etc/sensu/backend.yml&#34;)
</span></span><span class="line"><span class="cl">      --dashboard-cert-file string                dashboard TLS certificate in PEM format
</span></span><span class="line"><span class="cl">      --dashboard-host string                     dashboard listener host (default &#34;[::]&#34;)
</span></span><span class="line"><span class="cl">      --dashboard-key-file string                 dashboard TLS certificate key in PEM format
</span></span><span class="line"><span class="cl">      --dashboard-port int                        dashboard listener port (default 3000)
</span></span><span class="line"><span class="cl">      --dashboard-write-timeout                   maximum duration before timing out writes of responses
</span></span><span class="line"><span class="cl">      --debug                                     enable debugging and profiling features
</span></span><span class="line"><span class="cl">      --deregistration-handler string             default deregistration handler
</span></span><span class="line"><span class="cl">      --disable-platform-metrics                  disable platform metrics logging
</span></span><span class="line"><span class="cl">      --event-log-buffer-size int                 buffer size of the event logger (default 100000)
</span></span><span class="line"><span class="cl">      --event-log-buffer-wait string              full buffer wait time (default &#34;10ms&#34;)
</span></span><span class="line"><span class="cl">      --event-log-file string                     path to the event log file
</span></span><span class="line"><span class="cl">      --event-log-parallel-encoders               used to indicate parallel encoders should be used for event logging
</span></span><span class="line"><span class="cl">      --eventd-buffer-size int                    number of incoming events that can be buffered (default 100)
</span></span><span class="line"><span class="cl">      --eventd-workers int                        number of workers spawned for processing incoming events (default 100)
</span></span><span class="line"><span class="cl">  -h, --help                                      help for start
</span></span><span class="line"><span class="cl">      --insecure-skip-tls-verify                  skip TLS verification (not recommended!)
</span></span><span class="line"><span class="cl">      --jwt-private-key-file string               path to the PEM-encoded private key to use to sign JWTs
</span></span><span class="line"><span class="cl">      --jwt-public-key-file string                path to the PEM-encoded public key to use to verify JWT signatures
</span></span><span class="line"><span class="cl">      --keepalived-buffer-size int                number of incoming keepalives that can be buffered (default 100)
</span></span><span class="line"><span class="cl">      --keepalived-workers int                    number of workers spawned for processing incoming keepalives (default 100)
</span></span><span class="line"><span class="cl">      --key-file string                           TLS certificate key in PEM format
</span></span><span class="line"><span class="cl">      --labels stringToString                     entity labels map (default [])
</span></span><span class="line"><span class="cl">      --log-level string                          logging level [panic, fatal, error, warn, info, debug, trace] (default &#34;warn&#34;)
</span></span><span class="line"><span class="cl">      --metrics-refresh-interval string           Go duration value (e.g. 1h5m30s) that governs how often metrics are refreshed. (default &#34;1m&#34;)
</span></span><span class="line"><span class="cl">      --pipelined-buffer-size int                 number of events to handle that can be buffered (default 100)
</span></span><span class="line"><span class="cl">      --pipelined-workers int                     number of workers spawned for handling events through the event pipeline (default 100)
</span></span><span class="line"><span class="cl">      --platform-metrics-log-file string          platform metrics log file path
</span></span><span class="line"><span class="cl">      --platform-metrics-logging-interval string  platform metrics logging interval
</span></span><span class="line"><span class="cl">      --require-fips                              indicates whether fips support should be required in openssl  
</span></span><span class="line"><span class="cl">      --trusted-ca-file string                    TLS CA certificate bundle in PEM format
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Store Flags:
</span></span><span class="line"><span class="cl">      --etcd-advertise-client-urls strings        list of this member&#39;s client URLs to advertise to clients (default [http://localhost:2379])
</span></span><span class="line"><span class="cl">      --etcd-cert-file string                     path to the client server TLS cert file
</span></span><span class="line"><span class="cl">      --etcd-cipher-suites strings                list of ciphers to use for etcd TLS configuration
</span></span><span class="line"><span class="cl">      --etcd-client-cert-auth                     enable client cert authentication
</span></span><span class="line"><span class="cl">      --etcd-client-urls string                   client URLs to use when operating as an etcd client
</span></span><span class="line"><span class="cl">      --etcd-discovery string                     discovery URL used to bootstrap the cluster
</span></span><span class="line"><span class="cl">      --etcd-discovery-srv string                 DNS SRV record used to bootstrap the cluster
</span></span><span class="line"><span class="cl">      --etcd-election-timeout uint                time in ms a follower node will go without hearing a heartbeat before attempting to become leader itself (default 3000)
</span></span><span class="line"><span class="cl">      --etcd-heartbeat-interval uint              interval in ms with which the etcd leader will notify followers that it is still the leader (default 300)
</span></span><span class="line"><span class="cl">      --etcd-initial-advertise-peer-urls strings  list of this member&#39;s peer URLs to advertise to the rest of the cluster (default [http://127.0.0.1:2380])
</span></span><span class="line"><span class="cl">      --etcd-initial-cluster string               initial cluster configuration for bootstrapping
</span></span><span class="line"><span class="cl">      --etcd-initial-cluster-state string         initial cluster state (&#34;new&#34; or &#34;existing&#34;) (default &#34;new&#34;)
</span></span><span class="line"><span class="cl">      --etcd-initial-cluster-token string         initial cluster token for the etcd cluster during bootstrap
</span></span><span class="line"><span class="cl">      --etcd-key-file string                      path to the client server TLS key file
</span></span><span class="line"><span class="cl">      --etcd-client-log-level string              etcd client logging level [panic, fatal, error, warn, info, debug] (default &#34;error&#34;)
</span></span><span class="line"><span class="cl">      --etcd-listen-client-urls strings           list of etcd client URLs to listen on (default [http://127.0.0.1:2379])
</span></span><span class="line"><span class="cl">      --etcd-listen-peer-urls strings             list of URLs to listen on for peer traffic (default [http://127.0.0.1:2380])
</span></span><span class="line"><span class="cl">      --etcd-log-level string                     etcd server logging level [panic, fatal, error, warn, info, debug]
</span></span><span class="line"><span class="cl">      --etcd-max-request-bytes uint               maximum etcd request size in bytes (use with caution) (default 1572864)
</span></span><span class="line"><span class="cl">      --etcd-name string                          name for this etcd node (default &#34;default&#34;)
</span></span><span class="line"><span class="cl">      --etcd-peer-cert-file string                path to the peer server TLS cert file
</span></span><span class="line"><span class="cl">      --etcd-peer-client-cert-auth                enable peer client cert authentication
</span></span><span class="line"><span class="cl">      --etcd-peer-key-file string                 path to the peer server TLS key file
</span></span><span class="line"><span class="cl">      --etcd-peer-trusted-ca-file string          path to the peer server TLS trusted CA file
</span></span><span class="line"><span class="cl">      --etcd-quota-backend-bytes int              maximum etcd database size in bytes (use with caution) (default 4294967296)
</span></span><span class="line"><span class="cl">      --etcd-trusted-ca-file string               path to the client server TLS trusted CA cert file
</span></span><span class="line"><span class="cl">      --etcd-unsafe-no-fsync                      disables fsync, unsafe, may cause data loss
</span></span><span class="line"><span class="cl">      --no-embed-etcd                             don&#39;t embed etcd, use external etcd instead</span></span></code></pre></div>
</div>


<p>The backend requires that the <a href="#state-dir-option"><code>state-dir</code></a> configuration option is set before starting.
All other required flags have default values.</p>
<p>For more information about log configuration options, read <a href="#event-logging">Event logging</a> and <a href="#platform-metrics-logging">Platform metrics logging</a>.</p>
<h3 id="general-configuration">General configuration</h3>
<table>
<thead>
<tr>
<th>annotations</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Non-identifying metadata to include with entity data for backend dynamic runtime assets (for example, handler and mutator dynamic runtime assets).
<div class="notices note" ><p><strong>NOTE</strong>: For annotations that you define in backend.yml, the keys are automatically modified to use all lower-case letters. For example, if you define the annotation <code>webhookURL: &quot;https://my-webhook.com&quot;</code> in backend.yml, it will be listed as <code>webhookurl: &quot;https://my-webhook.com&quot;</code> in entity definitions.<br><br>Key cases are <strong>not</strong> modified for annotations you define with the <code>--annotations</code> command line flag or the <code>SENSU_BACKEND_ANNOTATIONS</code> environment variable.</p>
</div>
</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>Map of key-value pairs. Keys and values can be any valid UTF-8 string.</td>
</tr>
<tr>
<td>default</td>
<td><code>null</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ANNOTATIONS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --annotations sensu.io/plugins/slack/config/webhook-url<span class="o">=</span>https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX
</span></span><span class="line"><span class="cl">sensu-backend start --annotations example-key<span class="o">=</span><span class="s2">&#34;example value&#34;</span> --annotations example-key2<span class="o">=</span><span class="s2">&#34;example value&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">annotations:
</span></span><span class="line"><span class="cl">  sensu.io/plugins/slack/config/webhook-url: <span class="s2">&#34;https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>api-listen-address</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Address the API daemon will listen for requests on.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>[::]:8080</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_API_LISTEN_ADDRESS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --api-listen-address <span class="o">[</span>::<span class="o">]</span>:8080</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">api-listen-address: <span class="s2">&#34;[::]:8080&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="api-request-limit"></a></p>
<table>
<thead>
<tr>
<th>api-request-limit</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Maximum size for API request bodies. In bytes.</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>512000</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_API_REQUEST_LIMIT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --api-request-limit <span class="m">1024000</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">api-request-limit: <span class="m">1024000</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="backend-api-url-attribute"></a></p>
<table>
<thead>
<tr>
<th>api-url</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>URL used to connect to the API.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>http://localhost:8080</code> (Debian and RHEL families)<br><br><code>http://$SENSU_HOSTNAME:8080</code> (Docker)
<div class="notices note" ><p><strong>NOTE</strong>: Docker-only Sensu binds to the hostnames of containers, represented here as <code>SENSU_HOSTNAME</code> in Docker default values.</p>
</div>
</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_API_URL</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --api-url http://localhost:8080</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">api-url: <span class="s2">&#34;http://localhost:8080&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="api-write-timeout"></a></p>
<table>
<thead>
<tr>
<th>api-write-timeout</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Maximum amount of time to wait before timing out on API HTTP server response writes. In milliseconds (<code>ms</code>), seconds (<code>s</code>), minutes (<code>m</code>), or hours (<code>h</code>).</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>15s</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_API_WRITE_TIMEOUT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --api-write-timeout 15s</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">api-write-timeout: 15s</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>assets-burst-limit</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Maximum amount of burst allowed in a rate interval when fetching dynamic runtime assets.</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>100</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ASSETS_BURST_LIMIT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --assets-burst-limit <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">assets-burst-limit: <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>assets-rate-limit</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Maximum number of dynamic runtime assets to fetch per second. The default value <code>1.39</code> is equivalent to approximately 5000 user-to-server requests per hour.</td>
</tr>
<tr>
<td>type</td>
<td>Float</td>
</tr>
<tr>
<td>default</td>
<td><code>1.39</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ASSETS_RATE_LIMIT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --assets-rate-limit 1.39</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">assets-rate-limit: 1.39</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>cache-dir</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to store cached data.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>/var/cache/sensu/sensu-backend</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_CACHE_DIR</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --cache-dir /var/cache/sensu-backend</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cache-dir: <span class="s2">&#34;/var/cache/sensu-backend&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>config-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to Sensu backend config file.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>/etc/sensu/backend.yml</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_CONFIG_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --config-file /etc/sensu/backend.yml
</span></span><span class="line"><span class="cl">sensu-backend start -c /etc/sensu/backend.yml</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="debug-attribute"></a></p>
<table>
<thead>
<tr>
<th>debug</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>If <code>true</code>, enable debugging and profiling features for use with the <a href="https://golang.org/pkg/net/http/pprof/">Go pprof package</a>. Otherwise, <code>false</code>.</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>default</td>
<td><code>false</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_DEBUG</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --debug</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">debug: true</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="deregistration-handler-attribute"></a></p>
<table>
<thead>
<tr>
<th>deregistration-handler</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Name of the default event handler to use when processing agent deregistration events.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_DEREGISTRATION_HANDLER</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --deregistration-handler deregister</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">deregistration-handler: <span class="s2">&#34;deregister&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>labels</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Custom attributes to include with entity data for backend dynamic runtime assets (for example, handler and mutator dynamic runtime assets).
<div class="notices note" ><p><strong>NOTE</strong>: For labels that you define in backend.yml, the keys are automatically modified to use all lower-case letters. For example, if you define the label <code>securityZone: &quot;us-west-2a&quot;</code> in backend.yml, it will be listed as <code>securityzone: &quot;us-west-2a&quot;</code> in entity definitions.<br><br>Key cases are <strong>not</strong> modified for labels you define with the <code>--labels</code> command line flag or the <code>SENSU_BACKEND_LABELS</code> environment variable.</p>
</div>
</td>
</tr>
<tr>
<td>required</td>
<td>false</td>
</tr>
<tr>
<td>type</td>
<td>Map of key-value pairs. Keys can contain only letters, numbers, and underscores and must start with a letter. Values can be any valid UTF-8 string.</td>
</tr>
<tr>
<td>default</td>
<td><code>null</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_LABELS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --labels <span class="nv">security_zone</span><span class="o">=</span>us-west-2a
</span></span><span class="line"><span class="cl">sensu-backend start --labels <span class="nv">example_key1</span><span class="o">=</span><span class="s2">&#34;example value&#34;</span> <span class="nv">example_key2</span><span class="o">=</span><span class="s2">&#34;example value&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">labels:
</span></span><span class="line"><span class="cl">  security_zone: <span class="s2">&#34;us-west-2a&#34;</span>
</span></span><span class="line"><span class="cl">  example_key1: <span class="s2">&#34;example value&#34;</span>
</span></span><span class="line"><span class="cl">  example_key2: <span class="s2">&#34;example value&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="backend-log-level"></a></p>
<table>
<thead>
<tr>
<th>log-level</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Logging level: <code>panic</code>, <code>fatal</code>, <code>error</code>, <code>warn</code>, <code>info</code>, <code>debug</code>, or <code>trace</code>.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>warn</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_LOG_LEVEL</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --log-level debug</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">log-level: <span class="s2">&#34;debug&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="metrics-refresh-interval"></a></p>
<table>
<thead>
<tr>
<th>metrics-refresh-interval</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Interval at which Sensu should refresh metrics. In hours, minutes, seconds, or a combination — for example, <code>5m</code>, <code>1m30s</code>, and <code>1h10m30s</code> are all valid values.
<div class="notices commercial" ><p><strong>COMMERCIAL FEATURE</strong>: Access the <code>metrics-refresh-interval</code> configuration option in the packaged Sensu Go distribution. For more information, read <a href="../../../commercial/">Get started with commercial features</a>.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>1m</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_METRICS_REFRESH_INTERVAL</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --metrics-refresh-interval 10s</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">metrics-refresh-interval: 10s</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="state-dir-option"></a></p>
<table>
<thead>
<tr>
<th>state-dir</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to Sensu state storage: <code>/var/lib/sensu/sensu-backend</code>.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>required</td>
<td>true</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_STATE_DIR</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --state-dir /var/lib/sensu/sensu-backend
</span></span><span class="line"><span class="cl">sensu-backend start -d /var/lib/sensu/sensu-backend</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">state-dir: <span class="s2">&#34;/var/lib/sensu/sensu-backend&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h3 id="agent-communication-configuration">Agent communication configuration</h3>
<table>
<thead>
<tr>
<th>agent-auth-cert-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>TLS certificate in PEM format for agent certificate authentication. Sensu supports certificate bundles (or chains) as long as the server (or leaf) certificate is the <em>first</em> certificate in the bundle.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_AGENT_AUTH_CERT_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --agent-auth-cert-file /path/to/tls/backend-1.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">agent-auth-cert-file: /path/to/tls/backend-1.pem</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>agent-auth-crl-urls</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>URLs of CRLs for agent certificate authentication. The Sensu backend uses this list to perform a revocation check for agent mTLS.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_AGENT_AUTH_CRL_URLS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --agent-auth-crl-urls http://localhost/CARoot.crl</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">agent-auth-crl-urls: http://localhost/CARoot.crl</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>agent-auth-key-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>TLS certificate key in PEM format for agent certificate authentication.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_AGENT_AUTH_KEY_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --agent-auth-key-file /path/to/tls/backend-1-key.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">agent-auth-key-file: /path/to/tls/backend-1-key.pem</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>agent-auth-trusted-ca-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>TLS CA certificate bundle in PEM format for agent certificate authentication.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_AGENT_AUTH_TRUSTED_CA_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --agent-auth-trusted-ca-file /path/to/tls/ca.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">agent-auth-trusted-ca-file: /path/to/tls/ca.pem</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="agent-burst-limit"></a></p>
<table>
<thead>
<tr>
<th>agent-burst-limit</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Maximum amount of burst allowed in a rate interval for agent transport WebSocket connections. 
<div class="notices note" ><p><strong>NOTE</strong>: The <code>agent-burst-limit</code> configuration flag is deprecated.</p>
</div>
 
<div class="notices commercial" ><p><strong>COMMERCIAL FEATURE</strong>: Access the <code>agent-burst-limit</code> configuration option in the packaged Sensu Go distribution. For more information, read <a href="../../../commercial/">Get started with commercial features</a>.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>null</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_AGENT_BURST_LIMIT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --agent-burst-limit <span class="m">10</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">agent-burst-limit: <span class="m">10</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>agent-host</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Agent listener host. Listens on all IPv4 and IPv6 addresses by default.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>[::]</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_AGENT_HOST</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --agent-host 127.0.0.1</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">agent-host: <span class="s2">&#34;127.0.0.1&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>agent-port</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Agent listener port.</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>8081</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_AGENT_PORT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --agent-port <span class="m">8081</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">agent-port: <span class="m">8081</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="agent-rate-limit"></a></p>
<table>
<thead>
<tr>
<th>agent-rate-limit</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Maximum number of agent transport WebSocket connections per second, per backend.
<div class="notices commercial" ><p><strong>COMMERCIAL FEATURE</strong>: Access the <code>agent-rate-limit</code> configuration option in the packaged Sensu Go distribution. For more information, read <a href="../../../commercial/">Get started with commercial features</a>.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>null</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_AGENT_RATE_LIMIT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --agent-rate-limit <span class="m">10</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">agent-rate-limit: <span class="m">10</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h3 id="security-configuration">Security configuration</h3>
<table>
<thead>
<tr>
<th>cert-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the primary backend certificate file. Specifies a fallback SSL/TLS certificate if the <code>dashboard-cert-file</code> configuration option is not used. This certificate secures communications between the Sensu web UI and end user web browsers, as well as communication between sensuctl and the Sensu API. Sensu supports certificate bundles (or chains) as long as the server (or leaf) certificate is the <em>first</em> certificate in the bundle.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_CERT_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --cert-file /path/to/tls/backend-1.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">cert-file: <span class="s2">&#34;/path/to/tls/backend-1.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>insecure-skip-tls-verify</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>If <code>true</code>, skip SSL verification. Otherwise, <code>false</code>. 
<div class="notices warning" ><p><strong>WARNING</strong>: This configuration option is intended for use in development systems only. Do not use this configuration option in production.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>default</td>
<td><code>false</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_INSECURE_SKIP_TLS_VERIFY</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --insecure-skip-tls-verify</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">insecure-skip-tls-verify: true</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="jwt-attributes"></a></p>
<table>
<thead>
<tr>
<th>jwt-private-key-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the PEM-encoded private key to use to sign JSON Web Tokens (JWTs). 
<div class="notices note" ><p><strong>NOTE</strong>: The internal symmetric secret key is used by default to sign all JWTs unless a private key is specified via this attribute.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_JWT_PRIVATE_KEY_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --jwt-private-key-file /path/to/key/private.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">jwt-private-key-file: /path/to/key/private.pem</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>jwt-public-key-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the PEM-encoded public key to use to verify JSON Web Token (JWT) signatures. 
<div class="notices note" ><p><strong>NOTE</strong>: JWTs signed with the internal symmetric secret key will continue to be verified with that key.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_JWT_PUBLIC_KEY_FILE</code></td>
</tr>
<tr>
<td>required</td>
<td>false, unless <code>jwt-private-key-file</code> is defined</td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --jwt-public-key-file /path/to/key/public.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">jwt-public-key-file: /path/to/key/public.pem</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>key-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the primary backend key file. Specifies a fallback SSL/TLS key if the <code>dashboard-key-file</code> configuration option is not used. This key secures communication between the Sensu web UI and end user web browsers, as well as communication between sensuctl and the Sensu API.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_KEY_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --key-file /path/to/tls/backend-1-key.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">key-file: <span class="s2">&#34;/path/to/tls/backend-1-key.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="fips-openssl"></a></p>
<table>
<thead>
<tr>
<th>require-fips</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Require Federal Information Processing Standard (FIPS) support in OpenSSL. Logs an error at Sensu backend startup if <code>true</code> but OpenSSL is not running in FIPS mode. 
<div class="notices note" ><p><strong>NOTE</strong>: The <code>require-fips</code> configuration option is only available within the Linux amd64 OpenSSL-linked binary.
<a href="https://sensu.io/contact">Contact Sensu</a> to request the builds for OpenSSL with FIPS support.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>default</td>
<td>false</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_REQUIRE_FIPS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --require-fips</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">require-fips: true</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>require-openssl</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Use OpenSSL instead of Go&rsquo;s standard cryptography library. Logs an error at Sensu backend startup if <code>true</code> but Go&rsquo;s standard cryptography library is loaded. 
<div class="notices note" ><p><strong>NOTE</strong>: The <code>require-openssl</code> configuration option is only available within the Linux amd64 OpenSSL-linked binary.
<a href="https://sensu.io/contact">Contact Sensu</a> to request the builds for OpenSSL with FIPS support.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>default</td>
<td>false</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_REQUIRE_OPENSSL</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --require-openssl</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">require-openssl: true</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>trusted-ca-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the primary backend CA file. Specifies a fallback SSL/TLS certificate authority in PEM format used for etcd client (mutual TLS) communication if the <code>etcd-trusted-ca-file</code> is not used. This CA file is used in communication between the Sensu web UI and end user web browsers, as well as communication between sensuctl and the Sensu API.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_TRUSTED_CA_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --trusted-ca-file /path/to/tls/ca.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">trusted-ca-file: <span class="s2">&#34;/path/to/tls/ca.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h3 id="web-ui-configuration">Web UI configuration</h3>
<table>
<thead>
<tr>
<th>dashboard-cert-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Web UI TLS certificate in PEM format. This certificate secures communication with the Sensu web UI. If the <code>dashboard-cert-file</code> is not provided in the backend configuration, Sensu uses the certificate specified in the <a href="#security-configuration"><code>cert-file</code> configuration option</a> for the web UI. Sensu supports certificate bundles (or chains) as long as the server (or leaf) certificate is the <em>first</em> certificate in the bundle.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_DASHBOARD_CERT_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --dashboard-cert-file /path/to/tls/separate-webui-cert.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">dashboard-cert-file: <span class="s2">&#34;/path/to/tls/separate-webui-cert.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>dashboard-host</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Web UI listener host.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>[::]</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_DASHBOARD_HOST</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --dashboard-host 127.0.0.1</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">dashboard-host: <span class="s2">&#34;127.0.0.1&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>dashboard-key-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Web UI TLS certificate key in PEM format. This key secures communication with the Sensu web UI. If the <code>dashboard-key-file</code> is not provided in the backend configuration, Sensu uses the key specified in the <a href="#security-configuration"><code>key-file</code> configuration option</a> for the web UI.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_DASHBOARD_KEY_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --dashboard-key-file /path/to/tls/separate-webui-key.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">dashboard-key-file: <span class="s2">&#34;/path/to/tls/separate-webui-key.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>dashboard-port</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Web UI listener port.</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>3000</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_DASHBOARD_PORT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --dashboard-port <span class="m">3000</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">dashboard-port: <span class="m">3000</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="dashboard-write-timeout"></a></p>
<table>
<thead>
<tr>
<th>dashboard-write-timeout</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Maximum amount of time to wait before timing out on web UI HTTP server response writes. In milliseconds (<code>ms</code>), seconds (<code>s</code>), minutes (<code>m</code>), or hours (<code>h</code>).</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>15s</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_DASHBOARD_WRITE_TIMEOUT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --dashboard-write-timeout 15s</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">dashboard-write-timeout: 15s</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h3 id="datastore-and-cluster-configuration">Datastore and cluster configuration</h3>
<table>
<thead>
<tr>
<th>etcd-advertise-client-urls</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>List of this member&rsquo;s client URLs to advertise to the rest of the cluster.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>List</td>
</tr>
<tr>
<td>default</td>
<td><code>http://localhost:2379</code> (Debian and RHEL families)<br><br><code>http://$SENSU_HOSTNAME:2379</code> (Docker)
<div class="notices note" ><p><strong>NOTE</strong>: Docker-only Sensu binds to the hostnames of containers, represented here as <code>SENSU_HOSTNAME</code> in Docker default values.</p>
</div>
</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_ADVERTISE_CLIENT_URLS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-advertise-client-urls http://localhost:2378,http://localhost:2379
</span></span><span class="line"><span class="cl">sensu-backend start --etcd-advertise-client-urls http://localhost:2378 --etcd-advertise-client-urls http://localhost:2379</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-advertise-client-urls:
</span></span><span class="line"><span class="cl">  - http://localhost:2378
</span></span><span class="line"><span class="cl">  - http://localhost:2379</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-cert-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the etcd client API TLS certificate file. Secures communication between the embedded etcd client API and any etcd clients. Sensu supports certificate bundles (or chains) as long as the server (or leaf) certificate is the <em>first</em> certificate in the bundle.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_CERT_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-cert-file /path/to/tls/backend-1.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-cert-file: <span class="s2">&#34;/path/to/tls/backend-1.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="etcd-cipher-suites"></a></p>
<table>
<thead>
<tr>
<th>etcd-cipher-suites</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>List of allowed cipher suites for etcd TLS configuration. Sensu supports TLS 1.0-1.2 cipher suites as listed in the <a href="https://golang.org/pkg/crypto/tls/#pkg-constants">Go TLS documentation</a>. You can use this attribute to defend your TLS servers from attacks on weak TLS ciphers. Go determines the default cipher suites based on the hardware used. 
<div class="notices note" ><p><strong>NOTE</strong>: To use TLS 1.3, add the following environment variable: <code>GODEBUG=&quot;tls13=1&quot;</code>.<br><br>To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>recommended</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-cipher-suites:
</span></span><span class="line"><span class="cl">  - TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
</span></span><span class="line"><span class="cl">  - TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
</span></span><span class="line"><span class="cl">  - TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
</span></span><span class="line"><span class="cl">  - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
</span></span><span class="line"><span class="cl">  - TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305
</span></span><span class="line"><span class="cl">  - TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>type</td>
<td>List</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_CIPHER_SUITES</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-cipher-suites TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
</span></span><span class="line"><span class="cl">sensu-backend start --etcd-cipher-suites TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 --etcd-cipher-suites TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-cipher-suites:
</span></span><span class="line"><span class="cl">  - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
</span></span><span class="line"><span class="cl">  - TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-client-cert-auth</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>If <code>true</code>, enable client certificate authentication. Otherwise, <code>false</code>.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>default</td>
<td><code>false</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_CLIENT_CERT_AUTH</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-client-cert-auth</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-client-cert-auth: true</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="etcd-client-log-level"></a></p>
<table>
<thead>
<tr>
<th>etcd-client-log-level</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Logging level for the internal etcd client: <code>panic</code>, <code>fatal</code>, <code>error</code>, <code>warn</code>, <code>info</code>, or <code>debug</code>.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>error</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_CLIENT_LOG_LEVEL</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-client-log-level error</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-client-log-level: <span class="s2">&#34;error&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-client-urls</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>List of client URLs to use when a sensu-backend is not operating as an etcd member. To configure sensu-backend for use with an external etcd instance, use this configuration option in conjunction with <code>no-embed-etcd</code> when executing sensu-backend start or <a href="#initialization">sensu-backend init</a>. If you do not use this option when using <code>no-embed-etcd</code>, sensu-backend start and sensu-backend-init will fall back to <a href="#etcd-listen-client-urls">&ndash;etcd-listen-client-urls</a>.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>List</td>
</tr>
<tr>
<td>default</td>
<td><code>http://127.0.0.1:2379</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_CLIENT_URLS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-client-urls <span class="s1">&#39;https://10.0.0.1:2379 https://10.1.0.1:2379&#39;</span>
</span></span><span class="line"><span class="cl">sensu-backend start --etcd-client-urls https://10.0.0.1:2379 --etcd-client-urls https://10.1.0.1:2379</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-client-urls:
</span></span><span class="line"><span class="cl">  - https://10.0.0.1:2379
</span></span><span class="line"><span class="cl">  - https://10.1.0.1:2379</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="etcd-discovery"></a></p>
<table>
<thead>
<tr>
<th>etcd-discovery</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Exposes <a href="https://etcd.io/docs/latest/op-guide/clustering/#discovery">etcd&rsquo;s embedded auto-discovery features</a>. Attempts to use <a href="https://etcd.io/docs/latest/op-guide/clustering/#etcd-discovery">etcd discovery</a> to get the cluster configuration.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_DISCOVERY</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-discovery https://discovery.etcd.io/3e86b59982e49066c5d813af1c2e2579cbf573de</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-discovery:
</span></span><span class="line"><span class="cl">  - https://discovery.etcd.io/3e86b59982e49066c5d813af1c2e2579cbf573de</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="etcd-discovery-srv"></a></p>
<table>
<thead>
<tr>
<th>etcd-discovery-srv</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Exposes <a href="../../../files/backend.yml">etcd&rsquo;s embedded auto-discovery features</a>. Attempts to use a <a href="https://etcd.io/docs/latest/op-guide/clustering/#dns-discovery">DNS SRV</a> record to get the cluster configuration.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td>&quot;&quot;</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_DISCOVERY_SRV</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-discovery-srv example.org</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-discovery-srv:
</span></span><span class="line"><span class="cl">  - example.org</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-initial-advertise-peer-urls</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>List of this member&rsquo;s peer URLs to advertise to the rest of the cluster.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>List</td>
</tr>
<tr>
<td>default</td>
<td><code>http://127.0.0.1:2380</code> (Debian and RHEL families)<br><br><code>http://$SENSU_HOSTNAME:2380</code> (Docker)
<div class="notices note" ><p><strong>NOTE</strong>: Docker-only Sensu binds to the hostnames of containers, represented here as <code>SENSU_HOSTNAME</code> in Docker default values.</p>
</div>
</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_INITIAL_ADVERTISE_PEER_URLS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-initial-advertise-peer-urls https://10.0.0.1:2380,https://10.1.0.1:2380
</span></span><span class="line"><span class="cl">sensu-backend start --etcd-initial-advertise-peer-urls https://10.0.0.1:2380 --etcd-initial-advertise-peer-urls https://10.1.0.1:2380</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-initial-advertise-peer-urls:
</span></span><span class="line"><span class="cl">  - https://10.0.0.1:2380
</span></span><span class="line"><span class="cl">  - https://10.1.0.1:2380</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-initial-cluster</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Initial cluster configuration for bootstrapping.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>default=http://127.0.0.1:2380</code> (Debian and RHEL families)<br><br><code>default=http://$SENSU_HOSTNAME:2380</code> (Docker)
<div class="notices note" ><p><strong>NOTE</strong>: Docker-only Sensu binds to the hostnames of containers, represented here as <code>SENSU_HOSTNAME</code> in Docker default values.</p>
</div>
</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_INITIAL_CLUSTER</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-initial-cluster backend-0<span class="o">=</span>https://10.0.0.1:2380,backend-1<span class="o">=</span>https://10.1.0.1:2380,backend-2<span class="o">=</span>https://10.2.0.1:2380</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-initial-cluster: <span class="s2">&#34;backend-0=https://10.0.0.1:2380,backend-1=https://10.1.0.1:2380,backend-2=https://10.2.0.1:2380&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-initial-cluster-state</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Initial cluster state (<code>new</code> or <code>existing</code>).
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>new</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_INITIAL_CLUSTER_STATE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-initial-cluster-state existing</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-initial-cluster-state: <span class="s2">&#34;existing&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-initial-cluster-token</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Unique token for the etcd cluster. Provide the same <code>etcd-initial-cluster-token</code> value for each cluster member. The <code>etcd-initial-cluster-token</code> allows etcd to generate unique cluster IDs and member IDs even for clusters with otherwise identical configurations, which prevents cross-cluster-interaction and potential cluster corruption.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_INITIAL_CLUSTER_TOKEN</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-initial-cluster-token unique_token_for_this_cluster</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-initial-cluster-token: <span class="s2">&#34;unique_token_for_this_cluster&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-key-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the etcd client API TLS key file. Secures communication between the embedded etcd client API and any etcd clients.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_KEY_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-key-file /path/to/tls/backend-1-key.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-key-file: <span class="s2">&#34;/path/to/tls/backend-1-key.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="etcd-listen-client-urls"></a></p>
<table>
<thead>
<tr>
<th>etcd-listen-client-urls</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>List of URLs to listen on for client traffic. Sensu&rsquo;s default embedded etcd configuration listens for unencrypted client communication on port 2379.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>List</td>
</tr>
<tr>
<td>default</td>
<td><code>http://127.0.0.1:2379</code> (Debian and RHEL families)<br><br><code>http://[::]:2379</code> (Docker)</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_LISTEN_CLIENT_URLS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-listen-client-urls https://10.0.0.1:2379,https://10.1.0.1:2379
</span></span><span class="line"><span class="cl">sensu-backend start --etcd-listen-client-urls https://10.0.0.1:2379 --etcd-listen-client-urls https://10.1.0.1:2379</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-listen-client-urls:
</span></span><span class="line"><span class="cl">  - https://10.0.0.1:2379
</span></span><span class="line"><span class="cl">  - https://10.1.0.1:2379</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-listen-peer-urls</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>List of URLs to listen on for peer traffic. Sensu&rsquo;s default embedded etcd configuration listens for unencrypted peer communication on port 2380.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>List</td>
</tr>
<tr>
<td>default</td>
<td><code>http://127.0.0.1:2380</code> (Debian and RHEL families)<br><br><code>http://[::]:2380</code> (Docker)</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_LISTEN_PEER_URLS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-listen-peer-urls https://10.0.0.1:2380,https://10.1.0.1:2380
</span></span><span class="line"><span class="cl">sensu-backend start --etcd-listen-peer-urls https://10.0.0.1:2380 --etcd-listen-peer-urls https://10.1.0.1:2380</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-listen-peer-urls:
</span></span><span class="line"><span class="cl">  - https://10.0.0.1:2380
</span></span><span class="line"><span class="cl">  - https://10.1.0.1:2380</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="etcd-log-level"></a></p>
<table>
<thead>
<tr>
<th>etcd-log-level</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Logging level for the embedded etcd server: <code>panic</code>, <code>fatal</code>, <code>error</code>, <code>warn</code>, <code>info</code>, or <code>debug</code>. Defaults to value provided for the <a href="#backend-log-level">backend log level</a>. If the backend log level is set to <code>trace</code>, the etcd log level will be set to <code>debug</code> (<code>trace</code> is not a valid etcd log level).</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><a href="#backend-log-level">Backend log level</a> value (or <code>debug</code>, if the backend log level is set to <code>trace</code>)</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_LOG_LEVEL</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-log-level debug</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-log-level: <span class="s2">&#34;debug&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-name</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Human-readable name for this member.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>default</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_NAME</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-name backend-0</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-name: <span class="s2">&#34;backend-0&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-peer-cert-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the peer server TLS certificate file. Sensu supports certificate bundles (or chains) as long as the server (or leaf) certificate is the <em>first</em> certificate in the bundle.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_PEER_CERT_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-peer-cert-file /path/to/tls/backend-1.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-peer-cert-file: <span class="s2">&#34;/path/to/tls/backend-1.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-peer-client-cert-auth</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Enable peer client certificate authentication.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>default</td>
<td><code>false</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_PEER_CLIENT_CERT_AUTH</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-peer-client-cert-auth</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-peer-client-cert-auth: true</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-peer-key-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the etcd peer API TLS key file. Secures communication between etcd cluster members.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_PEER_KEY_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-peer-key-file /path/to/tls/backend-1-key.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-peer-key-file: <span class="s2">&#34;/path/to/tls/backend-1-key.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-peer-trusted-ca-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the etcd peer API server TLS trusted CA file. Secures communication between etcd cluster members.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_PEER_TRUSTED_CA_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-peer-trusted-ca-file ./ca.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-peer-trusted-ca-file: <span class="s2">&#34;./ca.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-trusted-ca-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the client server TLS trusted CA certificate file. Secures communication with the etcd client server.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td><code>&quot;&quot;</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_TRUSTED_CA_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-trusted-ca-file ./ca.pem</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-trusted-ca-file: <span class="s2">&#34;./ca.pem&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="etcd-unsafe-no-fsync"></a></p>
<table>
<thead>
<tr>
<th>etcd-unsafe-no-fsync</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>The <code>etcd-unsafe-no-fsync</code> configuration option allows you to run sensu-backend with an embedded etcd node for testing and development with less load on the file system. If <code>true</code>, disable fsync. Otherwise, <code>false</code>.
<div class="notices note" ><p><strong>NOTE</strong>: The <code>etcd-unsafe-no-fsync</code> configuration option is available as of Sensu Go 6.7.2, but it is not available in 6.7.0 or 6.7.1.
Upgrade to Sensu Go 6.7.2 or later to use <code>etcd-unsafe-no-fsync</code>.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>default</td>
<td><code>false</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_UNSAFE_NO_FSYNC</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-unsafe-no-fsync</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-unsafe-no-fsync: true</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>no-embed-etcd</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>If <code>true</code>, do not embed etcd (use external etcd instead). Otherwise, <code>false</code>.
<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>default</td>
<td><code>false</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_NO_EMBED_ETCD</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --no-embed-etcd</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">no-embed-etcd: true</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h3 id="advanced-configuration-options">Advanced configuration options</h3>
<p><a id="etcd-election-timeout"></a></p>
<table>
<thead>
<tr>
<th>etcd-election-timeout</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Time that a follower node will go without hearing a heartbeat before attempting to become leader itself. In milliseconds (ms). Set to at least 10 times the <a href="#etcd-heartbeat-interval">etcd-heartbeat-interval</a>. Read the <a href="https://etcd.io/docs/current/tuning/#time-parameters">etcd time parameter documentation</a> for details and other considerations. 
<div class="notices warning" ><p><strong>WARNING</strong>: Make sure to set the same election timeout value for all etcd members in one cluster. Setting different values for etcd members may reduce cluster stability.</p>
</div>

<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>3000</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_ELECTION_TIMEOUT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-election-timeout <span class="m">3000</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-election-timeout: <span class="m">3000</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="etcd-heartbeat-interval"></a></p>
<table>
<thead>
<tr>
<th>etcd-heartbeat-interval</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Interval at which the etcd leader will notify followers that it is still the leader. In milliseconds (ms). Best practice is to set the interval based on round-trip time between members. Read the <a href="https://etcd.io/docs/current/tuning/#time-parameters">etcd time parameter documentation</a> for details and other considerations. 
<div class="notices warning" ><p><strong>WARNING</strong>: Make sure to set the same heartbeat interval value for all etcd members in one cluster. Setting different values for etcd members may reduce cluster stability.</p>
</div>

<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>300</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_HEARTBEAT_INTERVAL</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-heartbeat-interval <span class="m">300</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-heartbeat-interval: <span class="m">300</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-max-request-bytes</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Maximum etcd request size in bytes that can be sent to an etcd server by a client. Increasing this value allows etcd to process events with large outputs at the cost of overall latency. 
<div class="notices warning" ><p><strong>WARNING</strong>: Use with caution. This configuration option requires familiarity with etcd. Improper use of this option can result in a non-functioning Sensu instance.</p>
</div>

<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>1572864</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_MAX_REQUEST_BYTES</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-max-request-bytes <span class="m">1572864</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-max-request-bytes: <span class="m">1572864</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>etcd-quota-backend-bytes</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Maximum etcd database size in bytes. Increasing this value allows for a larger etcd database at the cost of performance. 
<div class="notices warning" ><p><strong>WARNING</strong>: Use with caution. This configuration option requires familiarity with etcd. Improper use of this option can result in a non-functioning Sensu instance.</p>
</div>

<div class="notices note" ><p><strong>NOTE</strong>: To use Sensu with an <a href="../../../operations/deploy-sensu/cluster-sensu/#use-an-external-etcd-cluster">external etcd cluster</a>, follow etcd&rsquo;s <a href="https://etcd.io/docs/latest/op-guide/clustering/">clustering guide</a>.
Do not configure external etcd in Sensu via backend command line flags or the backend configuration file (<code>/etc/sensu/backend.yml</code>).</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>4294967296</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_ETCD_QUOTA_BACKEND_BYTES</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --etcd-quota-backend-bytes <span class="m">4294967296</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcd-quota-backend-bytes: <span class="m">4294967296</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>eventd-buffer-size</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Number of incoming events that can be buffered before being processed by an eventd worker. 
<div class="notices warning" ><p><strong>WARNING</strong>: Modify with caution. Increasing this value may result in greater memory usage.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>100</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_EVENTD_BUFFER_SIZE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --eventd-buffer-size <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">eventd-buffer-size: <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>eventd-workers</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Number of workers spawned for processing incoming events that are stored in the eventd buffer. 
<div class="notices warning" ><p><strong>WARNING</strong>: Modify with caution. Increasing this value may result in greater CPU usage.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>100</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_EVENTD_WORKERS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --eventd-workers <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">eventd-workers: <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>keepalived-buffer-size</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Number of incoming keepalives that can be buffered before being processed by a keepalived worker. 
<div class="notices warning" ><p><strong>WARNING</strong>: Modify with caution. Increasing this value may result in greater memory usage.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>100</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_KEEPALIVED_BUFFER_SIZE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --keepalived-buffer-size <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">keepalived-buffer-size: <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>keepalived-workers</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Number of workers spawned for processing incoming keepalives that are stored in the keepalived buffer. 
<div class="notices warning" ><p><strong>WARNING</strong>: Modify with caution. Increasing this value may result in greater CPU usage.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>100</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_KEEPALIVED_WORKERS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --keepalived-workers <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">keepalived-workers: <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>pipelined-buffer-size</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Number of events to handle that can be buffered before being processed by a pipelined worker. 
<div class="notices warning" ><p><strong>WARNING</strong>: Modify with caution. Increasing this value may result in greater memory usage.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>100</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_PIPELINED_BUFFER_SIZE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --pipelined-buffer-size <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">pipelined-buffer-size: <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>pipelined-workers</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Number of workers spawned for handling events through the event pipeline that are stored in the pipelined buffer. 
<div class="notices warning" ><p><strong>WARNING</strong>: Modify with caution. Increasing this value may result in greater CPU usage.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td><code>100</code></td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_PIPELINED_WORKERS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --pipelined-workers <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">pipelined-workers: <span class="m">100</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h2 id="backend-configuration-methods">Backend configuration methods</h2>
<h3 id="backend-configuration-file">Backend configuration file</h3>
<p>You can customize the backend configuration in a <code>.yml</code> configuration file.
The default backend configuration file path for Linux is <code>/etc/sensu/backend.yml</code>.</p>
<p>To use the <code>backend.yml</code> file to configure the backend, list the desired configuration attributes and values.
Review the <a href="../../../files/backend.yml">example Sensu backend configuration file</a> for a complete example.</p>

<div class="notices note" ><p><strong>NOTE</strong>: The backend loads configuration upon startup.
If you make changes in the <code>backend.yml</code> configuration file after startup, you must restart the backend for the changes to take effect.</p>
</div>

<p>Configuration via command line flags or environment variables overrides any configuration specified in the backend configuration file.
Read <a href="#create-configuration-overrides">Create overrides</a> to learn more.</p>
<h3 id="command-line-flags">Command line flags</h3>
<p>You can customize the backend configuration with <code>sensu-agent start</code> command line flags.</p>
<p>To use command line flags, specify the desired configuration options and values along with the <code>sensu-backend start</code> command.
For example:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --deregistration-handler slack_deregister --log-level debug</span></span></code></pre></div>
</div>


<p>Configuration via command line flags overrides attributes specified in a configuration file or with environment variables.
Read <a href="#create-configuration-overrides">Create overrides</a> to learn more.</p>
<h3 id="environment-variables">Environment variables</h3>
<p>Instead of using a configuration file or command line flags, you can use environment variables to configure your Sensu backend.
Each backend configuration option has an associated environment variable.
You can also create your own environment variables, as long as you name them correctly and save them in the correct place.
Here&rsquo;s how.</p>
<ol>
<li>
<p>Create the files from which the <code>sensu-backend</code> service configured by our supported packages will read environment variables:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    
     
<div class="language" data-lang="Debian family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo touch /etc/default/sensu-backend</span></span></code></pre></div>
</div>



<div class="language" data-lang="RHEL family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo touch /etc/sysconfig/sensu-backend</span></span></code></pre></div>
</div>


     
     
  </div>
</div>

</li>
<li>
<p>Make sure the environment variable is named correctly.</p>
<ul>
<li>
<p>To rename a <a href="#backend-configuration-options">configuration option</a> you wish to specify as an environment variable, prepend <code>SENSU_BACKEND_</code>, convert dashes to underscores, and capitalize all letters.
For example, the environment variable for the configuration option <code>api-listen-address</code> is <code>SENSU_BACKEND_API_LISTEN_ADDRESS</code>.</p>
</li>
<li>
<p>For a custom environment variable, you do not have to prepend <code>SENSU_BACKEND</code>.
For example, <code>TEST_VAR_1</code> is a valid custom environment variable name.</p>
</li>
</ul>
</li>
<li>
<p>Add the environment variable to the environment file.</p>
<p>For example, to create <code>api-listen-address</code> as an environment variable and set it to <code>192.168.100.20:8080</code>:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="Debian family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;SENSU_BACKEND_API_LISTEN_ADDRESS=192.168.100.20:8080&#39;</span> <span class="p">|</span> sudo tee -a /etc/default/sensu-backend</span></span></code></pre></div>
</div>



<div class="language" data-lang="RHEL family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;SENSU_BACKEND_API_LISTEN_ADDRESS=192.168.100.20:8080&#39;</span> <span class="p">|</span> sudo tee -a /etc/sysconfig/sensu-backend</span></span></code></pre></div>
</div>



     
  </div>
</div>

</li>
<li>
<p>Restart the sensu-backend service so these settings can take effect:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="Debian family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl restart sensu-backend</span></span></code></pre></div>
</div>



<div class="language" data-lang="RHEL family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl restart sensu-backend</span></span></code></pre></div>
</div>



     
  </div>
</div>

</li>
</ol>

<div class="notices note" ><p><strong>NOTE</strong>: Sensu includes an environment variable for each backend configuration option.
They are listed in the <a href="#general-configuration">configuration description tables</a>.</p>
</div>

<h3 id="format-for-label-and-annotation-environment-variables">Format for label and annotation environment variables</h3>
<p>To use labels and annotations as environment variables in your handler configurations, you must use a specific format when you create the label and annotation environment variables.</p>
<p>For example, to create the labels <code>&quot;region&quot;: &quot;us-east-1&quot;</code> and <code>&quot;type&quot;: &quot;website&quot;</code> as an environment variable:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="Debian family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;BACKEND_LABELS=&#39;</span><span class="o">{</span><span class="s2">&#34;region&#34;</span>: <span class="s2">&#34;us-east-1&#34;</span>, <span class="s2">&#34;type&#34;</span>: <span class="s2">&#34;website&#34;</span><span class="o">}</span><span class="s1">&#39;&#39;</span> <span class="p">|</span> sudo tee -a /etc/default/sensu-backend</span></span></code></pre></div>
</div>



<div class="language" data-lang="RHEL family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;BACKEND_LABELS=&#39;</span><span class="o">{</span><span class="s2">&#34;region&#34;</span>: <span class="s2">&#34;us-east-1&#34;</span>, <span class="s2">&#34;type&#34;</span>: <span class="s2">&#34;website&#34;</span><span class="o">}</span><span class="s1">&#39;&#39;</span> <span class="p">|</span> sudo tee -a /etc/sysconfig/sensu-backend</span></span></code></pre></div>
</div>




  </div>
</div>

<p>To create the annotations <code>&quot;maintainer&quot;: &quot;Team A&quot;</code> and <code>&quot;webhook-url&quot;: &quot;https://hooks.slack.com/services/T0000/B00000/XXXXX&quot;</code> as an environment variable:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="Debian family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;BACKEND_ANNOTATIONS=&#39;</span><span class="o">{</span><span class="s2">&#34;maintainer&#34;</span>: <span class="s2">&#34;Team A&#34;</span>, <span class="s2">&#34;webhook-url&#34;</span>: <span class="s2">&#34;https://hooks.slack.com/services/T0000/B00000/XXXXX&#34;</span><span class="o">}</span><span class="s1">&#39;&#39;</span> <span class="p">|</span> sudo tee -a /etc/default/sensu-backend</span></span></code></pre></div>
</div>



<div class="language" data-lang="RHEL family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;BACKEND_ANNOTATIONS=&#39;</span><span class="o">{</span><span class="s2">&#34;maintainer&#34;</span>: <span class="s2">&#34;Team A&#34;</span>, <span class="s2">&#34;webhook-url&#34;</span>: <span class="s2">&#34;https://hooks.slack.com/services/T0000/B00000/XXXXX&#34;</span><span class="o">}</span><span class="s1">&#39;&#39;</span> <span class="p">|</span> sudo tee -a /etc/sysconfig/sensu-backend</span></span></code></pre></div>
</div>




  </div>
</div>

<h3 id="use-environment-variables-with-the-sensu-backend">Use environment variables with the Sensu backend</h3>
<p>Any environment variables you create in <code>/etc/default/sensu-backend</code> (Debian family) or <code>/etc/sysconfig/sensu-backend</code> (RHEL family) will be available to handlers executed by the Sensu backend.</p>
<p>For example, if you create a custom environment variable <code>TEST_VARIABLE</code> in your sensu-backend file, it will be available to use in your handler configurations as <code>$TEST_VARIABLE</code>.
The following handler will print the <code>TEST_VARIABLE</code> value set in your sensu-backend file in <code>/tmp/test.txt</code>:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Handler</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">print_test_var</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l">echo $TEST_VARIABLE &gt;&gt; ./tmp/test.txt</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">pipe</span></span></span></code></pre></div>
</div>



<div class="language" data-lang="json">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;Handler&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;api_version&#34;</span><span class="p">:</span> <span class="s2">&#34;core/v2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;metadata&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;print_test_var&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;spec&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;command&#34;</span><span class="p">:</span> <span class="s2">&#34;echo $TEST_VARIABLE &gt;&gt; ./tmp/test.txt&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timeout&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;pipe&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>




  </div>
</div>


<div class="notices note" ><p><strong>NOTE</strong>: We recommend using secrets with the <code>Env</code> provider to expose secrets from environment variables on your Sensu backend nodes rather than using environment variables directly in your handler commands.
Read the <a href="https://docs.sensu.io/sensu-go/latest/operations/manage-secrets/secrets/">secrets reference</a> and <a href="../../../operations/manage-secrets/secrets-management/#use-env-for-secrets-management">Use Env for secrets management</a> for details.</p>
</div>

<h2 id="create-configuration-overrides">Create configuration overrides</h2>
<p>Sensu has default settings and limits for certain configuration attributes, like the default log level.
Depending on your environment and preferences, you may want to create overrides for these Sensu-specific defaults and limits.</p>
<p>You can create configuration overrides in several ways:</p>
<ul>
<li>Command line configuration flag arguments for <code>sensu-backend start</code>.</li>
<li>Environment variables in <code>/etc/default/sensu-backend</code> (Debian family) or <code>/etc/sysconfig/sensu-backend</code> (RHEL family).</li>
<li>Configuration settings in the backend.yml config file.</li>
</ul>

<div class="notices note" ><p><strong>NOTE</strong>: We do not recommend editing the systemd unit file to create overrides.
Future package upgrades can overwrite changes in the systemd unit file.</p>
</div>

<p>Sensu applies the following precedence to override settings:</p>
<ol>
<li>Arguments passed to the Sensu backend via command line configuration flags.</li>
<li>Environment variables in <code>/etc/default/sensu-backend</code> (Debian family) or <code>/etc/sysconfig/sensu-backend</code> (RHEL family).</li>
<li>Configuration in the backend.yml config file.</li>
</ol>
<p>For example, if you create overrides using all three methods, the command line configuration flag values will take precedence over the values you specify in <code>/etc/default/sensu-backend</code> or <code>/etc/sysconfig/sensu-backend</code> or the backend.yml config file.</p>
<h3 id="example-override-log-level">Example override: Log level</h3>
<p>The default <a href="#backend-log-level">log level</a> for the Sensu backend is <code>warn</code>.
To override the default and automatically apply a different log level for the backend, add the <code>--log-level</code> command line configuration flag when you start the Sensu backend.
For example, to specify <code>debug</code> as the log level:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --log-level debug</span></span></code></pre></div>
</div>


<p>To configure an environment variable for the desired backend log level:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="Debian family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;SENSU_BACKEND_LOG_LEVEL=debug&#39;</span> <span class="p">|</span> sudo tee -a /etc/default/sensu-backend</span></span></code></pre></div>
</div>



<div class="language" data-lang="RHEL family">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;SENSU_BACKEND_LOG_LEVEL=debug&#39;</span> <span class="p">|</span> sudo tee -a /etc/sysconfig/sensu-backend</span></span></code></pre></div>
</div>




  </div>
</div>

<p>To configure the desired log level in the config file, add this line to backend.yml:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">log-level: debug</span></span></code></pre></div>
</div>


<h2 id="event-logging">Event logging</h2>
<p>If you wish, you can log all Sensu event data to a file in JSON format.
The Sensu event log file can be a reliable input source for your favorite data lake solution as well as a buffer for event data that you send to a database in case the database is unavailable.</p>

<div class="notices note" ><p><strong>NOTE</strong>: Event logs do not include log messages produced by sensu-backend service.
To write Sensu service logs to flat files on disk, read <a href="../../../operations/monitor-sensu/log-sensu-systemd/">Log Sensu services with systemd</a>.</p>
</div>

<p>Depending on the number and size of events, logging status and metrics events to a file can require intensive input/output (I/O) performance.
Make sure you have adequate I/O capacity before using the event logging function.</p>

<div class="notices protip" ><p><strong>PRO TIP</strong>: <a href="../../observe-process/tcp-stream-handlers/">TCP stream handlers</a>, which send observability event data to TCP sockets for external services to consume, are also a reliable way to transmit status and metrics event data without writing events to a local file.</p>
</div>

<p>Use these backend configuration options to customize event logging:</p>
<table>
<thead>
<tr>
<th>event-log-buffer-size</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Buffer size of the event logger. Corresponds to the maximum number of events kept in memory in case the log file is temporarily unavailable or more events have been received than can be written to the log file.</td>
</tr>
<tr>
<td>type</td>
<td>Integer</td>
</tr>
<tr>
<td>default</td>
<td>100000</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_EVENT_LOG_BUFFER_SIZE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --event-log-buffer-size <span class="m">100000</span></span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">event-log-buffer-size: <span class="m">100000</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>event-log-buffer-wait</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Buffer wait time for the event logger. When the buffer is full, the event logger will wait for the specified time for the writer to consume events from the buffer.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td>10ms</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_EVENT_LOG_BUFFER_WAIT</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --event-log-buffer-wait 10ms</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">event-log-buffer-wait: 10ms</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="event-log-file"></a></p>
<table>
<thead>
<tr>
<th>event-log-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the event log file. 
<div class="notices warning" ><p><strong>WARNING</strong>: The log file should be located on a local drive. Logging directly to network drives is not supported.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_EVENT_LOG_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --event-log-file /var/log/sensu/events.log</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">event-log-file: <span class="s2">&#34;/var/log/sensu/events.log&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<p><a id="event-log-parallel-encoders"></a></p>
<table>
<thead>
<tr>
<th>event-log-parallel-encoders</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Indicates whether Sensu should use parallel JSON encoders for event logging. If <code>true</code>, Sensu sets the number of JSON encoder workers to 50% of the total number of cores, with a minimum of 2 (for example, 6 JSON encoders on a 12-core machine). Otherwise, Sensu uses the default setting, which is a single JSON encoding worker.<br><br>The <code>event-log-parallel-encoders</code> setting will not take effect unless you also specify a path to the event log file with the <a href="#event-log-file"><code>event-log-file</code></a> configuration attribute.</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>default</td>
<td>false</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_EVENT_LOG_PARALLEL_ENCODERS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --event-log-parallel-encoders true</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">event-log-parallel-encoders: true</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h3 id="log-rotation">Log rotation</h3>
<p>To manually rotate event logs, first rename (move) the current log file.
Then, send the <em>SIGHUP</em> signal to the sensu-backend process so it creates a new log file and starts logging to it.
Most Linux distributions include <code>logrotate</code> to automatically rotate log files as a standard utility, configured to run once per day by default.</p>
<p>Because event log files can grow quickly for larger Sensu installations, we recommend using <code>logrotate</code> to automatically rotate log files more frequently.
To use the example log rotation configurations listed below, you may need to <a href="https://unix.stackexchange.com/questions/29574/how-can-i-set-up-logrotate-to-rotate-logs-hourly">configure <code>logrotate</code> to run once per hour</a>.</p>
<h4 id="log-rotation-for-systemd">Log rotation for systemd</h4>
<p>In this example, the <code>postrotate</code> script will reload the backend after log rotate is complete.
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">/var/log/sensu/events.log
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">  rotate <span class="m">3</span>
</span></span><span class="line"><span class="cl">  hourly
</span></span><span class="line"><span class="cl">  missingok
</span></span><span class="line"><span class="cl">  notifempty
</span></span><span class="line"><span class="cl">  compress
</span></span><span class="line"><span class="cl">  postrotate
</span></span><span class="line"><span class="cl">    /bin/systemctl reload sensu-backend.service &gt; /dev/null 2&gt;/dev/null <span class="o">||</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl">  endscript
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
</div>

</p>
<p>Without the <code>postrotate</code> script, the backend will not reload.
This will cause sensu-backend (and sensu-agent, if translated for the Sensu agent) to no longer write to the log file, even if logrotate recreates the log file.</p>
<h4 id="log-rotation-for-sysvinit">Log rotation for sysvinit</h4>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">/var/log/sensu/events.log
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">  rotate <span class="m">3</span>
</span></span><span class="line"><span class="cl">  hourly
</span></span><span class="line"><span class="cl">  missingok
</span></span><span class="line"><span class="cl">  notifempty
</span></span><span class="line"><span class="cl">  compress
</span></span><span class="line"><span class="cl">  postrotate
</span></span><span class="line"><span class="cl">    <span class="nb">kill</span> -HUP <span class="sb">`</span>cat /var/run/sensu/sensu-backend.pid 2&gt; /dev/null<span class="sb">`</span> 2&gt; /dev/null <span class="o">||</span> <span class="nb">true</span>
</span></span><span class="line"><span class="cl">  endscript
</span></span><span class="line"><span class="cl"><span class="o">}</span></span></span></code></pre></div>
</div>


<h2 id="platform-metrics-logging">Platform metrics logging</h2>
<p>Sensu automatically writes core platform metrics in <a href="https://docs.influxdata.com/enterprise_influxdb/v1.9/write_protocols/line_protocol_reference/">InfluxDB Line Protocol</a> to a file at <code>/var/log/sensu/backend-stats.log</code>.
You can use this file as an input source for your favorite data lake solution.</p>
<p>Metrics logging is enabled by default but can be disabled with the <code>disable-platform-metrics</code> configuration option.
Sensu appends updated metrics at the interval you specify with the <code>platform-metrics-logging-interval</code> configuration option (default is every 60 seconds).</p>
<p>To rotate the platform metrics log, use the same methods as for <a href="#log-rotation">event log rotation</a>.</p>
<p>Use these backend configuration options to customize platform metrics logging:</p>
<table>
<thead>
<tr>
<th>disable-platform-metrics</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td><code>true</code> to disable platform metrics logging. Otherwise, <code>false</code>.</td>
</tr>
<tr>
<td>type</td>
<td>Boolean</td>
</tr>
<tr>
<td>default</td>
<td>false</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_DISABLE_PLATFORM_METRICS</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --disable-platform-metrics false</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">disable-platform-metrics: false</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>platform-metrics-log-file</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Path to the platform metrics log file.
<div class="notices warning" ><p><strong>WARNING</strong>: The log file should be located on a local drive. Logging directly to network drives is not supported.</p>
</div>
</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td>/var/log/sensu/sensu-backend/stats.log</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_PLATFORM_METRICS_LOG_FILE</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --platform-metrics-log-file /var/log/sensu/sensu-backend/stats.log</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">platform-metrics-log-file: <span class="s2">&#34;/var/log/sensu/sensu-backend/stats.log&#34;</span></span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>platform-metrics-logging-interval</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>description</td>
<td>Interval at which Sensu should append metrics to the platform metrics log.</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
</tr>
<tr>
<td>default</td>
<td>60s</td>
</tr>
<tr>
<td>environment variable</td>
<td><code>SENSU_BACKEND_PLATFORM_METRICS_LOGGING_INTERVAL</code></td>
</tr>
<tr>
<td>command line example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --platform-metrics-logging-interval 60s</span></span></code></pre></div>
</div>

</td>
</tr>
<tr>
<td>backend.yml config file example</td>
<td><div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">platform-metrics-logging-interval: 60s</span></span></code></pre></div>
</div>

</td>
</tr>
</tbody>
</table>
<h2 id="service-management">Service management</h2>

<div class="notices note" ><p><strong>NOTE</strong>: Service management commands may require administrative privileges.</p>
</div>

<h3 id="start-the-service">Start the service</h3>
<p>Use the <code>sensu-backend</code> tool to start the backend and apply configuration flags.</p>
<p>Start the backend with <a href="#general-configuration">configuration flags</a>:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --state-dir /var/lib/sensu/sensu-backend --log-level debug</span></span></code></pre></div>
</div>


<p>View available configuration flags and defaults:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --help</span></span></code></pre></div>
</div>


<p>If you do not include any configuration flags with the <code>sensu-backend start</code> command, the backend loads configuration from <code>/etc/sensu/backend.yml</code> by default.</p>
<p>Start the backend using a service manager:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl start sensu-backend</span></span></code></pre></div>
</div>


<h3 id="stop-the-service">Stop the service</h3>
<p>Stop the backend service using a service manager:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl stop sensu-backend</span></span></code></pre></div>
</div>


<h3 id="restart-the-service">Restart the service</h3>
<p>Restart the backend using a service manager:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl restart sensu-backend</span></span></code></pre></div>
</div>


<p>You must restart the backend to implement any configuration updates.</p>
<h3 id="enable-on-boot">Enable on boot</h3>
<p>Enable the backend to start on system boot:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl <span class="nb">enable</span> sensu-backend</span></span></code></pre></div>
</div>


<p>Disable the backend from starting on system boot:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl disable sensu-backend</span></span></code></pre></div>
</div>



<div class="notices note" ><p><strong>NOTE</strong>: On older distributions of Linux, use <code>sudo chkconfig sensu-server on</code> to enable the backend and <code>sudo chkconfig sensu-server off</code> to disable the backend.</p>
</div>

<h3 id="get-service-status">Get service status</h3>
<p>View the status of the backend service using a service manager:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo systemctl status sensu-backend</span></span></code></pre></div>
</div>


<h3 id="get-service-version">Get service version</h3>
<p>Get the current backend version using the <code>sensu-backend</code> tool:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend version</span></span></code></pre></div>
</div>


<h3 id="get-help">Get help</h3>
<p>The <code>sensu-backend</code> tool provides general and command-specific help flags.</p>
<p>View sensu-backend commands:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend help</span></span></code></pre></div>
</div>


<p>List options for a specific command (in this case, sensu-backend start):</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend start --help</span></span></code></pre></div>
</div>




      <script async type="text/javascript" src="/js/clip.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
      
      




    </div>
  </article>

  <section id="sidebar">
    <aside id="contribute">
  <div id="page-rating">
    <h4>Is this page helpful?</h4>
    <fieldset class="rating">
      <input type="radio" id="heart5" name="rating" value="5">
      <label for="heart5" title="Excellent"></label>
      <input type="radio" id="heart4" name="rating" value="4">
      <label for="heart4" title="Good"></label>
      <input type="radio" id="heart3" name="rating" value="3">
      <label for="heart3" title="OK"></label>
      <input type="radio" id="heart2" name="rating" value="2">
      <label for="heart2" title="Poor"></label>
      <input type="radio" id="heart1" name="rating" value="1">
      <label for="heart1" title="Unusable"></label>
    </fieldset>
  </div>

  <div>
    <h4>Contribute:</h4>
    <ul>
      <li>
        <a href="https://github.com/sensu/sensu-docs/edit/main/content/sensu-go/6.7/observability-pipeline/observe-schedule/backend.md" target="_blank">
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
          Edit this page
        </a>
      </li>
      <li>
        <a href="https://github.com/sensu/sensu-docs/issues/new/choose" target="_blank">
          <i class="fa fa-bug" aria-hidden="true"></i>
          Report a docs issue
        </a>
      </li>
      <li>
        <a href="https://github.com/sensu/sensu-docs/blob/main/CONTRIBUTING.md" target="_blank">
          <i class="fa fa-info-circle" aria-hidden="true"></i>
          Read the contributing guide
        </a>
      </li>
    </ul>
  </div>
</aside>

    <aside id="toc">
  
    <div>
      <h4>On this page:</h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#initialization">Initialization</a></li>
    <li><a href="#backend-transport">Backend transport</a></li>
    <li><a href="#startup-and-backend-entities">Startup and backend entities</a></li>
    <li><a href="#synchronize-time-between-agents-and-the-backend">Synchronize time between agents and the backend</a></li>
    <li><a href="#backend-clusters">Backend clusters</a></li>
    <li><a href="#create-event-pipelines">Create event pipelines</a></li>
    <li><a href="#schedule-checks">Schedule checks</a></li>
    <li><a href="#backend-configuration-options">Backend configuration options</a></li>
    <li><a href="#backend-configuration-methods">Backend configuration methods</a></li>
    <li><a href="#create-configuration-overrides">Create configuration overrides</a></li>
    <li><a href="#event-logging">Event logging</a></li>
    <li><a href="#platform-metrics-logging">Platform metrics logging</a></li>
    <li><a href="#service-management">Service management</a></li>
  </ul>
</nav>
    </div>
  
</aside>

  </section>
</main>

<section id="footer">
  <div class="footer--content">

    <div class="footer--content--center">

      <div class="register">
        <img alt="Sensu Go Lizy mascot image" title="Register your Sensu installation" src="/images/lizy-logo-a.png">
        <h3>Register your Sensu installation &mdash; Get rewards!</h3>
        <p>Take 2 minutes to <a href="https://sensu.io/register"><b><u>register your installation</u></b></a> and let Sensu help you along your journey.<br>
        We'll send you a free reward when you add your first 10 checks and connect at least 10 agents!</p>
      </div>
    </div>

    <div class="footer--content--left">
      <h3>About Sensu</h3>
      <p>The Sensu monitoring event pipeline empowers businesses to automate their monitoring workflows and gain deep visibility into their multi-cloud infrastructure, from Kubernetes to bare metal. Companies like Sony, Box.com, and Activision rely on Sensu to help deliver value faster, at scale.</p>

      <div class="footer--navigation">
        <div>
          <h3>Navigation</h3>
          <ul>
            <li><a href="https://sensu.io/products">Products</a></li>
            <li>
              <ul>
                <li><a href="https://sensu.io/products/core">Sensu Core</a></li>
                <li><a href="https://sensu.io/products/enterprise">Sensu Enterprise</a></li>
              </ul>
            </li>
            <li><a href="https://sensu.io/solutions">Solutions</a></li>
            <li>
              <ul>
                <li><a href="https://sensu.io/solutions/container-monitoring">For Containers</a></li>
                <li><a href="https://sensu.io/solutions/cloud-monitoring">For Cloud</a></li>
                <li><a href="https://sensu.io/solutions/nagios-alternative">For Nagios</a></li>
              </ul>
            </li>
            <li><a href="https://sensu.io/pricing">Pricing</a></li>
          </ul>
        </div>
        <div>
          <h3>Resources</h3>
          <ul>
            <li><a href="https://sensu.io/community">Community</a></li>
            <li><a href="https://docs.sensu.io">Documentation</a></li>
            <li><a href="https://sensu.io/products/downloads">Downloads</a></li>
            <li><a href="https://account.sensu.io/">Support</a></li>
          </ul>
        </div>
        <div>
          <h3>Community</h3>
          <ul>
            <li><a href="https://sensu.io/about">About</a></li>
            <li><a href="https://blog.sensu.io/" target="_blank">Blog</a></li>
            <li><a href="https://sensu.io/customers">Customers</a></li>
            <li><a href="https://sensu.io/contact">Contact</a></li>
            <li><a href="https://sensu.io/sales">Sales</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer--content--right">
      <h3>Get In Touch</h3>
      <p>Our team is here to help. Use our <a href="https://sensu.io/contact"><b><u>contact form</b></u></a> or reach out on GitHub, Slack, or Twitter.</p>
      <ul class="inline">
        <li><a href="https://github.com/sensu" target="_blank"><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-920.000000, -4175.000000)">
              <g transform="translate(0.000000, 4008.000000)" fill="#2C3458">
                  <path d="M944,179.302423 C944,184.73279 940.5625,189.346199 935.796875,190.980114 C935.1875,191.092246 934.984375,190.707795 934.984375,190.387419 L934.984375,187.007457 C934.984375,185.854105 934.609375,185.117241 934.171875,184.73279 C936.84375,184.428433 939.65625,183.387212 939.65625,178.661672 C939.65625,177.316095 939.1875,176.210799 938.421875,175.361803 C938.546875,175.041428 938.953125,173.791963 938.296875,172.093972 C937.296875,171.773597 935,173.359456 935,173.359456 C934.046875,173.087137 933.015625,172.942968 932,172.942968 C930.984375,172.942968 929.953125,173.087137 929,173.359456 C929,173.359456 926.703125,171.773597 925.6875,172.093972 C925.046875,173.791963 925.453125,175.041428 925.578125,175.361803 C924.8125,176.210799 924.34375,177.316095 924.34375,178.661672 C924.34375,183.371194 927.140625,184.428433 929.8125,184.73279 C929.46875,185.053166 929.15625,185.581785 929.046875,186.382724 C928.359375,186.7031 926.609375,187.247739 925.5625,185.357522 C924.90625,184.188151 923.71875,184.092039 923.71875,184.092039 C922.546875,184.07602 923.640625,184.844921 923.640625,184.844921 C924.421875,185.213353 924.96875,186.639025 924.96875,186.639025 C925.671875,188.833598 929.015625,188.096734 929.015625,188.096734 C929.015625,189.121936 929.03125,190.099081 929.03125,190.387419 C929.03125,190.707795 928.8125,191.092246 928.203125,190.980114 C923.4375,189.346199 920,184.73279 920,179.302423 C920,172.51046 925.375,167 932,167 C938.625,167 944,172.51046 944,179.302423 Z"></path>
              </g>
          </g>
      </svg>
      </svg></a></li>
        <li><a href="https://slack.sensu.io/" target="_blank"><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-970.000000, -4174.000000)">
              <g transform="translate(0.000000, 4008.000000)" fill="#2C3458">
                  <path d="M983.558646,174.858722 C981.981445,175.389656 980.426,175.913367 978.850551,176.443791 C979.381566,178.019593 979.905426,179.574164 980.436149,181.149018 C982.013351,180.618084 983.568868,180.094373 985.144317,179.56395 C984.613229,177.988147 984.089442,176.433576 983.558646,174.858722 M987.341608,173.597015 C987.875471,175.177268 988.398382,176.725054 988.927352,178.290642 C989.756037,178.018937 990.556758,177.747669 991.363173,177.494204 C992.397094,177.169165 993.417872,177.616194 993.827396,178.558626 C994.288246,179.619546 993.796293,180.824125 992.708489,181.235696 C991.977422,181.512289 991.230584,181.747514 990.490901,182.001563 C990.405258,182.031112 990.320418,182.063069 990.205863,182.104583 C990.270843,182.306246 990.332611,182.502072 990.396862,182.697023 C990.599104,183.310913 990.820184,183.919332 991.000743,184.53957 C991.250662,185.398097 990.877426,186.300984 990.115766,186.758301 C989.350602,187.21766 988.359685,187.148348 987.740107,186.522857 C987.48201,186.262315 987.291814,185.904516 987.158276,185.557297 C986.881926,184.838635 986.664132,184.097501 986.41465,183.342724 C984.842632,183.872564 983.293175,184.39467 981.715316,184.926334 C981.780881,185.135657 981.839875,185.33214 981.903906,185.526945 C982.108631,186.149518 982.328324,186.767567 982.518155,187.394517 C982.876862,188.579689 982.220339,189.689565 981.01893,189.955652 C980.084524,190.162568 979.102077,189.628716 978.759651,188.702773 C978.491625,187.977983 978.253679,187.242175 978.0023,186.511256 C977.970101,186.417502 977.937538,186.32382 977.894972,186.200955 C977.176317,186.441068 976.471168,186.676877 975.765801,186.912175 C975.373216,187.043066 974.980924,187.128722 974.558915,187.042774 C973.695331,186.866793 973.028587,186.13799 972.956744,185.262317 C972.879935,184.327035 973.388828,183.514036 974.25964,183.211249 C974.963547,182.966612 975.674171,182.741237 976.381583,182.506669 C976.466496,182.478579 976.55024,182.446841 976.652603,182.410361 C976.123997,180.844627 975.601086,179.295966 975.0681,177.717318 C974.51102,177.900157 973.970732,178.081902 973.427451,178.254162 C973.037422,178.37783 972.650459,178.539437 972.249697,178.595763 C971.209351,178.742049 970.294513,178.107584 970.060948,177.128745 C969.815775,176.101533 970.325324,175.12138 971.318796,174.755556 C972.03548,174.491658 972.763335,174.258184 973.486153,174.010993 C973.579827,173.978964 973.673355,173.946496 973.79397,173.904836 C973.550914,173.175814 973.313845,172.461675 973.074512,171.74834 C972.9455,171.363911 972.86818,170.9797 972.952144,170.56864 C973.131023,169.693697 973.864792,169.035155 974.761961,168.966718 C975.677968,168.896895 976.483872,169.408859 976.785849,170.272931 C977.019633,170.941761 977.231952,171.618032 977.454565,172.290583 C977.494064,172.4098 977.537798,172.527559 977.585329,172.662317 C979.165889,172.133353 980.72586,171.61132 982.311677,171.080605 C982.104542,170.467809 981.897408,169.876609 981.705971,169.280375 C981.586962,168.909882 981.437652,168.53771 981.396401,168.156053 C981.286591,167.140296 981.9326,166.296142 982.949216,166.053402 C983.895304,165.827516 984.871253,166.334373 985.22244,167.268633 C985.503974,168.017355 985.744548,168.781398 986.00447,169.538291 C986.033236,169.622196 986.069012,169.703693 986.108439,169.804013 C986.874479,169.548505 987.622777,169.293362 988.374726,169.049601 C989.361919,168.729596 990.330567,169.104759 990.808575,169.982548 C991.399095,171.06718 990.889838,172.393822 989.71829,172.800431 C989.014237,173.044776 988.304123,173.27183 987.596931,173.507055 C987.520195,173.532518 987.444409,173.560608 987.341608,173.597015"></path>
              </g>
          </g>
      </svg></a></li>
        <li><a href="https://twitter.com/sensu" target="_blank"><svg width="24px" height="20px" viewBox="0 0 24 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-1017.000000, -4176.000000)">
                <g transform="translate(0.000000, 4008.000000)" fill="#2C3458">
                    <path d="M1038.54405,172.982073 C1038.55358,173.198827 1038.55676,173.41558 1038.55676,173.633963 C1038.55676,180.306063 1033.60511,188 1024.54749,188 C1021.76566,188 1019.17936,187.16558 1017,185.729791 C1017.38469,185.778683 1017.77732,185.79987 1018.17473,185.79987 C1020.48126,185.79987 1022.60498,184.994785 1024.28997,183.638853 C1022.13604,183.601369 1020.31594,182.139505 1019.68963,180.134941 C1019.99006,180.195241 1020.30004,180.226206 1020.61796,180.226206 C1021.06464,180.226206 1021.49861,180.162647 1021.91509,180.048566 C1019.66101,179.584094 1017.96331,177.543677 1017.96331,175.099087 L1017.96331,175.035528 C1018.62777,175.410365 1019.3876,175.640156 1020.19513,175.664602 C1018.87257,174.758475 1018.00305,173.215124 1018.00305,171.463168 C1018.00305,170.537484 1018.24467,169.672099 1018.67068,168.924055 C1021.09803,171.979791 1024.72871,173.987614 1028.82037,174.201108 C1028.73612,173.83116 1028.6932,173.443286 1028.6932,173.048892 C1028.6932,170.26043 1030.89641,168 1033.61624,168 C1035.03259,168 1036.31223,168.614407 1037.20877,169.595502 C1038.33263,169.36897 1039.38495,168.948501 1040.33872,168.369948 C1039.96834,169.54824 1039.18943,170.537484 1038.17208,171.161669 C1039.16876,171.044329 1040.11776,170.770535 1041,170.367992 C1040.33872,171.381682 1039.50576,172.269883 1038.54405,172.982073"></path>
                </g>
            </g>
        </svg>
      </a></li>
      </ul>

      <h3>Join Our Community</h3>
      <p>Become a member of the Sensu community and get access to the community Slack channel and our weekly newsletter containing updates about Sensu.</p>
      <form action="https://share.hsforms.com/10Dzh-ahWTaulALvp3xFfmQ2mwx3" target="_blank">
        <input type="email" id="EMAIL" name="email" placeholder="Your Email">
        <button type="submit">Sign Up!</button>
      </form>
    </div>
  </div>
  <footer>
    Made with <a href="https://twitter.com/hashtag/monitoringlove" target="_blank">#monitoringlove</a> by Sensu, Inc. &copy; 2013-2023 &mdash; <a href="https://sensu.io/privacy-policy" target="_blank" rel="noopener noreferrer">Privacy Policy</a>
  </footer>
</section>


<script>
$( document ).ready(function() {
  applyTipBoxes();
});

function boldFirstWord(element) {
  newElement = element.html().replace(/(^\w+)/, '<strong>$1</strong>');
  element.html(newElement);
}

function boldFirstTwoWords(element) {
  newElement = element.html().replace(/(^\w+ \w+)/, '<strong>$1</strong>');
  element.html(newElement);
}

function applyTipBoxes() {
  $('em').wrap(function() {
    if ($(this).text().includes('NOTE:')) {
      boldFirstWord($(this));
      return '<div class="alert-note"></div>';
    } else if ($(this).text().includes('WARNING:')) {
      boldFirstWord($(this));
      return '<div class="alert-warning"></div>';
    } else if ($(this).text().includes('PRO TIP:')) {
      boldFirstTwoWords($(this));
      return '<div class="alert-tip"></div>';
    } else if ($(this).text().includes('IMPORTANT:')) {
      boldFirstWord($(this));
      return '<div class="alert-important"></div>';
    }
  });
}
</script>

<script>
  
    var base_url = '';
    var repo_id  = 'sensu\/sensu-docs';
  
</script>

<script src="/javascripts/application.js"></script>
<script src="/js/toc.js"></script>


<script>
  /* Add headers to scrollspy */
  var headers   = document.getElementsByTagName("h2");
  var scrollspy = document.getElementById('scrollspy');

  if(scrollspy) {
    if(headers.length > 0) {
      for(var i = 0; i < headers.length; i++) {
        var li = document.createElement("li");
        li.setAttribute("class", "anchor");

        var a  = document.createElement("a");
        a.setAttribute("href", "#" + headers[i].id);
        a.setAttribute("title", headers[i].innerHTML);
        a.innerHTML = headers[i].innerHTML;

        li.appendChild(a)
        scrollspy.appendChild(li);
      }
    } else {
      scrollspy.parentElement.removeChild(scrollspy)
    }
  }

  /* Add permanent link next to the headers */
  var headers = document.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]");

  for(var i = 0; i < headers.length; i++) {
    var a = document.createElement("a");
    a.setAttribute("href", "#" + headers[i].id);
    a.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.3 9.2" width="18.3px"><path d="M-1.8-6.4h22v22h-22v-22z" fill="none"/><path d="M1.7 4.6C1.7 3 3 1.7 4.6 1.7h3.7V0H4.6C2.1 0 0 2.1 0 4.6s2.1 4.6 4.6 4.6h3.7V7.4H4.6C3 7.4 1.7 6.2 1.7 4.6zm3.8.9h7.3V3.7H5.5v1.8zM13.8 0h-3.7v1.7h3.7c1.6 0 2.8 1.3 2.8 2.8s-1.3 2.8-2.8 2.8h-3.7V9h3.7c2.5 0 4.6-2.1 4.6-4.6S16.3 0 13.8 0z"/></svg>';
    headers[i].appendChild(a);
  }
</script>

<script type="text/javascript" src="//script.crazyegg.com/pages/scripts/0087/0389.js" async="async"></script>

  <script>
    (function(i,s,o,g,r,a,m){
      i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
      []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
      m.parentNode.insertBefore(a,m)
    })(window, document,
      'script', '//www.google-analytics.com/analytics.js', 'ga');
     
    ga('create', 'UA-39138312-17', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
     
    var buttons = document.querySelectorAll('a');
    Array.prototype.map.call(buttons, function(item) {
      if (item.host != document.location.host) {
        item.addEventListener('click', function() {
          var action = item.getAttribute('data-action') || 'follow';
          ga('send', 'event', 'outbound', action, item.href);
        });
      }
    });
     
    var searchInputs = document.getElementsByClassName('search');
    for (var i=0; i < searchInputs.length; i++) {
      searchInputs[i].addEventListener('blur', function() {
        if (this.value) {
          var path = document.location.pathname;
          ga('send', 'pageview', path + '?q=' + this.value);
        }
      });
    }

    var dropdowns = document.getElementsByClassName('dropdown');
    for (var i=0; i < dropdowns.length; i++) {
      dropdowns[i].addEventListener('click', function(e) {
        e.stopPropagation();
        e.currentTarget.classList.toggle('open');
      });
    }
    document.addEventListener('click', function(e) {
      for (var i=0; i < dropdowns.length; i++) {
        dropdowns[i].classList.remove('open');
      };
    });

    
    var languages = {
      javascript: "JavaScript",
      json: "JSON",
      yml: "YML",
    };
    var toggles = document.getElementsByClassName('language-toggle');
    for (var i=0; i < toggles.length; i++) {
      var children = Array.prototype.slice.call(toggles[i].querySelectorAll('.language'));
      var langs = children.map(function(c) { return c.dataset.lang; });

      
      langs.forEach(function(lang) {
        var el = document.createElement('span');
        el.setAttribute('role', 'tab');
        el.setAttribute('tabindex', '0');
        el.setAttribute('data-lang', lang);
        el.innerText = languages[lang] || lang;
        el.addEventListener('click', function(e) {
          var elOffset = e.currentTarget.getBoundingClientRect().top;
          setLanguage(e.currentTarget.dataset.lang);
          e.currentTarget.scrollIntoView();
          window.scrollBy(0, -elOffset);
        });
        toggles[i].querySelector('.tabs').appendChild(el);
      });

      
      toggles[i].querySelector('.languages').children[0].classList.add('active');
    }

    
    function setLanguage(lang) {
      
      localStorage.setItem('lang', lang);

      
      var tabLists = Array.prototype.slice.call(document.querySelectorAll('.language-toggle .tabs'));
      
      tabLists.forEach(function(tabList) {
        var activeTab = tabList.querySelector('.active');
        var selectedTab = tabList.querySelector('[data-lang="' + lang + '"]');
        var allTabs = Array.prototype.slice.call(tabList.children);
        allTabs.forEach(function(t) { return t.classList.remove('active'); });
        if (selectedTab) {
          selectedTab.classList.add('active');
        } else if (activeTab) {
          activeTab.classList.add('active');
        } else {
          allTabs[0].classList.add('active');
        }
      });

      
      var selector = '.language-toggle .language[data-lang="' + lang + '"]';
      var langBlockChildren = document.querySelectorAll(selector);
      var langBlocks = Array.prototype.slice.call(langBlockChildren).map(function(el) { return el.closest('.languages'); });
      
      langBlocks.forEach(function(el) {
        Array.prototype.slice.call(el.children).forEach(function(c) {
          return c.classList.remove('active');
        })
      });
      
      langBlockChildren.forEach(function(el) { return el.classList.add('active'); });
    }
    
    setLanguage(localStorage.getItem('lang'));
  </script>



<script>
  !function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
  },s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
  a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
  twq('init','o1043');
  twq('track','PageView');
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
  var docsearchOptions = {
    appId: 'S633WESKWC',
    apiKey: '2aaea336f8b58143b17119944385071f',
    indexName: 'sensu',
    inputSelector: '#desktop-search',
    algoliaOptions: {
      facetFilters: [
        [
          
            'tags:sensu-go'
          
        ],
        [
          
            'version:6.7'
          
        ]
      ]
    },
    debug: false
  };

  if (document.querySelector(docsearchOptions.inputSelector)) {
    docsearch(docsearchOptions);
  }

  docsearchOptions.inputSelector = '#mobile-search';
  if (document.querySelector(docsearchOptions.inputSelector)) {
    docsearch(docsearchOptions);
  }
</script>

</body>
</html>

<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Troubleshoot Sensu - Sensu Docs</title>
    <meta name="generator" content="Hugo 0.101.0" />

    
    <meta name="description" content="Hereâ€™s how to troubleshoot Sensu, including how to look into errors and use Sensu service logs, which are often the best source of truth for troubleshooting.">
    
    <link rel="canonical" href="/sensu-go/6.8/operations/maintain-sensu/troubleshoot/">
    

    
      <meta name="docsearch:version" content="6.8" />
    

    
    <meta name="robots" content="noindex">
    

    <meta name="twitter:card" content="summary">
    <meta property="og:url" content="/sensu-go/6.8/operations/maintain-sensu/troubleshoot/">
    <meta property="og:site_name" content="Sensu Docs">
    <meta property="og:title" content="Troubleshoot Sensu | Sensu Go 6.8">
    <meta property="og:image" content="/images/sensu-logo-icon-dark@128px.png">
    <meta name="apple-mobile-web-app-title" content="Sensu Docs">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.png">
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css">
    <link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,500,600,700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/stylesheets/sensu.css">
    <script src="/javascripts/modernizr.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
      crossorigin="anonymous"></script>

	<script src="https://use.fontawesome.com/ea9395e21e.js"></script>
	<script src="//rum-static.pingdom.net/pa-5bacf02ccea07b00160001cc.js" async></script>

  
	<script>
    function css(element, property) {
      return window.getComputedStyle(element, null).getPropertyValue(property);
    }

    window.onload = function () {
      var span = document.createElement('span');
      span.className = 'fa';
      span.style.display = 'none';
      document.body.insertBefore(span, document.body.firstChild);

      var faScript = document.createElement('script');
      faScript.src = encodeURI('/js/vendor/fontawesome-all.min.js')

      var jQueryScript = document.createElement('script');
      jQueryScript.src = encodeURI('/js/vendor/jquery-3.4.1.min.js')
      var head = document.getElementsByTagName('head')[0];
      
      if ((css(span, 'font-family')) !== 'FontAwesome') {
        head.appendChild(faScript);
      }
      if (!window.jQuery) {
        console.log("apending jquery local script");
        head.appendChild(jQueryScript);
      }
      document.body.removeChild(span);
    };
  </script>
  <script src="/js/js-cookie.js"></script>
  <script src="/js/platformDropdowns.js"></script>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-804504629"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-804504629');
    gtag('config', 'UA-39138312-2');
  </script>
  
  </head>
  <body>


<script type="text/javascript" src="/javascripts/application.js"></script>


  
  


<header>
  <nav aria-label="Header" id="navbar">
    <label id="hamburger" for="toggle-drawer"></label>

    <a class="logo" href="/">Sensu Docs</a>
    
    
      <div class="product-picker">
  
  <div class="dropdown dropdown--products">
    
      
      <a>Sensu Go<i class="fa fa-chevron-down" aria-hidden="true"></i></a>
    
    <div class="options">
       
        
          
        
        <a href="/sensu-go/6.9/">Sensu Go</a>
       
        
          
        
        <a href="/sensu-core/1.9/">Sensu Core</a>
       
        
          
        
        <a href="/sensu-enterprise/3.8/">Sensu Enterprise</a>
       
        
          
        
        <a href="/sensu-enterprise-dashboard/2.16/">Sensu Enterprise Dashboard</a>
       
        
          
        
        <a href="/uchiwa/1.0/">Uchiwa</a>
      
    </div>
  </div>

  
  <div class="dropdown dropdown--versions">
    
    
    
    
    

    <a>
      6.8
      
      <i class="fa fa-chevron-down" aria-hidden="true"></i>
    </a>
    <div class="options">
      
        
          
        
          
        
          
        
          
        
      
      
      
        
        
          
          
            <a href="/sensu-go/6.9/operations/maintain-sensu/troubleshoot/">
          
            6.9 (latest)
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.8/operations/maintain-sensu/troubleshoot/">
          
            6.8 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.7/operations/maintain-sensu/troubleshoot/">
          
            6.7 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.6/operations/maintain-sensu/troubleshoot/">
          
            6.6 
          </a>
        
      
    </div>
  </div>
</div>


    

    <input id="desktop-search" class="algolia-search" type="text" placeholder="Search the docs" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
  </nav>

  
    
<div id="alerts">
  
  
  

  

  

  
</div>

    <div id="alerts">
  
  
  
    
    
    
    







<script>
  $(document).ready(function() {
    
    alertElement = "<div class='alert' style='background-color: #7a4595'>";
    
      alertElement += "<a href='\/sensu-go\/6.9\/operations\/maintain-sensu\/troubleshoot\/'>You\u0027re viewing documentation for an older or pre-release version of Sensu Go. Click here for the latest.</a>";
    
    alertElement += "<span class='alert--close' onClick='this.parentElement.remove()'>" +
                      "<i class='fa fa-times' aria-hidden='true'></i>" +
                    "</span></div>";

    
    $("#alerts").append(alertElement);
  });
</script>

  
</div>

  

</header>


<main class="main">
  <input class="hidden" type="checkbox" id="toggle-drawer" autocomplete="off">
<label id="backdrop" for="toggle-drawer"></label>
<aside class="drawer">
  <div class="drawer--inner">
    
    <div class="product-picker">
  
  <div class="dropdown dropdown--products">
    
      
      <a>Sensu Go<i class="fa fa-chevron-down" aria-hidden="true"></i></a>
    
    <div class="options">
       
        
          
        
        <a href="/sensu-go/6.9/">Sensu Go</a>
       
        
          
        
        <a href="/sensu-core/1.9/">Sensu Core</a>
       
        
          
        
        <a href="/sensu-enterprise/3.8/">Sensu Enterprise</a>
       
        
          
        
        <a href="/sensu-enterprise-dashboard/2.16/">Sensu Enterprise Dashboard</a>
       
        
          
        
        <a href="/uchiwa/1.0/">Uchiwa</a>
      
    </div>
  </div>

  
  <div class="dropdown dropdown--versions">
    
    
    
    
    

    <a>
      6.8
      
      <i class="fa fa-chevron-down" aria-hidden="true"></i>
    </a>
    <div class="options">
      
      
      
        
        
          
          
            <a href="/sensu-go/6.9/operations/maintain-sensu/troubleshoot/">
          
            6.9 (latest)
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.8/operations/maintain-sensu/troubleshoot/">
          
            6.8 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.7/operations/maintain-sensu/troubleshoot/">
          
            6.7 
          </a>
        
      
        
        
          
          
            <a href="/sensu-go/6.6/operations/maintain-sensu/troubleshoot/">
          
            6.6 
          </a>
        
      
    </div>
  </div>
</div>


    <input id="mobile-search" class="algolia-search" type="text" placeholder="Search the docs" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
    <nav>
      
        <ul>

  




  
  
  
  
  
  

  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    

      
      

        
        
      
    
  
    

      
      

        
        
      
    
  
    

      
      

        
        
      
    
  
    

      
      

        
        
          

          
          
          
          <li><a class="strong" href="/sensu-go/6.8">Sensu Go</a><ul>

          
          

          
            
            
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.8/release-notes/">Release Notes</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.8/get-started/">Get Started with Sensu</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.8/platforms/">Platforms and Distributions</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.8/commercial/">Commercial Features</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.8/versions/">Supported Versions</a></li>
              
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.8/sensu-plus/">Sensu Plus</a></li>
              
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.8/observability-pipeline/">
                    
                      Observability Pipeline
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/observability-pipeline/observe-entities/">
                              Entities
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-entities/entities/">Entities Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-entities/auto-register-deregister/">Auto-register and Deregister Entities</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-entities/monitor-external-resources/">Monitor External Resources</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/observability-pipeline/observe-events/">
                              Events
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-events/events/">Events Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/observability-pipeline/observe-schedule/">
                              Schedule
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/agent/">Agent Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/backend/">Backend Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/checks/">Checks Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/hooks/">Hooks Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/metrics/">Metrics Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/rule-templates/">Rule Templates Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/service-components/">Service Components Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/subscriptions/">Subscriptions Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/tokens/">Tokens Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/business-service-monitoring-sdk/">Business Service Monitoring SDK</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/augment-event-data-with-hooks/">Augment Event Data</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/prometheus-metrics/">Collect Prometheus Metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/collect-metrics-with-checks/">Collect Service Metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/business-service-monitoring/">Monitor Business Services</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-schedule/monitor-server-resources/">Monitor Server Resources</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/observability-pipeline/observe-filter/">
                              Filter
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-filter/filters/">Event Filters Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-filter/sensu-query-expressions/">Sensu Query Expressions Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-filter/reduce-alert-fatigue/">Reduce Alert Fatigue</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-filter/route-alerts/">Route Alerts</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/observability-pipeline/observe-transform/">
                              Transform
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-transform/mutators/">Mutators Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/observability-pipeline/observe-process/">
                              Process
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/handlers/">Handlers Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/pipelines/">Pipelines Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/silencing/">Silencing Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/sumo-logic-metrics-handlers/">Sumo Logic Metrics Handlers Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/tcp-stream-handlers/">TCP Stream Handlers Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/aggregate-metrics-statsd/">Aggregate StatsD Metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/handler-templates/">Create Handler Templates</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/plan-maintenance/">Plan Maintenance Windows</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/populate-metrics-influxdb/">Populate Metrics in InfluxDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/send-data-sumo-logic/">Send Data to Sumo Logic</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/send-email-alerts/">Send Email Alerts</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/send-pagerduty-alerts/">Send PagerDuty Alerts</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/observability-pipeline/observe-process/send-slack-alerts/">Send Slack Alerts</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion current active" href="/sensu-go/6.8/operations/">
                    
                      Operations
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/operations/monitoring-as-code/">Monitoring as Code</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/operations/deploy-sensu/">
                              Deploy Sensu
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/hardware-requirements/">Hardware Requirements</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/install-sensu/">Install Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/deployment-architecture/">Deployment Architecture</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/configuration-management/">Configuration Management</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/generate-certificates/">Generate Certificates</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/secure-sensu/">Secure Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/secure-postgres/">Secure PostgreSQL</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/cluster-sensu/">Run a Sensu Cluster</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/use-federation/">Reach Multi-cluster Visibility</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/scale-event-storage/">Scale with Enterprise Datastore</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/datastore/">Datastore Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/deploy-sensu/etcdreplicators/">Etcd Replicators Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/operations/control-access/">
                              Control Access
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/control-access/sso/">Configure SSO Authentication</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/control-access/use-apikeys/">Use API Keys</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/control-access/create-read-only-user/">Create a Read-only User</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/control-access/create-limited-service-accounts/">Create Limited Service Accounts</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/control-access/ad-auth/">AD Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/control-access/ldap-auth/">LDAP Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/control-access/oidc-auth/">OIDC Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/control-access/apikeys/">API Keys Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/control-access/namespaces/">Namespaces Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/control-access/rbac/">RBAC Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion active current" href="/sensu-go/6.8/operations/maintain-sensu/">
                              Maintain Sensu
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/maintain-sensu/upgrade/">Upgrade Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/maintain-sensu/migrate/">Migrate from Sensu Core and Sensu Enterprise</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/maintain-sensu/tune/">Tune Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="current" href="/sensu-go/6.8/operations/maintain-sensu/troubleshoot/">Troubleshoot</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/maintain-sensu/disaster-recovery/">Restore Sensu Configuration</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/maintain-sensu/license/">License Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/operations/monitor-sensu/">
                              Monitor Sensu
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/monitor-sensu/log-sensu-systemd/">Log Sensu Services</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/monitor-sensu/monitor-sensu-with-sensu/">Monitor Sensu with Sensu</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/monitor-sensu/health/">Health Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/monitor-sensu/ready/">Ready Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/monitor-sensu/tessen/">Tessen Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/operations/manage-secrets/">
                              Manage Secrets
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/manage-secrets/secrets-management/">Use Secrets Management</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/manage-secrets/secrets/">Secrets Reference</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/operations/manage-secrets/secrets-providers/">Secrets Providers Reference</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.8/guides/">Guides Index</a></li>
              
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.8/sensuctl/">
                    
                      Sensuctl CLI
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/sensuctl/create-manage-resources/">Create and Manage Resources</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/sensuctl/back-up-recover/">Back Up and Recover Resources</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/sensuctl/filter-responses/">Filter Responses</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/sensuctl/environment-variables/">Set Environment Variables</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/sensuctl/sensuctl-bonsai/">Use sensuctl with Bonsai</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.8/web-ui/">
                    
                      Web UI
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/web-ui/view-manage-resources/">View and Manage Resources</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/web-ui/search/">Search in the Web UI</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/web-ui/webconfig/">Configure the Web UI</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/web-ui/bsm-module/">Build Business Service Monitoring</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/web-ui/searches-reference/">Searches Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/web-ui/webconfig-reference/">Web UI Configuration Reference</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.8/catalog/">
                    
                      Sensu Catalog
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/catalog/sensu-catalog/">Configure Integrations in the Sensu Catalog</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/catalog/build-private-catalog/">Build a Private Catalog</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/catalog/catalog-reference/">Catalog Integrations Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/catalog/catalog-api/">Catalog API</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.8/api/">
                    
                      API
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/api/core/">
                              Core API
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/apikeys/">core/v2/apikeys</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/assets/">core/v2/assets</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/checks/">core/v2/checks</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/cluster/">core/v2/cluster</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/cluster-role-bindings/">core/v2/clusterrolebindings</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/cluster-roles/">core/v2/clusterroles</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/entities/">core/v2/entities</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/events/">core/v2/events</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/filters/">core/v2/filters</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/handlers/">core/v2/handlers</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/hooks/">core/v2/hooks</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/mutators/">core/v2/mutators</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/namespaces/">core/v2/namespaces</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/pipelines/">core/v2/pipelines</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/role-bindings/">core/v2/rolebindings</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/roles/">core/v2/roles</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/silenced/">core/v2/silenced</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/tessen/">core/v2/tessen</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/core/users/">core/v2/users</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/api/enterprise/">
                              Enterprise APIs
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/enterprise/authproviders/">enterprise/authentication/v2</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/enterprise/business-service-monitoring/">enterprise/bsm/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/enterprise/federation/">enterprise/federation/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/enterprise/pipeline/">enterprise/pipeline/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/enterprise/prune/">enterprise/prune/v1alpha</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/enterprise/searches/">enterprise/searches/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/enterprise/secrets/">enterprise/secrets/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/enterprise/datastore/">enterprise/store/v1</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/enterprise/webconfig/">enterprise/web/v1</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/api/other/">
                              Other APIs
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/other/auth/">/auth</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/other/health/">/health</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/other/license/">/license</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/other/metrics/">/metrics</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/other/ready/">/ready</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/api/other/version/">/version</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                <li><a class="strong" href="/sensu-go/6.8/reference/">Reference Index</a></li>
              
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.8/plugins/">
                    
                      Plugins
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/plugins/assets/">Assets Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/plugins/plugins/">Plugins Reference</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/plugins/install-plugins/">Install Plugins</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/plugins/use-assets-to-install-plugins/">Use Assets to Install Plugins</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="accordion " href="/sensu-go/6.8/plugins/featured-integrations/">
                              Featured Integrations
                              <i class="fa fa-chevron-down" aria-hidden="true"></i>
                            </a>
                            <ul>
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/ansible/">Ansible</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/chef/">Chef</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/aws-ec2/">EC2</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/elasticsearch/">Elasticsearch</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/email/">Email</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/graphite/">Graphite</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/influxdb/">InfluxDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/jira/">Jira</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/opentsdb/">OpenTSDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/pagerduty/">PagerDuty</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/prometheus/">Prometheus</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/puppet/">Puppet</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/rundeck/">Rundeck</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/saltstack/">SaltStack</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/servicenow/">ServiceNow</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/slack/">Slack</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/sumologic/">Sumo Logic</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/timescaledb/">TimescaleDB</a>
                                  </li>
                                
                              
                                
                                  
                                  <li>
                                    <a class="" href="/sensu-go/6.8/plugins/featured-integrations/wavefront/">Wavefront</a>
                                  </li>
                                
                              
                            </ul>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          

          
            
            
              
                
                

                <li>
                  <a class="strong accordion " href="/sensu-go/6.8/learn/">
                    
                      Learn Sensu
                    
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                  </a>
                  <ul>
                    
                    
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/learn/concepts-terminology/">Concepts and Terminology</a>
                          
                        </li>
                    
                  
                      
                        
                        <li>
                          
                            <a class="" href="/sensu-go/6.8/learn/demo/">Live Demo</a>
                          
                        </li>
                    
                  
                </ul>
                </li>
              
            
            
          
          </ul></li>
        
      
    
  
    

      
      

        
        
      
    
  
    
  
    
  



<script>
  var acc = document.querySelectorAll('.accordion > .fa');

  for (var i = 0; i < acc.length; i++) {
    acc[i].addEventListener('click', function(e) {
      e.preventDefault();
      this.parentElement.classList.toggle('active');
    });
  }
</script>
</ul>
      
      <hr>
      <div class="drawer--footer">
        <iframe src="https://ghbtns.com/github-btn.html?user=sensu&repo=sensu-docs&type=star&count=true" frameborder="0" scrolling="0" width="170" height="20"></iframe>
        <a target="_blank" href="https://github.com/sensu/sensu-docs/issues/new?title=Docs%20Feedback&body=%3C!--Thanks%20for%20submitting%20feedback%20to%20the%20Sensu%20docs!--%3E%0A%0ALink%20to%20page%3A%20%0A%0A%23%23%23%20Feedback">Open a docs issue</a>
        <a target="_blank" href="https://github.com/sensu/sensu-docs/edit/main/content/sensu-go/6.8/operations/maintain-sensu/troubleshoot.md">Edit this page</a>
        <a target="_blank" href="https://github.com/sensu/sensu-docs/blob/main/CONTRIBUTING.md">Read the contributing guide</a>
        
        
      </div>
    </nav>
  </div>
</aside>


  <article class="article">
    <div class="wrapper">
      <h1>Troubleshoot Sensu </h1>

      
        



  
  
  

  
  
    
    
      
    

    
    
      
    

    
    
    
      <div class="platform-picker-main">
        <div class="platform-picker--inner">
          <button class="platform-picker--value">All Platforms</button>
          <ul>
            
              <li><a data-platform="Linux" href="/sensu-go/6.8/operations/maintain-sensu/troubleshoot/">Linux</a></li>
            
              <li><a data-platform="Windows" href="/sensu-go/6.8/operations/maintain-sensu/troubleshoot/">Windows</a></li>
            
          </ul>
        </div>
      </div>
    
  


      
      <h2 id="service-logging">Service logging</h2>
<p>Logs produced by Sensu services (sensu-backend and sensu-agent) are often the best place to start when troubleshooting a variety of issues.</p>
<h3 id="log-file-locations">Log file locations</h3>
<div data-platform="Linux" class="platform">

<h4 id="linux">Linux</h4>
<p>Sensu services print <a href="https://dzone.com/articles/what-is-structured-logging">structured log messages</a> to standard output.
To capture these log messages to disk or another logging facility, Sensu services use capabilities provided by the underlying operating system&rsquo;s service management.
For example, logs are sent to the journald when systemd is the service manager, whereas log messages are redirected to <code>/var/log/sensu</code> when running under sysv init schemes.
If you are running systemd as your service manager and would rather have logs written to <code>/var/log/sensu/</code>, read <a href="../../monitor-sensu/log-sensu-systemd/">forwarding logs from journald to syslog</a>.</p>
<p>For journald targets, use these commands to follow the logs.
Replace the <code>&lt;service&gt;</code> variable with the name of the desired service (for example, <code>backend</code> or <code>agent</code>).</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="RHEL/family &gt;= 7">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">journalctl --follow --unit sensu-&lt;service&gt;</span></span></code></pre></div>
</div>



<div class="language" data-lang="Ubuntu &gt;= 15.04">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">journalctl --follow --unit sensu-&lt;service&gt;</span></span></code></pre></div>
</div>



<div class="language" data-lang="Debian &gt;= 8">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">journalctl --follow --unit sensu-&lt;service&gt;</span></span></code></pre></div>
</div>




  </div>
</div>

<p>For log file targets, use these commands to follow the logs.
Replace the <code>&lt;service&gt;</code> variable with the name of the desired service (for example, <code>backend</code> or <code>agent</code>).</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="RHEL/family &lt;= 6">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tail --follow /var/log/sensu/sensu-&lt;service&gt;</span></span></code></pre></div>
</div>



<div class="language" data-lang="Ubuntu &lt;= 14.10">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tail --follow /var/log/sensu/sensu-&lt;service&gt;</span></span></code></pre></div>
</div>



<div class="language" data-lang="Debian &lt;= 7">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">tail --follow /var/log/sensu/sensu-&lt;service&gt;</span></span></code></pre></div>
</div>




  </div>
</div>


<div class="notices note" ><p><strong>NOTE</strong>: Platform versions are listed for reference only and do not supersede the documented <a href="../../../platforms">supported platforms</a>.</p>
</div>

<h5 id="narrow-your-search-to-a-specific-timeframe">Narrow your search to a specific timeframe</h5>
<p>Use the <code>journald</code> keyword <code>since</code> to refine the basic <code>journalctl</code> commands and narrow your search by timeframe.</p>
<p>Retrieve all the logs for sensu-backend since yesterday:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">journalctl -u sensu-backend --since yesterday <span class="p">|</span> tee sensu-backend-<span class="k">$(</span>date +%Y-%m-%d<span class="k">)</span>.log</span></span></code></pre></div>
</div>


<p>Retrieve all the logs for sensu-agent since a specific time:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">journalctl -u sensu-agent --since 09:00 --until <span class="s2">&#34;1 hour ago&#34;</span> <span class="p">|</span> tee sensu-agent-<span class="k">$(</span>date +%Y-%m-%d<span class="k">)</span>.log</span></span></code></pre></div>
</div>


<p>Retrieve all the logs for sensu-backend for a specific date range:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">journalctl -u sensu-backend --since <span class="s2">&#34;2015-01-10&#34;</span> --until <span class="s2">&#34;2015-01-11 03:00&#34;</span> <span class="p">|</span> tee sensu-backend-<span class="k">$(</span>date +%Y-%m-%d<span class="k">)</span>.log</span></span></code></pre></div>
</div>


</div>

<h5 id="logging-edge-cases">Logging edge cases</h5>
<p>If a Sensu service experiences a panic crash, the service may seem to start and stop without producing any output in journalctl.
This is due to a <a href="https://github.com/systemd/systemd/issues/2913">bug in systemd</a>.</p>
<p>In these cases, try using the <code>_COMM</code> variable instead of the <code>-u</code> flag to access additional log entries:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">journalctl <span class="nv">_COMM</span><span class="o">=</span>sensu-backend.service --since yesterday</span></span></code></pre></div>
</div>


<div data-platform="Windows" class="platform">

<h4 id="windows">Windows</h4>
<p>The Sensu agent stores service logs to the location specified by the <code>log-file</code> configuration option (default <code>%ALLUSERSPROFILE%\sensu\log\sensu-agent.log</code>, <code>C:\ProgramData\sensu\log\sensu-agent.log</code> on standard Windows installations).
For more information about managing the Sensu agent for Windows, read the <a href="../../../observability-pipeline/observe-schedule/agent/">agent reference</a>.
You can also view agent events using the Windows Event Viewer, under Windows Logs, as events with source SensuAgent.</p>
<p>If you&rsquo;re running a <a href="../../../platforms/#windows">binary-only distribution of the Sensu agent for Windows</a>, you can follow the service log printed to standard output using this command:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Get-Content -  Path &#34;C:\scripts\test.txt&#34; -Wait</span></span></code></pre></div>
</div>


</div>

<h3 id="log-levels">Log levels</h3>
<p>Each log message is associated with a log level that indicates the relative severity of the event being logged:</p>
<table>
<thead>
<tr>
<th>Log level</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>panic</td>
<td>Severe errors that cause the service to shut down in an unexpected state</td>
</tr>
<tr>
<td>fatal</td>
<td>Fatal errors that cause the service to shut down (status 0)</td>
</tr>
<tr>
<td>error</td>
<td>Non-fatal service error messages</td>
</tr>
<tr>
<td>warn</td>
<td>Warning messages that indicate potential issues</td>
</tr>
<tr>
<td>info</td>
<td>Information messages that represent service actions</td>
</tr>
<tr>
<td>debug</td>
<td>Detailed service operation messages to help troubleshoot issues</td>
</tr>
<tr>
<td>trace</td>
<td>Confirmation messages about whether a rule authorized a request</td>
</tr>
</tbody>
</table>
<p>You can configure these log levels by specifying the desired log level as the value of <code>log-level</code> in the service configuration file (<code>agent.yml</code> or <code>backend.yml</code>) or as an argument to the <code>--log-level</code> command line flag:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-agent start --log-level debug</span></span></code></pre></div>
</div>


<p>You must restart the service after you change log levels via configuration files or command line arguments.
For help with restarting a service, read the <a href="../../../observability-pipeline/observe-schedule/agent/#restart-the-service">agent reference</a> or <a href="../../../observability-pipeline/observe-schedule/backend/#restart-the-service">backend reference</a>.</p>
<h4 id="increment-log-level-verbosity">Increment log level verbosity</h4>
<p>To increment the log level verbosity at runtime for the backend, run:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">kill</span> -s SIGUSR1 <span class="k">$(</span>pidof sensu-backend<span class="k">)</span></span></span></code></pre></div>
</div>


<p>To increment the log level verbosity at runtime for the agent, run:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">kill</span> -s SIGUSR1 <span class="k">$(</span>pidof sensu-agent<span class="k">)</span></span></span></code></pre></div>
</div>


<p>When you increment the log at the trace level (the most verbose log level), the log will wrap around to the error level.</p>
<h2 id="sensu-backend-startup-errors">Sensu backend startup errors</h2>
<p>The following errors are expected when starting up a Sensu backend with the default configuration:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">{&#34;component&#34;:&#34;etcd&#34;,&#34;level&#34;:&#34;warning&#34;,&#34;msg&#34;:&#34;simple token is not cryptographically signed&#34;,&#34;pkg&#34;:&#34;auth&#34;,&#34;time&#34;:&#34;2019-11-04T10:26:31-05:00&#34;}
</span></span><span class="line"><span class="cl">{&#34;component&#34;:&#34;etcd&#34;,&#34;level&#34;:&#34;warning&#34;,&#34;msg&#34;:&#34;set the initial cluster version to 3.5&#34;,&#34;pkg&#34;:&#34;etcdserver/membership&#34;,&#34;time&#34;:&#34;2019-11-04T10:26:31-05:00&#34;}
</span></span><span class="line"><span class="cl">{&#34;component&#34;:&#34;etcd&#34;,&#34;level&#34;:&#34;warning&#34;,&#34;msg&#34;:&#34;serving insecure client requests on 127.0.0.1:2379, this is strongly discouraged!&#34;,&#34;pkg&#34;:&#34;embed&#34;,&#34;time&#34;:&#34;2019-11-04T10:26:33-05:00&#34;}</span></span></code></pre></div>
</div>


<p>The <code>serving insecure client requests</code> warning is an expected warning from the embedded etcd database.
<a href="../../deploy-sensu/secure-sensu/#optional-configure-sensu-agent-mtls-authentication">TLS configuration</a> is recommended but not required.
For more information, read the <a href="https://etcd.io/docs/latest/op-guide/security/">etcd security documentation</a>.</p>
<h2 id="commonname-deprecation-in-go-115">CommonName deprecation in Go 1.15</h2>
<p>As of <a href="https://golang.google.cn/doc/go1.15#commonname">Go 1.15</a>, certificates must include their CommonName (CN) as a Subject Alternative Name (SAN) field.</p>
<p>The following logged error indicates that a certificate used to secure Sensu does not include the CN as a SAN field:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">{&#34;component&#34;:&#34;agent&#34;,&#34;error&#34;:&#34;x509: certificate relies on legacy Common Name field, use SANs or temporarily enable Common Name matching with GODEBUG=x509ignoreCN=0&#34;,&#34;level&#34;:&#34;error&#34;,&#34;msg&#34;:&#34;reconnection attempt failed&#34;,&#34;time&#34;:&#34;2021-06-29T11:07:51+02:00&#34;}</span></span></code></pre></div>
</div>


<p>If you see this connection error, follow <a href="../../deploy-sensu/generate-certificates/">Generate certificates</a> to make sure your certificates&rsquo; SAN fields include their CNs.</p>
<h2 id="permission-issues">Permission issues</h2>
<p>The Sensu user and group must own files and folders within <code>/var/cache/sensu/</code> and <code>/var/lib/sensu/</code>.
You will receive a logged error like those listed here if there is a permission issue with either the sensu-backend or the sensu-agent:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">{&#34;component&#34;:&#34;agent&#34;,&#34;error&#34;:&#34;open /var/cache/sensu/sensu-agent/assets.db: permission denied&#34;,&#34;level&#34;:&#34;fatal&#34;,&#34;msg&#34;:&#34;error executing sensu-agent&#34;,&#34;time&#34;:&#34;2019-02-21T22:01:04Z&#34;}
</span></span><span class="line"><span class="cl">{&#34;component&#34;:&#34;backend&#34;,&#34;level&#34;:&#34;fatal&#34;,&#34;msg&#34;:&#34;error starting etcd: mkdir /var/lib/sensu: permission denied&#34;,&#34;time&#34;:&#34;2019-03-05T20:24:01Z&#34;}</span></span></code></pre></div>
</div>


<p>Use a recursive <code>chown</code> to resolve permission issues with the sensu-backend:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo chown -R sensu:sensu /var/cache/sensu/sensu-backend</span></span></code></pre></div>
</div>


<p>or the sensu-agent:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo chown -R sensu:sensu /var/cache/sensu/sensu-agent</span></span></code></pre></div>
</div>


<h2 id="handlers-and-event-filters">Handlers and event filters</h2>
<p>Whether implementing new workflows or modifying existing workflows, you may need to troubleshoot various stages of the event pipeline.</p>
<h3 id="create-an-agent-api-test-event">Create an agent API test event</h3>
<p>In many cases, generating events using the <a href="../../../observability-pipeline/observe-schedule/agent#events-post">agent API</a> will save you time and effort over modifying existing check configurations.</p>
<p>Here&rsquo;s an example that uses cURL with the API of a local sensu-agent process to generate test-event check results:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">curl -X POST <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-d <span class="s1">&#39;{
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;check&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;metadata&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s1">      &#34;name&#34;: &#34;test-event&#34;
</span></span></span><span class="line"><span class="cl"><span class="s1">    },
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;status&#34;: 2,
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;output&#34;: &#34;this is a test event targeting the email_ops handler&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;handlers&#34;: [ &#34;email_ops&#34; ]
</span></span></span><span class="line"><span class="cl"><span class="s1">  }
</span></span></span><span class="line"><span class="cl"><span class="s1">}&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>http://127.0.0.1:3031/events</span></span></code></pre></div>
</div>


<h3 id="use-a-debug-handler">Use a debug handler</h3>
<p>It may also be helpful to review the complete event object being passed to your workflows.
We recommend using a debug handler like this one to write an event to disk as JSON data:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">Handler</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">api_version</span><span class="p">:</span><span class="w"> </span><span class="l">core/v2</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">debug</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l">pipe</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l">cat &gt; /var/log/sensu/debug-event.json</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="m">2</span></span></span></code></pre></div>
</div>



<div class="language" data-lang="json">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;Handler&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;api_version&#34;</span><span class="p">:</span> <span class="s2">&#34;core/v2&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;metadata&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;debug&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;spec&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;pipe&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;command&#34;</span><span class="p">:</span> <span class="s2">&#34;cat &gt; /var/log/sensu/debug-event.json&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timeout&#34;</span><span class="p">:</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>




  </div>
</div>

<p>With this handler definition installed in your Sensu backend, you can add the <code>debug</code> to the list of handlers in your test event:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">curl -X POST <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-H <span class="s1">&#39;Content-Type: application/json&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>-d <span class="s1">&#39;{
</span></span></span><span class="line"><span class="cl"><span class="s1">  &#34;check&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;metadata&#34;: {
</span></span></span><span class="line"><span class="cl"><span class="s1">      &#34;name&#34;: &#34;test-event&#34;
</span></span></span><span class="line"><span class="cl"><span class="s1">    },
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;status&#34;: 2,
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;output&#34;: &#34;this is a test event targeting the email_ops handler&#34;,
</span></span></span><span class="line"><span class="cl"><span class="s1">    &#34;handlers&#34;: [ &#34;email_ops&#34;, &#34;debug&#34; ]
</span></span></span><span class="line"><span class="cl"><span class="s1">  }
</span></span></span><span class="line"><span class="cl"><span class="s1">}&#39;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>http://127.0.0.1:3031/events</span></span></code></pre></div>
</div>


<p>The observability event data should be written to <code>/var/log/sensu/debug-event.json</code> for inspection.
The contents of this file will be overwritten by every event sent to the <code>debug</code> handler.</p>

<div class="notices note" ><p><strong>NOTE</strong>: When multiple Sensu backends are configured in a cluster, event processing is distributed across all members.
You may need to check the filesystem of each Sensu backend to locate the debug output for your test event.</p>
</div>

<h3 id="manually-execute-a-handler">Manually execute a handler</h3>
<p>If you are not receiving events via a handler even though a check is generating events as expected, follow these steps to manually execute the handler and confirm whether the handler is working properly.</p>
<ol>
<li>
<p>List all events:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensuctl event list</span></span></code></pre></div>
</div>

</p>
<p>Choose an event from the list to use for troubleshooting and note the event&rsquo;s check and entity names.</p>
</li>
<li>
<p>Navigate to the <code>/var/cache/sensu/sensu-backend/</code> directory:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">cd</span> /var/cache/sensu/sensu-backend/</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Run <code>ls</code> to list the contents of the <code>/var/cache/sensu/sensu-backend/</code> directory.
In the list, identify the handler&rsquo;s dynamic runtime asset SHA.</p>

<div class="notices note" ><p><strong>NOTE</strong>: If the list includes more than one SHA, run <code>sensuctl asset list</code>.
In the response, the Hash column contains the first seven characters for each asset build&rsquo;s SHA.
Note the hash for your build of the handler asset and compare it with the SHAs listed in the <code>/var/cache/sensu/sensu-backend/</code> directory to find the correct handler asset SHA.</p>
</div>

</li>
<li>
<p>Navigate to the <code>bin</code> directory for the handler asset SHA.
Before you run the command below, replace <code>&lt;handler_asset_sha&gt;</code> with the SHA you identified in the previous step.
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">cd</span> &lt;handler_asset_sha&gt;/bin</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Run the command to manually execute the handler.
Before you run the command below, replace the following text:</p>
<ul>
<li><code>&lt;entity_name&gt;</code>: Replace with the entity name for the event you are using to troubleshoot.</li>
<li><code>&lt;check_name&gt;</code>: Replace with the check name for the event you are using to troubleshoot.</li>
<li><code>&lt;handler_command&gt;</code>: Replace with the <code>command</code> value for the handler you are troubleshooting.</li>
</ul>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensuctl event info &lt;entity_name&gt; &lt;check_name&gt; --format json <span class="p">|</span> ./&lt;handler_command&gt;</span></span></code></pre></div>
</div>


</li>
</ol>
<p>If your handler is working properly, you will receive an alert for the event via the handler.
The response for your manual execution command will also include a message to confirm notification was sent.
In this case, your Sensu pipeline is not causing the problem with missing events.</p>
<p>If you do not receive an alert for the event, the handler is not working properly.
In this case, the manual execution response will include the message <code>Error executing &lt;handler_asset_name&gt;:</code> followed by a description of the specific error to help you correct the problem.</p>
<h2 id="dynamic-runtime-assets">Dynamic runtime assets</h2>
<p>Use the information in this section to troubleshoot error messages related to dynamic runtime assets.</p>
<h3 id="incorrect-asset-filter">Incorrect asset filter</h3>
<p>Dynamic runtime asset filters allow you to scope an asset to a particular operating system or architecture.
For an example, read the <a href="../../../plugins/assets#asset-example-multiple-builds">asset reference</a>.
An improperly applied asset filter can prevent the asset from being downloaded by the desired entity and result in error messages both on the agent and the backend illustrating that the command was not found:</p>
<p><strong>Agent log entry</strong></p>
<div class="language" data-lang="json">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset&#34;</span><span class="p">:</span> <span class="s2">&#34;check-disk-space&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;component&#34;</span><span class="p">:</span> <span class="s2">&#34;asset-manager&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;entity&#34;</span><span class="p">:</span> <span class="s2">&#34;sensu-centos&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;true == false&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;level&#34;</span><span class="p">:</span> <span class="s2">&#34;debug&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;msg&#34;</span><span class="p">:</span> <span class="s2">&#34;entity not filtered, not installing asset&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;time&#34;</span><span class="p">:</span> <span class="s2">&#34;2020-09-12T18:28:05Z&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>


<p><strong>Backend event</strong></p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nn">---</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">timestamp</span><span class="p">:</span><span class="w"> </span><span class="m">1568148292</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">check</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l">check-disk-space</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">handlers</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">high_flap_threshold</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">low_flap_threshold</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">publish</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">runtime_assets</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">sensu-disk-checks</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">subscriptions</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">caching_servers</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">proxy_entity_name</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">check_hooks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">stdin</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">subdue</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">ttl</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">round_robin</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">duration</span><span class="p">:</span><span class="w"> </span><span class="m">0.001795508</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">executed</span><span class="p">:</span><span class="w"> </span><span class="m">1568148292</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">history</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="m">127</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">executed</span><span class="p">:</span><span class="w"> </span><span class="m">1568148092</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">issued</span><span class="p">:</span><span class="w"> </span><span class="m">1568148292</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">output: &#39;sh: check-disk-space</span><span class="p">:</span><span class="w"> </span><span class="l">command not found&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">state</span><span class="p">:</span><span class="w"> </span><span class="l">failing</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">status</span><span class="p">:</span><span class="w"> </span><span class="m">127</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">total_state_change</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">last_ok</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">occurrences</span><span class="p">:</span><span class="w"> </span><span class="m">645</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">occurrences_watermark</span><span class="p">:</span><span class="w"> </span><span class="m">645</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">output_metric_format</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">output_metric_handlers</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">output_metric_tags</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">env_vars</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">failing-disk-check</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">default</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l">default</span></span></span></code></pre></div>
</div>



<div class="language" data-lang="json">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;timestamp&#34;</span><span class="p">:</span> <span class="mi">1568148292</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;check&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;command&#34;</span><span class="p">:</span> <span class="s2">&#34;check-disk-space&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;handlers&#34;</span><span class="p">:</span> <span class="p">[],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;high_flap_threshold&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;interval&#34;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;low_flap_threshold&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;publish&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;runtime_assets&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;sensu-disk-checks&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subscriptions&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="s2">&#34;caching_servers&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;proxy_entity_name&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;check_hooks&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;stdin&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;subdue&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;ttl&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;timeout&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;round_robin&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;duration&#34;</span><span class="p">:</span> <span class="mf">0.001795508</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;executed&#34;</span><span class="p">:</span> <span class="mi">1568148292</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;history&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;status&#34;</span><span class="p">:</span> <span class="mi">127</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&#34;executed&#34;</span><span class="p">:</span> <span class="mi">1568148092</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;issued&#34;</span><span class="p">:</span> <span class="mi">1568148292</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;output&#34;</span><span class="p">:</span> <span class="s2">&#34;sh: check-disk-space: command not found\n&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;state&#34;</span><span class="p">:</span> <span class="s2">&#34;failing&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;status&#34;</span><span class="p">:</span> <span class="mi">127</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;total_state_change&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;last_ok&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;occurrences&#34;</span><span class="p">:</span> <span class="mi">645</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;occurrences_watermark&#34;</span><span class="p">:</span> <span class="mi">645</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;output_metric_format&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;output_metric_handlers&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;output_metric_tags&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;env_vars&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;metadata&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;failing-disk-check&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nt">&#34;namespace&#34;</span><span class="p">:</span> <span class="s2">&#34;default&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;metadata&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;namespace&#34;</span><span class="p">:</span> <span class="s2">&#34;default&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>




  </div>
</div>

<p>If you receive a message like this, review your asset definition â€” it means that the entity wasn&rsquo;t able to download the required asset due to asset filter restrictions.
To review the filters for an asset, use the sensuctl <code>asset info</code> command with a <code>--format</code> flag:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="YML">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensuctl asset info sensu-disk-checks --format yaml</span></span></code></pre></div>
</div>



<div class="language" data-lang="JSON">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensuctl asset info sensu-disk-checks --format wrapped-json</span></span></code></pre></div>
</div>




  </div>
</div>

<h4 id="conflating-operating-systems-with-families">Conflating operating systems with families</h4>
<p>A common asset filter issue is conflating operating systems with the family they&rsquo;re a part of.
For example, although Ubuntu is part of the Debian family of Linux distributions, Ubuntu is not the same as Debian.
A practical example might be:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="l">entity.system.platform == &#39;debian&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="l">entity.system.arch == &#39;amd64&#39;</span></span></span></code></pre></div>
</div>



<div class="language" data-lang="json">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;entity.system.platform == &#39;debian&#39;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;entity.system.arch == &#39;amd64&#39;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>




  </div>
</div>

<p>This would not allow an Ubuntu system to run the asset.</p>
<p>Instead, the asset filter should look like this:</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="l">entity.system.platform_family == &#39;debian&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="l">entity.system.arch == &#39;amd64&#39;</span></span></span></code></pre></div>
</div>



<div class="language" data-lang="json">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;entity.system.platform_family == &#39;debian&#39;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;entity.system.arch == &#39;amd64&#39;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>



  </div>
</div>

<p>or</p>
<div class="language-toggle">
  <div class="tabs"></div>
  <div class="languages">
    

<div class="language" data-lang="yml">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yml" data-lang="yml"><span class="line"><span class="cl"><span class="nt">filters</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="l">entity.system.platform == &#39;ubuntu&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span>- <span class="l">entity.system.arch == &#39;amd64&#39;</span></span></span></code></pre></div>
</div>



<div class="language" data-lang="json">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;entity.system.platform == &#39;ubuntu&#39;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;entity.system.arch == &#39;amd64&#39;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>




  </div>
</div>

<p>This would allow the asset to be downloaded onto the target entity.</p>
<h4 id="running-the-agent-on-an-unsupported-linux-platform">Running the agent on an unsupported Linux platform</h4>
<p>If you run the Sensu agent on an unsupported Linux platform, the agent might fail to correctly identify your version of Linux and could download the wrong version of an asset.</p>
<p>This issue affects Linux distributions that do not include the <code>lsb_release</code> package in their default installations.
In this case, <code>gopsutil</code> may try to open <code>/etc/lsb_release</code> or try to run <code>/usr/bin/lsb_release</code> to find system information, including Linux version.
Since the <code>lsb_release</code> package is not installed, the agent will not be able to discover the Linux version as expected.</p>
<p>To resolve this problem, install the <a href="https://pkgs.org/download/lsb"><code>lsb_release</code> package</a> for your Linux distribution.</p>
<h3 id="checksum-mismatch">Checksum mismatch</h3>
<p>When a downloaded dynamic runtime asset checksum does not match the checksum specified in the asset definition, the agent logs a message similar to this example:</p>
<div class="language" data-lang="json">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;asset&#34;</span><span class="p">:</span> <span class="s2">&#34;check-disk-space&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;component&#34;</span><span class="p">:</span> <span class="s2">&#34;asset-manager&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;entity&#34;</span><span class="p">:</span> <span class="s2">&#34;sensu-centos&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;filters&#34;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;true == false&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;level&#34;</span><span class="p">:</span> <span class="s2">&#34;debug&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;msg&#34;</span><span class="p">:</span> <span class="s2">&#34;error getting assets for check: could not validate downloaded asset $ASSET_NAME (X.X MB): sha512 of downloaded asset (6b73p32XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX) does not match specified sha512 in asset definition (e6b7c8eXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX)&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;time&#34;</span><span class="p">:</span> <span class="s2">&#34;2019-09-12T18:28:05Z&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>


<p>To correct this issue, first confirm that the URL in the asset definition is valid.
Manually download the asset with a cURL or wget command and make sure that the downloaded file is a valid <code>tar.gz</code> file with the contents you expect.</p>
<p>If the downloaded <code>tar.gz</code> file contents are correct, use the <a href="https://www.computerhope.com/unix/sha512sum.htm"><code>sha512sum</code> command</a> to calculate the asset checksum and manually confirm that the checksum in the downloaded asset definition is correct.</p>
<p>If the checksum in the downloaded asset definition is correct, confirm that there is enough space available in <code>/tmp</code> to download the asset.
On Linux systems, the Sensu agent downloads assets into <code>/tmp</code>.
The log error message specifies the size of the asset artifact in parentheses after the asset name.
If space in <code>/tmp</code> is insufficient, asset downloads will be truncated and the checksum will not be validated.</p>
<h3 id="certificate-error-when-fetching-assets">Certificate error when fetching assets</h3>
<p>When Sensu cannot fetch the assets referenced in a resource definition, the agent logs a message similar to this example:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">error getting assets for check: error fetching asset: Get &#34;https://assets.bonsai.sensu.io/2940de675113d07710c0f896efa8b43b7c301c5c/sensu-plugins-process-checks_4.0.0_centos_linux_amd64.tar.gz&#34;: x509: certificate signed by unknown authority</span></span></code></pre></div>
</div>


<p>To correct this issue, confirm that you can download the asset from one of the agent hosts using the link quoted in the error message.
If the download does not work, the problem may be due to a proxy between the agent and the internet or the proxy settings.</p>
<p>If there are no proxies or no proxy settings of concern, you may need to update the certificate store on your agents.
The <a href="https://assets.bonsai.sensu.io">https://assets.bonsai.sensu.io</a> SSL certificate uses the AWS Private Certificate Authority (CA), which your agents&rsquo; operating systems should be configured to trust.</p>
<p>If you are using PowerShell, you may see this error if PowerShell is configured to use TLS 1.0 â€” <a href="https://assets.bonsai.sensu.io">https://assets.bonsai.sensu.io</a> requires TLS 1.2.</p>
<p>To check which TLS version PowerShell is using, run:</p>
<div class="language" data-lang="powershell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="no">[Net.ServicePointManager]</span><span class="p">::</span><span class="n">SecurityProtocol</span></span></span></code></pre></div>
</div>


<p>If the response does not include <code>Tls12</code>, run the following command to require it:</p>
<div class="language" data-lang="powershell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="no">[Net.ServicePointManager]</span><span class="p">::</span><span class="n">SecurityProtocol</span> <span class="p">=</span> <span class="no">[Net.SecurityProtocolType]</span><span class="p">::</span><span class="n">Tls12</span></span></span></code></pre></div>
</div>


<h2 id="etcd-clusters">Etcd clusters</h2>
<p>Some issues require you to investigate the state of the etcd cluster or data stored within etcd.
In these cases, we suggest using the <a href="https://etcd.io/docs/latest/dev-guide/interacting_v3/">etcdctl tool</a> to query and manage the etcd database.</p>
<p>Sensu&rsquo;s supported packages do not include the etcdctl executable, so you must get it from a compatible etcd release.</p>
<h3 id="configure-etcdctl-environment-variables">Configure etcdctl environment variables</h3>
<p>To use etcdctl to investigate etcd cluster and data storage issues, first run these commands to configure etcdctl environment variables:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">ETCDCTL_API</span><span class="o">=</span><span class="m">3</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">ETCDCTL_CACERT</span><span class="o">=</span>/etc/sensu/ca.pem
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">ETCDCTL_ENDPOINTS</span><span class="o">=</span><span class="s2">&#34;https://backend01:2379,https://backend02:2379,https://backend03:2379&#34;</span></span></span></code></pre></div>
</div>


<p>If your etcd uses client certificate authentication, run these commands too:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">ETCDCTL_CERT</span><span class="o">=</span>/etc/sensu/cert.pem
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">ETCDCTL_KEY</span><span class="o">=</span>/etc/sensu/key.pem</span></span></code></pre></div>
</div>


<h3 id="view-cluster-status-and-alarms">View cluster status and alarms</h3>
<p>Use the commands listed here to retrieve etcd cluster status and list and clear alarms.</p>
<p>To retrieve etcd cluster status:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcdctl endpoint status</span></span></code></pre></div>
</div>


<p>To retrieve a list of etcd alarms:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcdctl alarm list</span></span></code></pre></div>
</div>


<p>To clear etcd alarms:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcdctl alarm disarm</span></span></code></pre></div>
</div>


<h3 id="restore-a-cluster-with-an-oversized-database">Restore a cluster with an oversized database</h3>
<p>The default Sensu backend configuration sets the maximum etcd database size to 4 GB.
If you suspect your etcd database exceeds 4 GB, run this command to confirm cluster size:</p>
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcdctl endpoint status</span></span></code></pre></div>
</div>


<p>The response will list the current cluster status and database size:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">https://backend01:2379, 88db026f7feb72b4, 3.5.0, 4.1GB, false, 144, 18619245
</span></span><span class="line"><span class="cl">https://backend02:2379, e98ad7a888d16bd6, 3.5.0, 4.1GB, true, 144, 18619245
</span></span><span class="line"><span class="cl">https://backend03:2379, bc4e39432cbb36d, 3.5.0, 4.1GB, false, 144, 18619245</span></span></code></pre></div>
</div>


<p>To restore an etcd cluster with a database size that exceeds 4 GB:</p>
<ol>
<li>
<p>Get the current revision number:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcdctl endpoint status --write-out<span class="o">=</span><span class="s2">&#34;json&#34;</span> <span class="p">|</span> egrep -o <span class="s1">&#39;&#34;revision&#34;:[0-9]*&#39;</span> <span class="p">|</span> egrep -o <span class="s1">&#39;[0-9].*&#39;</span></span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Compact to revision and substitute the current revision for <code>$rev</code>:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcdctl compact <span class="nv">$rev</span></span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Defragment to free up space:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcdctl defrag</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Confirm that the cluster is restored:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">etcdctl endpoint status</span></span></code></pre></div>
</div>

</p>
<p>The response should list the current cluster status and database size:
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">https://backend01:2379, 88db026f7feb72b4, 3.5.0, 1.0 MB, false, 144, 18619245
</span></span><span class="line"><span class="cl">https://backend02:2379, e98ad7a888d16bd6, 3.5.0, 1.0 MB, true, 144, 18619245
</span></span><span class="line"><span class="cl">https://backend03:2379, bc4e39432cbb36d, 3.5.0, 1.0 MB, false, 144, 18619245</span></span></code></pre></div>
</div>

</p>
</li>
</ol>
<h3 id="remove-and-redeploy-a-cluster">Remove and redeploy a cluster</h3>

<div class="notices protip" ><p><strong>PRO TIP</strong>: If you are using embedded or external etcd, use <a href="https://etcd.io/docs/latest/op-guide/recovery/">etcd snapshots</a> to keep a backup so that you can restore your Sensu resources if you have to redeploy your cluster.
For extra reassurance, take regular etcd snapshots and make regular backups with <a href="../../../sensuctl/back-up-recover/">sensuctl dump</a> in addition to etcd&rsquo;s running snapshots.<br><br>
If you wait until cluster nodes are failing, it may not be possible to make a backup.
For example, in a three-node cluster, if one node fails, you will still be able to make a backup.
If two nodes fail, the whole cluster will be down and you will not be able to create a snapshot or run sensuctl dump.<br><br>
Read <a href="../disaster-recovery/">Restore your Sensu configuration for disaster recovery</a> for backup instructions and best practices.</p>
</div>

<p>You may need to completely remove a cluster and redeploy it in cases such as:</p>
<ul>
<li>Failure to reach consensus after losing more than <code>(N-1)/2</code> cluster members</li>
<li>Etcd configuration issues</li>
<li>Etcd corruption, perhaps from disk filling</li>
<li>Unrecoverable hardware failure</li>
</ul>
<p>To remove and redeploy a cluster:</p>
<ol>
<li>
<p>Open a terminal window for each cluster member.</p>
</li>
<li>
<p>Stop each cluster member backend:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">systemctl stop sensu-backend</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Confirm that each backend stopped:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">systemctl status sensu-backend</span></span></code></pre></div>
</div>

</p>
<p>For each backend, the response should begin with the following lines:
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">â— sensu-backend.service - The Sensu Backend service.
</span></span><span class="line"><span class="cl">Loaded: loaded (/usr/lib/systemd/system/sensu-backend.service; disabled; vendor preset: disabled)
</span></span><span class="line"><span class="cl">Active: inactive (dead)</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Delete the etcd directories for each cluster member:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">rm -rf /var/lib/sensu/sensu-backend/etcd/</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Follow the <a href="../../deploy-sensu/cluster-sensu/#sensu-backend-configuration">Sensu backend configuration</a> instructions to reconfigure a new cluster.</p>
</li>
<li>
<p><a href="../../../observability-pipeline/observe-schedule/backend/#initialization">Initialize</a> a backend to specify admin credentials:
<div class="language" data-lang="shell">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sensu-backend init --interactive</span></span></code></pre></div>
</div>

</p>
<p>When you receive prompts for your username and password, replace <code>&lt;YOUR_USERNAME&gt;</code> and <code>&lt;YOUR_PASSWORD&gt;</code> with the administrator username and password you want to use for the cluster members:
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">Admin Username: &lt;YOUR_USERNAME&gt;
</span></span><span class="line"><span class="cl">Admin Password: &lt;YOUR_PASSWORD&gt;</span></span></code></pre></div>
</div>

</p>
</li>
<li>
<p>Restore your cluster from a snapshot or backup:</p>
<ul>
<li>Follow the <a href="https://etcd.io/docs/latest/op-guide/recovery/#restoring-a-cluster">etcd restore process</a> (for external etcd).</li>
<li>Use <a href="../../../sensuctl/back-up-recover/#restore-resources-from-backup">sensuctl create</a> (for external or embedded etcd).</li>
</ul>
</li>
</ol>
<h2 id="datastore-performance">Datastore performance</h2>
<p>In a default deployment, Sensu uses <a href="../../deploy-sensu/datastore/#use-default-event-storage">etcd datastore</a> for both configuration and state.
As the number of checks and entities in your Sensu installation increases, so does the volume of read and write requests to etcd database.</p>
<p>One trade-off in etcd&rsquo;s design is its sensitivity to disk and CPU latency.
When certain latency tolerances are regularly exceeded, failures will cascade.
Sensu will attempt to recover from these conditions when it can, but this may not be successful.</p>
<p>To maximize Sensu Go performance, we recommend that you:</p>
<ul>
<li>Follow our <a href="../../deploy-sensu/hardware-requirements/#backend-recommended-configuration">recommended backend hardware configuration</a>.</li>
<li>Implement <a href="https://etcd.io/docs/latest/tuning/#disk">documented etcd system tuning practices</a>.</li>
<li><a href="https://www.ibm.com/cloud/blog/using-fio-to-tell-whether-your-storage-is-fast-enough-for-etcd">Benchmark your etcd storage volume</a> to establish baseline IOPS for your system.</li>
<li><a href="../../deploy-sensu/datastore/#scale-event-storage">Scale event storage using PostgreSQL</a> with <a href="../../deploy-sensu/datastore/#round-robin-postgresql">round robin scheduling enabled</a> to reduce the overall volume of etcd transactions.</li>
</ul>
<p>As your Sensu deployments grow, preventing issues associated with poor datastore performance relies on ongoing collection and review of <a href="../../../api/other/metrics/">Sensu time-series performance metrics</a>.</p>
<h3 id="symptoms-of-poor-performance">Symptoms of poor performance</h3>
<p>At the Sensu backend&rsquo;s default &ldquo;warn&rdquo; log level, you may receive messages like these from your backend:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">{&#34;component&#34;:&#34;etcd&#34;,&#34;level&#34;:&#34;warning&#34;,&#34;msg&#34;:&#34;read-only range request \&#34;key:\\\&#34;/sensu.io/handlers/default/keepalive\\\&#34; limit:1 \&#34; with result \&#34;range_response_count:0 size:6\&#34; took too long (169.767546ms) to execute&#34;,&#34;pkg&#34;:&#34;etcdserver&#34;,&#34;time&#34;:&#34;...&#34;}</span></span></code></pre></div>
</div>


<p>The above message indicates that a database query (&ldquo;read-only range request&rdquo;) exceeded a 100-millisecond threshold hard-coded into etcd.
Messages like these are helpful because they can alert you to a trend, but these occasional warnings don&rsquo;t necessarily indicate a problem with Sensu.
For example, you may receive this message if you provision attached storage but do not mount it to the etcd data directory.</p>
<p>However, a trend of increasingly long-running database transactions will eventually lead to decreased reliability.
You may experience symptoms of these conditions as inconsistent check execution behavior or configuration updates that are not applied as expected.</p>
<p>As the <a href="https://etcd.io/docs/latest/tuning/#disk">etcd tuning documentation</a> states:</p>
<blockquote>
<p>An etcd cluster is very sensitive to disk latencies. Since etcd must persist proposals to its log, disk activity from other processes may cause long fsync latencies. [&hellip;] etcd may miss heartbeats, causing request timeouts and temporary leader loss.</p>
</blockquote>
<p>When Sensu&rsquo;s etcd component doesn&rsquo;t recieve sufficient CPU cycles or its file system can&rsquo;t sustain a sufficient number of IOPS, transactions will begin to timeout, leading to cascading failures.</p>
<p>A message like this indicates that syncing the etcd database to disk exceeded another threshold:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">{&#34;component&#34;:&#34;etcd&#34;,&#34;level&#34;:&#34;warning&#34;,&#34;msg&#34;:&#34;sync duration of 1.031759056s, expected less than 1s&#34;,&#34;pkg&#34;:&#34;wal&#34;,&#34;time&#34;:&#34;...&#34;}</span></span></code></pre></div>
</div>


<p>These subsequent &ldquo;retrying of unary invoker failed&rdquo; messages indicate failing requests to etcd:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">{&#34;level&#34;:&#34;warn&#34;,&#34;ts&#34;:&#34;...&#34;,&#34;caller&#34;:&#34;clientv3/retry_interceptor.go:62&#34;,&#34;msg&#34;:&#34;retrying of unary invoker failed&#34;,&#34;target&#34;:&#34;endpoint://client-6f6bfc7e-cf31-4498-a564-78d6b7b3a44e/localhost:2379&#34;,&#34;attempt&#34;:0,&#34;error&#34;:&#34;rpc error: code = Canceled desc = context canceled&#34;}</span></span></code></pre></div>
</div>


<p>On busy systems you may also receive output like &ldquo;message repeated 5 times&rdquo; indicating that failing requests were retried multiple times.</p>
<p>In many cases, the backend service detects and attempts to recover from errors like these, so you may receive a message like this:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">{&#34;component&#34;:&#34;backend&#34;,&#34;error&#34;:&#34;error from keepalived: internal error: etcdserver: request timed out&#34;,&#34;level&#34;:&#34;error&#34;,&#34;msg&#34;:&#34;backend stopped working and is restarting&#34;,&#34;time&#34;:&#34;...&#34;}</span></span></code></pre></div>
</div>


<p>This may result in a crash loop that is difficult to recover from.
You may observe that the Sensu backend process continues running but is not listening for connections on the agent WebSocket, API, or web UI ports.
The backend will stop listening on those ports when the etcd database is unavailable.</p>
<h2 id="check-execution-errors">Check execution errors</h2>
<p>The Sensu backend sends check requests to all matching subscriptions.
If an entity and a check have multiple matching subscriptions, the entity will receive a separate check request for each matching subscription.
The entity could receive both check requests almost simultaneously.</p>
<p>As a result, you may see one or more of the following error messages:</p>
<div class="language" data-lang="text">
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-text" data-lang="text"><span class="line"><span class="cl">{&#34;component&#34;:&#34;agent&#34;,&#34;error&#34;:&#34;check execution still in progress: &lt;CHECK_NAME&gt;&#34;,&#34;level&#34;:&#34;error&#34;,&#34;msg&#34;:&#34;error handling message&#34;,&#34;time&#34;:&#34;...&#34;}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">{&#34;component&#34;:&#34;agent&#34;,&#34;error&#34;:&#34;check request is older than a previously received check request&#34;,&#34;level&#34;:&#34;error&#34;,&#34;msg&#34;:&#34;error handling message&#34;,&#34;time&#34;:&#34;...&#34;}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">{&#34;component&#34;:&#34;agent&#34;,&#34;warning&#34;:&#34;check request has already been received - agent and check may have multiple matching subscriptions&#34;,&#34;level&#34;:&#34;warn&#34;,&#34;msg&#34;:&#34;error handling message&#34;,&#34;time&#34;:&#34;...&#34;}</span></span></code></pre></div>
</div>


<p>Entities may execute the duplicate check requests quickly enough to prevent these errors.
In these cases, check <code>history</code> and features that rely on it, like flap detection, may behave in unexpected ways.</p>
<p>If you see any of the check execution errors listed above, review the check subscriptions against your entities for multiple matching subscriptions.
To prevent the problem, make sure that your checks and entities share only a single <a href="../../../observability-pipeline/observe-schedule/subscriptions/">subscription</a>.</p>
<h2 id="web-ui-errors">Web UI errors</h2>
<p>If the web UI experiences an error, you may see the following message in the web UI:</p>
<figure><a href="/images/go/troubleshoot/web_ui_error.png" target="_blank"><img src="/images/go/troubleshoot/web_ui_error.png"
         alt="Web UI error message with options for clearing state and reloading"/></a>
</figure>

<p>The error message indicates something unexpected happened, such as the server failing to return the correct response.
Clicking <strong>RELOAD</strong> can resolve most common problems.</p>
<p>More rarely, the error can result from issues like a corrupt cache or a bad persistent state.
In these cases, clicking <strong>CLEAR STATE &amp; RELOAD</strong> usually resolves the issue.</p>
<h3 id="investigate-a-web-ui-error">Investigate a web UI error</h3>
<p>To get more information about a web UI error, open your web browser&rsquo;s developer console to view the error messages your browser logged.</p>
<p>Use these keyboard shortcuts to open the developer console on different operating systems:</p>
<table>
<thead>
<tr>
<th>Operating system</th>
<th>Keyboard shortcut</th>
</tr>
</thead>
<tbody>
<tr>
<td>Linux</td>
<td>Press <code>Control</code> + <code>Shift</code> + <code>J</code></td>
</tr>
<tr>
<td>macOS</td>
<td>Press <code>Command</code> + <code>Option</code> + <code>J</code></td>
</tr>
<tr>
<td>Windows</td>
<td>Press <code>Control</code> + <code>Shift</code> + <code>J</code></td>
</tr>
</tbody>
</table>
<p>You can also open the developer console from the browser&rsquo;s menu:</p>
<table>
<thead>
<tr>
<th>Browser</th>
<th>Menu path</th>
</tr>
</thead>
<tbody>
<tr>
<td>Chrome</td>
<td>Click the â‹® menu icon, then <code>More Tools</code> &gt; <code>Developer Tools</code></td>
</tr>
<tr>
<td>Edge</td>
<td><code>Tools</code> &gt; <code>Developer</code> &gt; <code>JavaScript Console</code></td>
</tr>
<tr>
<td>Firefox</td>
<td>Click the â˜° menu icon, then <code>More Tools</code> &gt; <code>Developer Console</code></td>
</tr>
<tr>
<td>Safari</td>
<td><code>Develop</code> &gt; <code>Show JavaScript Console</code><br><br>If you do not see the <code>Develop</code> option, open <code>Safari</code> &gt; <code>Preferences</code> &gt; <code>Advanced</code> and select the checkbox for <code>Show Develop menu in menu bar</code></td>
</tr>
</tbody>
</table>
<p>Depending on your browser, the developer console may open in a separate browser window or within the current browser window as shown in this example:</p>
<figure><a href="/images/go/troubleshoot/web_ui_developer_console.png" target="_blank"><img src="/images/go/troubleshoot/web_ui_developer_console.png"
         alt="Developer console open in a Chrome browswer window displaying the web UI error message with options for clearing state and reloading."/></a>
</figure>

<p>The developer console lists all errors for the current page.
Click an error for more information about it.</p>
<p>The developer console is part of web developer tools that are included in all modern browsers.
These tools may have different names in different browsers (for example, DevTools in Chrome and Developer Tools in Firefox), but they offer similar features.
Read the documentation for your browser to learn more about the web developer tools your browser provides.</p>


      <script async type="text/javascript" src="/js/clip.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
      
      




    </div>
  </article>

  <section id="sidebar">
    <aside id="contribute">
  <div id="page-rating">
    <h4>Is this page helpful?</h4>
    <fieldset class="rating">
      <input type="radio" id="heart5" name="rating" value="5">
      <label for="heart5" title="Excellent"></label>
      <input type="radio" id="heart4" name="rating" value="4">
      <label for="heart4" title="Good"></label>
      <input type="radio" id="heart3" name="rating" value="3">
      <label for="heart3" title="OK"></label>
      <input type="radio" id="heart2" name="rating" value="2">
      <label for="heart2" title="Poor"></label>
      <input type="radio" id="heart1" name="rating" value="1">
      <label for="heart1" title="Unusable"></label>
    </fieldset>
  </div>

  <div>
    <h4>Contribute:</h4>
    <ul>
      <li>
        <a href="https://github.com/sensu/sensu-docs/edit/main/content/sensu-go/6.8/operations/maintain-sensu/troubleshoot.md" target="_blank">
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
          Edit this page
        </a>
      </li>
      <li>
        <a href="https://github.com/sensu/sensu-docs/issues/new/choose" target="_blank">
          <i class="fa fa-bug" aria-hidden="true"></i>
          Report a docs issue
        </a>
      </li>
      <li>
        <a href="https://github.com/sensu/sensu-docs/blob/main/CONTRIBUTING.md" target="_blank">
          <i class="fa fa-info-circle" aria-hidden="true"></i>
          Read the contributing guide
        </a>
      </li>
    </ul>
  </div>
</aside>

    <aside id="toc">
  
    <div>
      <h4>On this page:</h4>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#service-logging">Service logging</a></li>
    <li><a href="#sensu-backend-startup-errors">Sensu backend startup errors</a></li>
    <li><a href="#commonname-deprecation-in-go-115">CommonName deprecation in Go 1.15</a></li>
    <li><a href="#permission-issues">Permission issues</a></li>
    <li><a href="#handlers-and-event-filters">Handlers and event filters</a></li>
    <li><a href="#dynamic-runtime-assets">Dynamic runtime assets</a></li>
    <li><a href="#etcd-clusters">Etcd clusters</a></li>
    <li><a href="#datastore-performance">Datastore performance</a></li>
    <li><a href="#check-execution-errors">Check execution errors</a></li>
    <li><a href="#web-ui-errors">Web UI errors</a></li>
  </ul>
</nav>
    </div>
  
</aside>

  </section>
</main>

<section id="footer">
  <div class="footer--content">

    <div class="footer--content--center">

      <div class="register">
        <img alt="Sensu Go Lizy mascot image" title="Register your Sensu installation" src="/images/lizy-logo-a.png">
        <h3>Register your Sensu installation &mdash; Get rewards!</h3>
        <p>Take 2 minutes to <a href="https://sensu.io/register"><b><u>register your installation</u></b></a> and let Sensu help you along your journey.<br>
        We'll send you a free reward when you add your first 10 checks and connect at least 10 agents!</p>
      </div>
    </div>

    <div class="footer--content--left">
      <h3>About Sensu</h3>
      <p>The Sensu monitoring event pipeline empowers businesses to automate their monitoring workflows and gain deep visibility into their multi-cloud infrastructure, from Kubernetes to bare metal. Companies like Sony, Box.com, and Activision rely on Sensu to help deliver value faster, at scale.</p>

      <div class="footer--navigation">
        <div>
          <h3>Navigation</h3>
          <ul>
            <li><a href="https://sensu.io/products">Products</a></li>
            <li>
              <ul>
                <li><a href="https://sensu.io/products/core">Sensu Core</a></li>
                <li><a href="https://sensu.io/products/enterprise">Sensu Enterprise</a></li>
              </ul>
            </li>
            <li><a href="https://sensu.io/solutions">Solutions</a></li>
            <li>
              <ul>
                <li><a href="https://sensu.io/solutions/container-monitoring">For Containers</a></li>
                <li><a href="https://sensu.io/solutions/cloud-monitoring">For Cloud</a></li>
                <li><a href="https://sensu.io/solutions/nagios-alternative">For Nagios</a></li>
              </ul>
            </li>
            <li><a href="https://sensu.io/pricing">Pricing</a></li>
          </ul>
        </div>
        <div>
          <h3>Resources</h3>
          <ul>
            <li><a href="https://sensu.io/community">Community</a></li>
            <li><a href="https://docs.sensu.io">Documentation</a></li>
            <li><a href="https://sensu.io/products/downloads">Downloads</a></li>
            <li><a href="https://account.sensu.io/">Support</a></li>
          </ul>
        </div>
        <div>
          <h3>Community</h3>
          <ul>
            <li><a href="https://sensu.io/about">About</a></li>
            <li><a href="https://blog.sensu.io/" target="_blank">Blog</a></li>
            <li><a href="https://sensu.io/customers">Customers</a></li>
            <li><a href="https://sensu.io/contact">Contact</a></li>
            <li><a href="https://sensu.io/sales">Sales</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer--content--right">
      <h3>Get In Touch</h3>
      <p>Our team is here to help. Use our <a href="https://sensu.io/contact"><b><u>contact form</b></u></a> or reach out on GitHub, Slack, or Twitter.</p>
      <ul class="inline">
        <li><a href="https://github.com/sensu" target="_blank"><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-920.000000, -4175.000000)">
              <g transform="translate(0.000000, 4008.000000)" fill="#2C3458">
                  <path d="M944,179.302423 C944,184.73279 940.5625,189.346199 935.796875,190.980114 C935.1875,191.092246 934.984375,190.707795 934.984375,190.387419 L934.984375,187.007457 C934.984375,185.854105 934.609375,185.117241 934.171875,184.73279 C936.84375,184.428433 939.65625,183.387212 939.65625,178.661672 C939.65625,177.316095 939.1875,176.210799 938.421875,175.361803 C938.546875,175.041428 938.953125,173.791963 938.296875,172.093972 C937.296875,171.773597 935,173.359456 935,173.359456 C934.046875,173.087137 933.015625,172.942968 932,172.942968 C930.984375,172.942968 929.953125,173.087137 929,173.359456 C929,173.359456 926.703125,171.773597 925.6875,172.093972 C925.046875,173.791963 925.453125,175.041428 925.578125,175.361803 C924.8125,176.210799 924.34375,177.316095 924.34375,178.661672 C924.34375,183.371194 927.140625,184.428433 929.8125,184.73279 C929.46875,185.053166 929.15625,185.581785 929.046875,186.382724 C928.359375,186.7031 926.609375,187.247739 925.5625,185.357522 C924.90625,184.188151 923.71875,184.092039 923.71875,184.092039 C922.546875,184.07602 923.640625,184.844921 923.640625,184.844921 C924.421875,185.213353 924.96875,186.639025 924.96875,186.639025 C925.671875,188.833598 929.015625,188.096734 929.015625,188.096734 C929.015625,189.121936 929.03125,190.099081 929.03125,190.387419 C929.03125,190.707795 928.8125,191.092246 928.203125,190.980114 C923.4375,189.346199 920,184.73279 920,179.302423 C920,172.51046 925.375,167 932,167 C938.625,167 944,172.51046 944,179.302423 Z"></path>
              </g>
          </g>
      </svg>
      </svg></a></li>
        <li><a href="https://slack.sensu.io/" target="_blank"><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

          <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-970.000000, -4174.000000)">
              <g transform="translate(0.000000, 4008.000000)" fill="#2C3458">
                  <path d="M983.558646,174.858722 C981.981445,175.389656 980.426,175.913367 978.850551,176.443791 C979.381566,178.019593 979.905426,179.574164 980.436149,181.149018 C982.013351,180.618084 983.568868,180.094373 985.144317,179.56395 C984.613229,177.988147 984.089442,176.433576 983.558646,174.858722 M987.341608,173.597015 C987.875471,175.177268 988.398382,176.725054 988.927352,178.290642 C989.756037,178.018937 990.556758,177.747669 991.363173,177.494204 C992.397094,177.169165 993.417872,177.616194 993.827396,178.558626 C994.288246,179.619546 993.796293,180.824125 992.708489,181.235696 C991.977422,181.512289 991.230584,181.747514 990.490901,182.001563 C990.405258,182.031112 990.320418,182.063069 990.205863,182.104583 C990.270843,182.306246 990.332611,182.502072 990.396862,182.697023 C990.599104,183.310913 990.820184,183.919332 991.000743,184.53957 C991.250662,185.398097 990.877426,186.300984 990.115766,186.758301 C989.350602,187.21766 988.359685,187.148348 987.740107,186.522857 C987.48201,186.262315 987.291814,185.904516 987.158276,185.557297 C986.881926,184.838635 986.664132,184.097501 986.41465,183.342724 C984.842632,183.872564 983.293175,184.39467 981.715316,184.926334 C981.780881,185.135657 981.839875,185.33214 981.903906,185.526945 C982.108631,186.149518 982.328324,186.767567 982.518155,187.394517 C982.876862,188.579689 982.220339,189.689565 981.01893,189.955652 C980.084524,190.162568 979.102077,189.628716 978.759651,188.702773 C978.491625,187.977983 978.253679,187.242175 978.0023,186.511256 C977.970101,186.417502 977.937538,186.32382 977.894972,186.200955 C977.176317,186.441068 976.471168,186.676877 975.765801,186.912175 C975.373216,187.043066 974.980924,187.128722 974.558915,187.042774 C973.695331,186.866793 973.028587,186.13799 972.956744,185.262317 C972.879935,184.327035 973.388828,183.514036 974.25964,183.211249 C974.963547,182.966612 975.674171,182.741237 976.381583,182.506669 C976.466496,182.478579 976.55024,182.446841 976.652603,182.410361 C976.123997,180.844627 975.601086,179.295966 975.0681,177.717318 C974.51102,177.900157 973.970732,178.081902 973.427451,178.254162 C973.037422,178.37783 972.650459,178.539437 972.249697,178.595763 C971.209351,178.742049 970.294513,178.107584 970.060948,177.128745 C969.815775,176.101533 970.325324,175.12138 971.318796,174.755556 C972.03548,174.491658 972.763335,174.258184 973.486153,174.010993 C973.579827,173.978964 973.673355,173.946496 973.79397,173.904836 C973.550914,173.175814 973.313845,172.461675 973.074512,171.74834 C972.9455,171.363911 972.86818,170.9797 972.952144,170.56864 C973.131023,169.693697 973.864792,169.035155 974.761961,168.966718 C975.677968,168.896895 976.483872,169.408859 976.785849,170.272931 C977.019633,170.941761 977.231952,171.618032 977.454565,172.290583 C977.494064,172.4098 977.537798,172.527559 977.585329,172.662317 C979.165889,172.133353 980.72586,171.61132 982.311677,171.080605 C982.104542,170.467809 981.897408,169.876609 981.705971,169.280375 C981.586962,168.909882 981.437652,168.53771 981.396401,168.156053 C981.286591,167.140296 981.9326,166.296142 982.949216,166.053402 C983.895304,165.827516 984.871253,166.334373 985.22244,167.268633 C985.503974,168.017355 985.744548,168.781398 986.00447,169.538291 C986.033236,169.622196 986.069012,169.703693 986.108439,169.804013 C986.874479,169.548505 987.622777,169.293362 988.374726,169.049601 C989.361919,168.729596 990.330567,169.104759 990.808575,169.982548 C991.399095,171.06718 990.889838,172.393822 989.71829,172.800431 C989.014237,173.044776 988.304123,173.27183 987.596931,173.507055 C987.520195,173.532518 987.444409,173.560608 987.341608,173.597015"></path>
              </g>
          </g>
      </svg></a></li>
        <li><a href="https://twitter.com/sensu" target="_blank"><svg width="24px" height="20px" viewBox="0 0 24 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-1017.000000, -4176.000000)">
                <g transform="translate(0.000000, 4008.000000)" fill="#2C3458">
                    <path d="M1038.54405,172.982073 C1038.55358,173.198827 1038.55676,173.41558 1038.55676,173.633963 C1038.55676,180.306063 1033.60511,188 1024.54749,188 C1021.76566,188 1019.17936,187.16558 1017,185.729791 C1017.38469,185.778683 1017.77732,185.79987 1018.17473,185.79987 C1020.48126,185.79987 1022.60498,184.994785 1024.28997,183.638853 C1022.13604,183.601369 1020.31594,182.139505 1019.68963,180.134941 C1019.99006,180.195241 1020.30004,180.226206 1020.61796,180.226206 C1021.06464,180.226206 1021.49861,180.162647 1021.91509,180.048566 C1019.66101,179.584094 1017.96331,177.543677 1017.96331,175.099087 L1017.96331,175.035528 C1018.62777,175.410365 1019.3876,175.640156 1020.19513,175.664602 C1018.87257,174.758475 1018.00305,173.215124 1018.00305,171.463168 C1018.00305,170.537484 1018.24467,169.672099 1018.67068,168.924055 C1021.09803,171.979791 1024.72871,173.987614 1028.82037,174.201108 C1028.73612,173.83116 1028.6932,173.443286 1028.6932,173.048892 C1028.6932,170.26043 1030.89641,168 1033.61624,168 C1035.03259,168 1036.31223,168.614407 1037.20877,169.595502 C1038.33263,169.36897 1039.38495,168.948501 1040.33872,168.369948 C1039.96834,169.54824 1039.18943,170.537484 1038.17208,171.161669 C1039.16876,171.044329 1040.11776,170.770535 1041,170.367992 C1040.33872,171.381682 1039.50576,172.269883 1038.54405,172.982073"></path>
                </g>
            </g>
        </svg>
      </a></li>
      </ul>

      <h3>Join Our Community</h3>
      <p>Become a member of the Sensu community and get access to the community Slack channel and our weekly newsletter containing updates about Sensu.</p>
      <form action="https://share.hsforms.com/10Dzh-ahWTaulALvp3xFfmQ2mwx3" target="_blank">
        <input type="email" id="EMAIL" name="email" placeholder="Your Email">
        <button type="submit">Sign Up!</button>
      </form>
    </div>
  </div>
  <footer>
    Made with <a href="https://twitter.com/hashtag/monitoringlove" target="_blank">#monitoringlove</a> by Sensu, Inc. &copy; 2013-2023 &mdash; <a href="https://sensu.io/privacy-policy" target="_blank" rel="noopener noreferrer">Privacy Policy</a>
  </footer>
</section>


<script>
$( document ).ready(function() {
  applyTipBoxes();
});

function boldFirstWord(element) {
  newElement = element.html().replace(/(^\w+)/, '<strong>$1</strong>');
  element.html(newElement);
}

function boldFirstTwoWords(element) {
  newElement = element.html().replace(/(^\w+ \w+)/, '<strong>$1</strong>');
  element.html(newElement);
}

function applyTipBoxes() {
  $('em').wrap(function() {
    if ($(this).text().includes('NOTE:')) {
      boldFirstWord($(this));
      return '<div class="alert-note"></div>';
    } else if ($(this).text().includes('WARNING:')) {
      boldFirstWord($(this));
      return '<div class="alert-warning"></div>';
    } else if ($(this).text().includes('PRO TIP:')) {
      boldFirstTwoWords($(this));
      return '<div class="alert-tip"></div>';
    } else if ($(this).text().includes('IMPORTANT:')) {
      boldFirstWord($(this));
      return '<div class="alert-important"></div>';
    }
  });
}
</script>

<script>
  
    var base_url = '';
    var repo_id  = 'sensu\/sensu-docs';
  
</script>

<script src="/javascripts/application.js"></script>
<script src="/js/toc.js"></script>


<script>
  /* Add headers to scrollspy */
  var headers   = document.getElementsByTagName("h2");
  var scrollspy = document.getElementById('scrollspy');

  if(scrollspy) {
    if(headers.length > 0) {
      for(var i = 0; i < headers.length; i++) {
        var li = document.createElement("li");
        li.setAttribute("class", "anchor");

        var a  = document.createElement("a");
        a.setAttribute("href", "#" + headers[i].id);
        a.setAttribute("title", headers[i].innerHTML);
        a.innerHTML = headers[i].innerHTML;

        li.appendChild(a)
        scrollspy.appendChild(li);
      }
    } else {
      scrollspy.parentElement.removeChild(scrollspy)
    }
  }

  /* Add permanent link next to the headers */
  var headers = document.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]");

  for(var i = 0; i < headers.length; i++) {
    var a = document.createElement("a");
    a.setAttribute("href", "#" + headers[i].id);
    a.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.3 9.2" width="18.3px"><path d="M-1.8-6.4h22v22h-22v-22z" fill="none"/><path d="M1.7 4.6C1.7 3 3 1.7 4.6 1.7h3.7V0H4.6C2.1 0 0 2.1 0 4.6s2.1 4.6 4.6 4.6h3.7V7.4H4.6C3 7.4 1.7 6.2 1.7 4.6zm3.8.9h7.3V3.7H5.5v1.8zM13.8 0h-3.7v1.7h3.7c1.6 0 2.8 1.3 2.8 2.8s-1.3 2.8-2.8 2.8h-3.7V9h3.7c2.5 0 4.6-2.1 4.6-4.6S16.3 0 13.8 0z"/></svg>';
    headers[i].appendChild(a);
  }
</script>

<script type="text/javascript" src="//script.crazyegg.com/pages/scripts/0087/0389.js" async="async"></script>

  <script>
    (function(i,s,o,g,r,a,m){
      i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||
      []).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;
      m.parentNode.insertBefore(a,m)
    })(window, document,
      'script', '//www.google-analytics.com/analytics.js', 'ga');
     
    ga('create', 'UA-39138312-17', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
     
    var buttons = document.querySelectorAll('a');
    Array.prototype.map.call(buttons, function(item) {
      if (item.host != document.location.host) {
        item.addEventListener('click', function() {
          var action = item.getAttribute('data-action') || 'follow';
          ga('send', 'event', 'outbound', action, item.href);
        });
      }
    });
     
    var searchInputs = document.getElementsByClassName('search');
    for (var i=0; i < searchInputs.length; i++) {
      searchInputs[i].addEventListener('blur', function() {
        if (this.value) {
          var path = document.location.pathname;
          ga('send', 'pageview', path + '?q=' + this.value);
        }
      });
    }

    var dropdowns = document.getElementsByClassName('dropdown');
    for (var i=0; i < dropdowns.length; i++) {
      dropdowns[i].addEventListener('click', function(e) {
        e.stopPropagation();
        e.currentTarget.classList.toggle('open');
      });
    }
    document.addEventListener('click', function(e) {
      for (var i=0; i < dropdowns.length; i++) {
        dropdowns[i].classList.remove('open');
      };
    });

    
    var languages = {
      javascript: "JavaScript",
      json: "JSON",
      yml: "YML",
    };
    var toggles = document.getElementsByClassName('language-toggle');
    for (var i=0; i < toggles.length; i++) {
      var children = Array.prototype.slice.call(toggles[i].querySelectorAll('.language'));
      var langs = children.map(function(c) { return c.dataset.lang; });

      
      langs.forEach(function(lang) {
        var el = document.createElement('span');
        el.setAttribute('role', 'tab');
        el.setAttribute('tabindex', '0');
        el.setAttribute('data-lang', lang);
        el.innerText = languages[lang] || lang;
        el.addEventListener('click', function(e) {
          var elOffset = e.currentTarget.getBoundingClientRect().top;
          setLanguage(e.currentTarget.dataset.lang);
          e.currentTarget.scrollIntoView();
          window.scrollBy(0, -elOffset);
        });
        toggles[i].querySelector('.tabs').appendChild(el);
      });

      
      toggles[i].querySelector('.languages').children[0].classList.add('active');
    }

    
    function setLanguage(lang) {
      
      localStorage.setItem('lang', lang);

      
      var tabLists = Array.prototype.slice.call(document.querySelectorAll('.language-toggle .tabs'));
      
      tabLists.forEach(function(tabList) {
        var activeTab = tabList.querySelector('.active');
        var selectedTab = tabList.querySelector('[data-lang="' + lang + '"]');
        var allTabs = Array.prototype.slice.call(tabList.children);
        allTabs.forEach(function(t) { return t.classList.remove('active'); });
        if (selectedTab) {
          selectedTab.classList.add('active');
        } else if (activeTab) {
          activeTab.classList.add('active');
        } else {
          allTabs[0].classList.add('active');
        }
      });

      
      var selector = '.language-toggle .language[data-lang="' + lang + '"]';
      var langBlockChildren = document.querySelectorAll(selector);
      var langBlocks = Array.prototype.slice.call(langBlockChildren).map(function(el) { return el.closest('.languages'); });
      
      langBlocks.forEach(function(el) {
        Array.prototype.slice.call(el.children).forEach(function(c) {
          return c.classList.remove('active');
        })
      });
      
      langBlockChildren.forEach(function(el) { return el.classList.add('active'); });
    }
    
    setLanguage(localStorage.getItem('lang'));
  </script>



<script>
  !function(e,t,n,s,u,a){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments);
  },s.version='1.1',s.queue=[],u=t.createElement(n),u.async=!0,u.src='//static.ads-twitter.com/uwt.js',
  a=t.getElementsByTagName(n)[0],a.parentNode.insertBefore(u,a))}(window,document,'script');
  twq('init','o1043');
  twq('track','PageView');
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
  var docsearchOptions = {
    appId: 'S633WESKWC',
    apiKey: '2aaea336f8b58143b17119944385071f',
    indexName: 'sensu',
    inputSelector: '#desktop-search',
    algoliaOptions: {
      facetFilters: [
        [
          
            'tags:sensu-go'
          
        ],
        [
          
            'version:6.8'
          
        ]
      ]
    },
    debug: false
  };

  if (document.querySelector(docsearchOptions.inputSelector)) {
    docsearch(docsearchOptions);
  }

  docsearchOptions.inputSelector = '#mobile-search';
  if (document.querySelector(docsearchOptions.inputSelector)) {
    docsearch(docsearchOptions);
  }
</script>

</body>
</html>
